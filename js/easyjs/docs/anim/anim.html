<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>anim - easy.js docs</title>
<link rel="stylesheet" href="../assets/style.css" />
</head>
<body>
<div class="slidebar">
    <div class="top_box">
        <h1 class="logo">easy</h1>
        <h2 class="sub_logo">.js</h2>
    </div>

    <h3 class="page_title">Docs<span class="ver">Version : 0.8.0</span></h3>
    
        <ul class="menu_left">
        <li><a href="../index.html">速查表</a></li>
        <li><a href="../easy/index.html">种子</a></li>
        <li><a href="../lang/index.html">语言扩展</a></li>
        <li><a href="../support/index.html">特征嗅探</a></li>
        <li><a href="../data/index.html">数据存储</a></li>
        <li><a href="../selector/index.html">选择器</a></li>
        <li><a href="../node/index.html">节点</a></li>
        <li><a href="../attr/index.html">属性</a></li>
        <li><a href="../css/index.html">样式</a></li>        
        <li><a href="../event/index.html">事件</a></li>
        <li><a href="../promise/index.html">异步回调</a></li>
        <li class="current"><a href="index.html">动画</a></li>
        <li><a href="../ajax/index.html">数据交互</a></li>
    </ul>
</div>

<div class="content">
    <div class="caption"><h2>anim( <span>options</span> )</h2><span class="type prototype">原型方法</span><span class="file">Define in : anim.js</span></div>
    <div class="mod_desc">
        <p>动画模块的基础方法，自定义的动画效果都是通过该方法实现。其他预定义的动画效果 show、hide、slideDown、slideUp、fadeIn、fadeOut 都是通过该基础方法实现的。</p>
    </div>
    
    <div class="params_box">
        <h5>参数</h5>
        <ul class="params_list">
            <li>
                <dl>
                    <dt>options</dt>
                    <dd>Object</dd>
                </dl>
                <div class="params_desc">
                    <span class="type required">必需</span>
                    <p>该参数支持简写形式和多选可配置形式。<br />
                    简单的动画，可以直接用 CSS 属性和属性值以 key/value 的形式传参( 有单位的属性值一定要带单位 )，属性名就是需要实现的动画效果，属性值就是动画的终点值。<br/>
                    如果要自定义动画初始值、时间、缓动效果和动画完成的回调就可以使用多选可配置形式的参数。</p>
                </div>
            </li>
        </ul>
    </div>
    
    <div class="article_box">
        <p>下表列出多选可配置形式的参数的详细说明。</p>
    </div>
    
    <table class="props_tb">
        <colgroup>
            <col style="width:100px" />
            <col style="width:120px" />
            <col style="width:450px" />
        </colgroup>
        <thead>
            <tr class="even">
                <th>参数</th>
                <th>数据类型</th>
                <th>说明</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><b class="name">complete</b></td>
                <td><span class="type">Function</span></td>
                <td class="t_l">
                    <p>动画完成时执行的回调函数，该回调函数的 this 指向动画元素。</p>
                </td>
            </tr>
            <tr class="even">
                <td><b class="name">duration</b></td>
                <td><span class="type">Number</span></td>
                <td class="t_l">
                    <p>完成动画所需的时间，默认的时间是 400ms。只接受数值类型的属性值，单位是 ms。</p>
                </td>
            </tr>
            <tr>
                <td><b class="name">easing</b></td>
                <td><span class="type">String</span></td>
                <td class="t_l">
                    <p>缓动效果的名称，支持的缓动效果有：</p>
                    <p>linear( 匀速运动 ), easeIn, easeOut, easeBoth, easeInStrong, easeOutStrong, easeBothStrong, easeOutQuart, easeInOutExpo, easeOutExpo, swing, swingFrom, swingTo, backIn, backOut, bounce.</p>
                    <p>默认的缓动效果是 swing。</p>
                    <p>如果上面这么多缓动效果都不能满足你的需求，还可以对 E.easing 对象进行扩展，这样就可以支持自定义的缓动效果，easy.js 支持的是单个参数的缓动函数。</p>
                </td>
            </tr>
            <tr class="even">
                <td><b class="name">from</b></td>
                <td><span class="type">Object</span></td>
                <td class="t_l">
                    <p>动画开始时的初始样式，以 key/value 的形式传参( 有单位的属性值一定要带单位 )，属性名就是需要实现的动画效果，属性值就是动画的初始值。</p>
                    <p>如果无该参数，动画模块会获取动画元素的默认的计算样式，有该参数，则先设置初始样式，这在某些场景下会比较有用。</p>
                    <p>该参数还有一个很大的用处，如设置动画元素的 top 为 50%，但是在某些浏览器中获取到的默认样式却是精确的以 px 为单位的值。初始样式的单位是 px 而结束样式的单位是 %，这样进行动画必然会出错。为了确保单位相同，可以在动画开始时强制设置和结束样式相同的单位值。</p>
                    <p>from 设置的属性名必须和 to 设置的属性名相同，如果不同则会忽略掉。</p>
                </td>
            </tr>
            <tr>
                <td><b class="name">reverse</b></td>
                <td><span class="type">Boolean</span></td>
                <td class="t_l">
                    <p>是否进行反向动画，反向动画就是当动画运行到终点值的时候，又反过来运行动画到开始时的状态。默认为 false。</p>
                </td>
            </tr>
            <tr class="even">
                <td><b class="name">to</b></td>
                <td><span class="type">Object</span></td>
                <td class="t_l">
                    <p>动画结束时的 CSS 属性和属性值，以 key/value 的形式传参( 有单位的属性值一定要带单位 )，属性名就是需要实现的动画效果，属性值就是动画的结束值。</p>
                    <p>该参数也接受 += 和 -= 这样的传参，这样就可以完成累加或累减的动画效果。</p>
                </td>
            </tr>            
        </tbody>
    </table>    
    
    <div class="returns_box">
        <h5>返回值</h5>
        <ul class="returns_list">
            <li>    
                <h6>easyJS Object</h6>
                <p>返回 easyJS Object 自身，便于链式调用。</p>
            </li>            
        </ul>
    </div>
    
    <div class="example_box">
        <h5>例子1</h5>
        <p>对 div 元素的宽度值进行动画。</p>
        <div class="anim_box">
            <div id="box1">box1</div>
        </div>        
        <div class="code_box">
            <pre>E( '#box1' ).anim({ width : '0px' });</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo1" class="btn">运行</a></p>        
    </div>    

    <div class="example_box">
        <h5>例子2</h5>
        <p>对 div 元素的高度值进行动画，并允许反向动画。</p>
        <div class="anim_box">
            <div id="box2">box2</div>
        </div>        
        <div class="code_box">
            <pre>E( '#box2' ).anim({ 
    to : { height : '0px' },
    reverse : true
});</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo2" class="btn">运行</a></p>        
    </div>    
    
    <div class="example_box">
        <h5>例子3</h5>
        <p>对 div 元素的 left 值进行动画。</p>
        <div class="anim_box">
            <div id="box3">box3</div>
        </div>        
        <div class="code_box">
            <pre>E( '#box3' ).anim({ 
    to : { left : '570px' },
    easing : 'bounce',
    duration : 800
});</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo3" class="btn">运行</a></p>        
    </div>    
    
    <div class="example_box">
        <h5>例子4</h5>
        <p>对 div 元素的背景颜色、边框颜色、文本颜色多个属性值进行动画。</p>
        <div class="anim_box">
            <div id="box4" style="border-width:5px;">box4</div>
        </div>        
        <div class="code_box">
            <pre>E( '#box4').anim({
    to : {
        backgroundColor : '#028fc4',
        color : '#000',
        borderTopColor : '#2c2c2c',
        borderRightColor : '#2c2c2c',
        borderBottomColor : '#2c2c2c',
        borderLeftColor : '#2c2c2c' 
    },
    duration : 2000
});</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo4" class="btn">运行</a></p>        
    </div>    
    
    <div class="example_box">
        <h5>例子5</h5>
        <p>对 div 元素的背景图片进行动画。</p>
        <div class="anim_box">
            <div id="box5" style="background:url(demo/bg.png) no-repeat -240px -240px">box5</div>
        </div>        
        <div class="code_box">
            <pre>E( '#box5' ).anim({
    to : { backgroundPosition : '-10px -10px' }, 
    duration : 6000, 
    easing : 'easeOut' 
});</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo5" class="btn">运行</a></p>        
    </div>    
    
    <div class="example_box">
        <h5>例子6</h5>
        <p>对 div 元素的 borderRadius 值进行动画。</p>
        <div class="anim_box">
            <div id="box6" style="border-radius:0px 0px 0px 0px;">box6</div>
        </div>        
        <div class="code_box">
            <pre>E( '#box6' ).anim({
    to : { borderRadius : '50% 50% 50% 50%' },
    duration : 600,
    reverse : true
});</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo6" class="btn">运行</a></p>        
    </div>    
    
    <div class="example_box">
        <h5>例子7</h5>
        <p>对 div 元素的 text-shadow 进行动画。</p>
        <div class="anim_box">
            <div id="box7" style="text-shadow:#fff 0px 0px 5px; color:transparent;">box7</div>
        </div>        
        <div class="code_box">
            <pre>E( '#box7' ).anim({ 
    to : { textShadow : '#fff 0px 0px 1px' }, 
    complete : function(){
        E( this ).css( 'color', '#fff' );
    }
});</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo7" class="btn">运行</a></p>        
    </div>
    
    <div class="example_box">
        <h5>例子8</h5>
        <p>对 div 元素设置一组动画队列。</p>
        <div class="anim_box">
            <div id="box8">box8</div>
        </div>        
        <div class="code_box">
            <pre>E( '#box8' ).anim({ to : { left : '570px' }, duration : 600 })
    .anim({ to : { backgroundColor : '#46CA3B' }, duration : 600 })
    .delay( 1000 )
    .anim({ to : { left : '335px' }, duration : 600 })
    .slideUp()
    .slideDown()
    .anim({  to : { backgroundColor : '#028fc4' }, duration : 1200 })
    .delay( 500 )
    .anim({ to : { left : '0px' }, duration : 500 })
    .anim({ to : { backgroundColor : '#2c2c2c' }, duration : 800 });</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo8" class="btn">运行</a></p>        
    </div>
    
    <div class="example_box">
        <h5>例子9</h5>
        <p>使用 += 和 -= 对 div 元素的位置值进行动画。</p>
        <div class="anim_box">
            <div id="box9">box9</div>
        </div>        
        <div class="code_box">
        <pre>var box9 = E( '#box9' ),
    left = parseInt( box9.css('left') ),
    distance = 570,            
    n = 114;

if( left === 0 ){
    window.symbol = '+=';
}        
else if( left === distance ){
    window.symbol = '-=';
}

box9.anim({
    to : { left : window.symbol + n + 'px' },
    duration : 200
});</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo9" class="btn">运行</a></p>        
    </div>      
    
    <div class="example_box">
        <h5>例子10</h5>
        <p>设置动画开始时的初始样式，使其每次都从最右边往最左边进行动画。</p>
        <div class="anim_box">
            <div id="box10">box10</div>
        </div>        
        <div class="code_box">
        <pre>E( '#box10' ).anim({ 
    from : { left : '670px' },
    to : { left : '0px' },
    easing : 'bounce',
    duration : 800
});</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo10" class="btn">运行</a></p>        
    </div>  

    <div class="example_box">
        <h5>例子11</h5>
        <p>设置动画开始时的初始样式，并使用百分比为单位进行动画。</p>
        <div class="anim_box">
            <div id="box11">box11</div>
        </div>        
        <div class="code_box">
        <pre>E( '#box11' ).anim({ 
    from : { left : '0%' },
    to : { left : '50%' },
    easing : 'swingTo',
    duration : 800
});</pre>
        </div>    
        <p><a href="javascript:;" id="runDemo11" class="btn">运行</a></p>        
    </div>       
    
</div>



<script type="text/javascript" src="../../src/easy.js"></script>
<script type="text/javascript">
E.use( ['event', 'anim'], function(){
    E( '#runDemo1' ).one( 'click', function( e ){
        E( '#box1' ).anim({ width : '0px' });
    });
    
    E( '#runDemo2' ).on( 'click', function( e ){
        E( '#box2' ).anim({ 
            to : { height : '0px' },
            reverse : true
        });
    });
    
    E( '#runDemo3' ).one( 'click', function( e ){
        E( '#box3' ).anim({ 
            to : { left : '570px' },
            easing : 'bounce',
            duration : 800
        });
    });
    
    E( '#runDemo4' ).on( 'click', function( e ){
        E( '#box4').anim({
            to : {
                backgroundColor : '#028fc4',
                color : '#000',
                borderTopColor : '#2c2c2c',
                borderRightColor : '#2c2c2c',
                borderBottomColor : '#2c2c2c',
                borderLeftColor : '#2c2c2c' 
            },
            duration : 2000
        });
    });
    
    E( '#runDemo5' ).on( 'click', function(){
        E( '#box5' ).anim({
            to : { backgroundPosition : '-10px -10px' }, 
            duration : 6000, 
            easing : 'easeOut' 
        });
    });
    
    E( '#runDemo6' ).on( 'click', function(){    
        E( '#box6' ).anim({
            to : { borderRadius : '50% 50% 50% 50%' },
            duration : 600,
            reverse : true
        });
    });
    
    E( '#runDemo7' ).one( 'click', function(){    
        E( '#box7' ).anim({ 
            to : { textShadow : '#fff 0px 0px 1px' }, 
            complete : function(){
                E( this ).css( 'color', '#fff' );
            }
        });
    });
    
    E( '#runDemo8' ).on( 'click', function(){    
        E( '#box8' ).anim({ to : { left : '570px' }, duration : 600 })
            .anim({ to : { backgroundColor : '#46CA3B' }, duration : 600 })
            .delay( 1000 )
            .anim({ to : { left : '285px' }, duration : 600 })
            .slideUp()
            .slideDown()
            .anim({  to : { backgroundColor : '#028fc4' }, duration : 1200 })
            .delay( 500 )
            .anim({ to : { left : '0px' }, duration : 500 })
            .anim({ to : { backgroundColor : '#2c2c2c' }, duration : 800 });
    });
        
        
    E( '#runDemo9' ).on( 'click', function(){
        var box9 = E( '#box9' ),
            left = parseInt( box9.css('left') ),
            distance = 570,            
            n = 114;

        if( left === 0 ){
            window.symbol = '+=';
        }        
        else if( left === distance ){
            window.symbol = '-=';
        }
        
        box9.anim({
            to : { left : window.symbol + n + 'px' },
            duration : 200
        });
    });   

    E( '#runDemo10' ).on( 'click', function( e ){
        E( '#box10' ).anim({ 
            from : { left : '670px' },
            to : { left : '0px' },
            easing : 'bounce',
            duration : 800
        });
    });    
    
    E( '#runDemo11' ).on( 'click', function( e ){
        E( '#box11' ).anim({ 
            from : { left : '0%' },
            to : { left : '50%' },
            easing : 'swingTo',
            duration : 800
        });
    }); 
});    
</script>    

</body>
</html>