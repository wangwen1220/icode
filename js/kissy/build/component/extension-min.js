/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Nov 14 21:49
*/
KISSY.add("component/extension/align",function(e,c,g,k){function m(a){var d=a.ownerDocument.body,f=g.css(a,"position");if(!("fixed"==f||"absolute"==f))return"html"==a.nodeName.toLowerCase()?null:a.parentNode;for(a=a.parentNode;a&&a!=d;a=a.parentNode)if(f=g.css(a,"position"),"static"!=f)return a;return null}function o(a){var d,f,b={left:0,right:Infinity,top:0,bottom:Infinity},j;f=a.ownerDocument;d=f.body;for(f=f.documentElement;a=m(a);)if((!c.ie||0!=a.clientWidth)&&a!=d&&a!=f&&"visible"!=g.css(a,"overflow"))j=
g.offset(a),j.left+=a.clientLeft,j.top+=a.clientTop,b.top=Math.max(b.top,j.top),b.right=Math.min(b.right,j.left+a.clientWidth),b.bottom=Math.min(b.bottom,j.top+a.clientHeight),b.left=Math.max(b.left,j.left);a=g.scrollLeft();j=g.scrollTop();b.left=Math.max(b.left,a);b.top=Math.max(b.top,j);d=g.viewportWidth();f=g.viewportHeight();b.right=Math.min(b.right,a+d);b.bottom=Math.min(b.bottom,j+f);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}function p(a,d,f,b){var j,g;j=a.left;g=a.top;
d=q(d,f[0]);a=q(a,f[1]);a=[a.left-d.left,a.top-d.top];return{left:j-a[0]+ +b[0],top:g-a[1]+ +b[1]}}function r(a,d,f){var b=[];e.each(a,function(a){b.push(a.replace(d,function(a){return f[a]}))});return b}function n(){}function s(a){var d,f;e.isWindow(a[0])?(d={left:g.scrollLeft(),top:g.scrollTop()},f=g.viewportWidth(),a=g.viewportHeight()):(d=a.offset(),f=a.outerWidth(),a=a.outerHeight());d.width=f;d.height=a;return d}function q(a,d){var f=d.charAt(0),b=d.charAt(1),g=a.width,e=a.height,h,i;h=a.left;
i=a.top;"c"===f?i+=e/2:"b"===f&&(i+=e);"c"===b?h+=g/2:"r"===b&&(h+=g);return{left:h,top:i}}var t=e.Env.host;n.__getOffsetParent=m;n.__getVisibleRectForElement=o;n.ATTRS={align:{value:{}}};n.prototype={_uiSetAlign:function(a){a&&a.points&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(a,d,f,b){var a=k.one(a||t),f=f&&[].concat(f)||[0,0],b=b||{},g=this.get("el"),c=0,h=o(g[0]),i=s(g),m=s(a),a=p(i,m,d,f),l=e.merge(i,a);if(h&&(b.adjustX||b.adjustY)){if(a.left<h.left||a.left+i.width>h.right)c=
1,d=r(d,/[lr]/ig,{l:"r",r:"l"}),f[0]=-f[0];if(a.top<h.top||a.top+i.height>h.bottom)c=1,d=r(d,/[tb]/ig,{t:"b",b:"t"}),f[1]=-f[1];c&&(a=p(i,m,d,f),e.mix(l,a));d={};d.adjustX=b.adjustX&&(a.left<h.left||a.left+i.width>h.right);d.adjustY=b.adjustY&&(a.top<h.top||a.top+i.height>h.bottom);if(d.adjustX||d.adjustY)b=e.clone(a),c={width:i.width,height:i.height},d.adjustX&&b.left<h.left&&(b.left=h.left),d.resizeWidth&&b.left>=h.left&&b.left+c.width>h.right&&(c.width-=b.left+c.width-h.right),d.adjustX&&b.left+
c.width>h.right&&(b.left=Math.max(h.right-c.width,h.left)),d.adjustY&&b.top<h.top&&(b.top=h.top),d.resizeHeight&&b.top>=h.top&&b.top+c.height>h.bottom&&(c.height-=b.top+c.height-h.bottom),d.adjustY&&b.top+c.height>h.bottom&&(b.top=Math.max(h.bottom-c.height,h.top)),l=e.mix(b,c)}l.left!=i.left&&(this.setInternal("x",null),this.get("view").setInternal("x",null),this.set("x",l.left));l.top!=i.top&&(this.setInternal("y",null),this.get("view").setInternal("y",null),this.set("y",l.top));l.width!=i.width&&
g.width(g.width()+l.width-i.width);l.height!=i.height&&g.height(g.height()+l.height-i.height);return this},center:function(a){this.set("align",{node:a,points:["cc","cc"],offset:[0,0]});return this}};return n},{requires:["ua","dom","node"]});
KISSY.add("component/extension/content-box-render",function(e,c,g){function k(){}k.ATTRS={contentEl:{}};k.prototype={__createDom:function(){var e,k=this.get("el");e=k[0].childNodes;e=e.length&&g.nodeListToFragment(e);e=c.all("<div class='"+this.get("prefixCls")+"contentbox'></div>").append(e);k.append(e);this.setInternal("contentEl",e)}};return k},{requires:["node","dom"]});KISSY.add("component/extension/content-box",function(){function e(){}e.ATTRS={contentEl:{view:1}};return e});
KISSY.add("component/extension",function(e,c,g,k,m,o,p){m.Render=o;g.Render=k;return{Align:c,ContentBox:g,Position:m,Shim:{Render:p}}},{requires:"./extension/align,./extension/content-box,./extension/content-box-render,./extension/position,./extension/position-render,./extension/shim-render".split(",")});
KISSY.add("component/extension/position-render",function(){function e(){}e.ATTRS={x:{},y:{},zIndex:{},visibleMode:{value:"visibility"}};e.prototype={__createDom:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(c){this.get("el").css("z-index",c)},_uiSetX:function(c){null!=c&&this.get("el").offset({left:c})},_uiSetY:function(c){null!=c&&this.get("el").offset({top:c})}};return e});
KISSY.add("component/extension/position",function(e){function c(){}c.ATTRS={x:{view:1},y:{view:1},xy:{setter:function(g){var c=e.makeArray(g);c.length&&(c[0]&&this.set("x",c[0]),c[1]&&this.set("y",c[1]));return g},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1},visible:{value:!1}};c.prototype={move:function(c,k){e.isArray(c)&&(k=c[1],c=c[0]);this.set("xy",[c,k]);return this}};return c});
KISSY.add("component/extension/shim-render",function(){function e(){}e.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.clientWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.clientHeight);'/>")}};return e});
