define("arale/base/1.0.1/aspect",[],function(e,t){function r(e,t,r,o){var u=t.split(n),a,f;while(a=u.shift())f=i(this,a),f.__isAspected||s.call(this,a),this.on(e+":"+a,r,o);return this}function i(e,t){var n=e[t];if(!n)throw new Error("Invalid method name: "+t);return n}function s(e){var t=this[e];this[e]=function(){var n=Array.prototype.slice.call(arguments),r=["before:"+e].concat(n);this.trigger.apply(this,r);var i=t.apply(this,arguments);return this.trigger("after:"+e,i),i},this[e].__isAspected=!0}t.before=function(e,t,n){return r.call(this,"before",e,t,n)},t.after=function(e,t,n){return r.call(this,"after",e,t,n)};var n=/\s+/}),define("arale/base/1.0.1/attribute",[],function(e,t){function s(e){return n.call(e)==="[object String]"}function o(e){return n.call(e)==="[object Function]"}function u(e){return e!=null&&e==e.window}function a(e){if(!e||n.call(e)!=="[object Object]"||e.nodeType||u(e))return!1;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(var i in e);return i===undefined||r.call(e,i)}function f(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e,t){var n,r;for(n in t)if(t.hasOwnProperty(n)){r=t[n];if(i(r))r=r.slice();else if(a(r)){var s=e[n];a(s)||(s={}),r=l(s,r)}e[n]=r}return e}function h(e){return e.charAt(0).toUpperCase()+e.substring(1)}function p(e,t){var n=[],r=e.constructor.prototype;while(r)r.hasOwnProperty("attrs")||(r.attrs={}),d(t,r.attrs,r),f(r.attrs)||n.unshift(r.attrs),r=r.constructor.superclass;var i={};for(var s=0,o=n.length;s<o;s++)i=l(i,S(n[s]));return i}function d(e,t,n,r){for(var i=0,s=e.length;i<s;i++){var o=e[i];n.hasOwnProperty(o)&&(t[o]=r?t.get(o):n[o])}}function g(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r="_onChange"+h(n);e[r]&&e.on("change:"+n,e[r])}}function y(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n].value,i;o(r)&&(i=n.match(v))&&(e[i[1]](b(i[2]),r),delete t[n])}}function b(e){var t=e.match(m),n=t[1]?"change:":"";return n+=t[2].toLowerCase()+t[3],n}function w(e,t,n){var r={silent:!0};e.__initializingAttrs=!0;for(var i in n)n.hasOwnProperty(i)&&t[i].setter&&e.set(i,n[i].value,r);delete e.__initializingAttrs}function S(e,t){e=l({},e);for(var n in e){var r=e[n];if(a(r)&&!t&&x(r,E))continue;e[n]={value:r}}return e}function x(e,t){for(var n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}function T(e){return e==null||(s(e)||i(e))&&e.length===0||a(e)&&f(e)}function N(e,t){if(e===t)return!0;if(T(e)&&T(t))return!0;var r=n.call(e);if(r!=n.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase;case"[object Array]":var i=e.toString(),s=t.toString();return i.indexOf("[object")===-1&&s.indexOf("[object")===-1&&i===s}if(typeof e!="object"||typeof t!="object")return!1;if(a(e)&&a(t)){if(!N(c(e),c(t)))return!1;for(var o in e)if(e[o]!==t[o])return!1;return!0}return!1}t.initAttrs=function(e,t){t&&(e=e?l(t,e):t);var n=this.propsInAttrs||[],r=p(this,n),i=l({},r),s;e&&(s=S(e,!0),l(i,s)),g(this,i),this.attrs=i,w(this,i,s),y(this,i),d(n,this,this.attrs,!0)},t.get=function(e){var t=this.attrs[e]||{},n=t.value;return t.getter?t.getter.call(this,n,e):n},t.set=function(e,t,n){var r={};s(e)?r[e]=t:(r=e,n=t),n||(n={});var i=n.silent,o=this.attrs,u=this.__changedAttrs||(this.__changedAttrs={});for(e in r){if(!r.hasOwnProperty(e))continue;var f=o[e]||(o[e]={});t=r[e];if(f.readOnly)throw new Error("This attribute is readOnly: "+e);f.setter&&(t=f.setter.call(this,t,e));var c=this.get(e);a(c)&&a(t)&&(t=l(l({},c),t)),o[e].value=t,!this.__initializingAttrs&&!N(c,t)&&(i?u[e]=[t,c]:this.trigger("change:"+e,t,c,e))}return this},t.change=function(){var e=this.__changedAttrs;if(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];this.trigger("change:"+t,n[0],n[1],t)}delete this.__changedAttrs}return this};var n=Object.prototype.toString,r=Object.prototype.hasOwnProperty,i=Array.isArray||function(e){return n.call(e)==="[object Array]"},c=Object.keys;c||(c=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t});var v=/^(on|before|after)([A-Z].*)$/,m=/^(Change)?([A-Z])(.*)/,E=["value","getter","setter","readOnly"]}),define("arale/base/1.0.1/base",["./aspect","./attribute","arale/class/1.0.0/class","arale/events/1.0.0/events"],function(e,t,n){var r=e("arale/class/1.0.0/class"),i=e("arale/events/1.0.0/events"),s=e("./aspect"),o=e("./attribute");n.exports=r.create({Implements:[i,s,o],initialize:function(e){this.initAttrs(e)},destroy:function(){this.off();for(var e in this)this.hasOwnProperty(e)&&delete this[e]}})});