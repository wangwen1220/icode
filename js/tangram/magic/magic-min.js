if(typeof magic!="function"){var magic=function(){}}magic.resourcePath="";magic.skinName="default";magic.version="1.0.2.2";/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",false,true);var T,baidu=T=baidu||function(a,b){return baidu.dom?baidu.dom(a,b):null};if(!window.baidu){window.baidu=window.T=T}baidu.version="2.0.1.0";baidu.guid="$BAIDU$";baidu.key="tangram_guid";var _=window[baidu.guid]=window[baidu.guid]||{};(_.versions||(_.versions=[])).push(baidu.version);baidu.check=baidu.check||function(){};baidu.lang=baidu.lang||{};baidu.forEach=function(a,e,d){var c,f,b;if(typeof e=="function"&&a){f=typeof a.length=="number"?a.length:a.byteLength;if(typeof f=="number"){if(Object.prototype.toString.call(a)==="[object Function]"){return a}for(c=0;c<f;c++){b=a[c]||(a.charAt&&a.charAt(c));e.call(d||null,b,c,a)}}else{if(typeof a=="number"){for(c=0;c<a;c++){e.call(d||null,c,c,c)}}else{if(typeof a=="object"){for(c in a){if(a.hasOwnProperty(c)){e.call(d||null,a[c],c,a)}}}}}}return a};baidu.type=(function(){var b={},a=[,"HTMLElement","Attribute","Text",,,,,"Comment","Document",,"DocumentFragment",],e="Array Boolean Date Error Function Number RegExp String",c={object:1,"function":"1"},d=b.toString;baidu.forEach(e.split(" "),function(f){b["[object "+f+"]"]=f.toLowerCase();baidu["is"+f]=function(g){return baidu.type(g)==f.toLowerCase()}});return function(g){var f=typeof g;return !c[f]?f:g==null?"null":g._type_||b[d.call(g)]||a[g.nodeType]||(g==g.window?"Window":"")||"object"}})();baidu.isDate=function(a){return baidu.type(a)=="date"&&a.toString()!="Invalid Date"&&!isNaN(a)};baidu.isElement=function(a){return baidu.type(a)=="HTMLElement"};baidu.isEnumerable=function(a){return a!=null&&(typeof a=="object"||~Object.prototype.toString.call(a).indexOf("NodeList"))&&(typeof a.length=="number"||typeof a.byteLength=="number"||typeof a[0]!="undefined")};baidu.isNumber=function(a){return baidu.type(a)=="number"&&isFinite(a)};baidu.isPlainObject=function(c){var a,b=Object.prototype.hasOwnProperty;if(baidu.type(c)!="object"){return false}if(c.constructor&&!b.call(c,"constructor")&&!b.call(c.constructor.prototype,"isPrototypeOf")){return false}for(a in c){}return a===undefined||b.call(c,a)};baidu.isObject=function(a){return typeof a==="function"||(typeof a==="object"&&a!=null)};baidu.global=baidu.global||(function(){var b=baidu._global_=window[baidu.guid],a=b._=b._||{};return function(d,e,c){if(typeof e!="undefined"){c||(e=typeof a[d]=="undefined"?e:a[d]);a[d]=e}else{if(d&&typeof a[d]=="undefined"){a[d]={}}}return a[d]}})();baidu.extend=function(c,f){var d,m,k,a,b,g=1,e=arguments.length,l=c||{},h,j;baidu.isBoolean(c)&&(g=2)&&(l=f||{});!baidu.isObject(l)&&(l={});for(;g<e;g++){m=arguments[g];if(baidu.isObject(m)){for(k in m){a=l[k];b=m[k];if(a===b){continue}if(baidu.isBoolean(c)&&c&&b&&(baidu.isPlainObject(b)||(h=baidu.isArray(b)))){if(h){h=false;j=a&&baidu.isArray(a)?a:[]}else{j=a&&baidu.isPlainObject(a)?a:{}}l[k]=baidu.extend(c,j,b)}else{if(b!==undefined){l[k]=b}}}}}return l};baidu.browser=baidu.browser||function(){var b=navigator.userAgent;var a={isStrict:document.compatMode=="CSS1Compat",isGecko:/gecko/i.test(b)&&!/like gecko/i.test(b),isWebkit:/webkit/i.test(b)};try{/(\d+\.\d+)/.test(external.max_version)&&(a.maxthon=+RegExp["\x241"])}catch(c){}switch(true){case /msie (\d+\.\d+)/i.test(b):a.ie=document.documentMode||+RegExp["\x241"];break;case /chrome\/(\d+\.\d+)/i.test(b):a.chrome=+RegExp["\x241"];break;case /(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(b)&&!/chrome/i.test(b):a.safari=+(RegExp["\x241"]||RegExp["\x242"]);break;case /firefox\/(\d+\.\d+)/i.test(b):a.firefox=+RegExp["\x241"];break;case /opera(?:\/| )(\d+(?:\.\d+)?)(.+?(version\/(\d+(?:\.\d+)?)))?/i.test(b):a.opera=+(RegExp["\x244"]||RegExp["\x241"]);break}baidu.extend(baidu,a);return a}();baidu.id=function(){var b=baidu.global("_maps_id"),a=baidu.key;baidu.global("_counter",1,true);return function(d,h){var g,f=baidu.isString(d),c=baidu.isObject(d),i=c?d[a]:f?d:"";if(baidu.isString(h)){switch(h){case"get":return c?i:b[i];break;case"remove":case"delete":if(g=b[i]){if(baidu.isElement(g)&&baidu.browser.ie<7){g.removeAttribute(a)}else{delete g[a]}delete b[i]}return i;break;case"decontrol":!(g=b[i])&&c&&(d[a]=i=baidu.id());i&&delete b[i];return i;break;default:if(f){(g=b[i])&&delete b[i];g&&(b[g[a]=h]=g)}else{if(c){i&&delete b[i];b[d[a]=h]=d}}return h}}if(c){!i&&(b[d[a]=i=baidu.id()]=d);return i}else{if(f){return b[d]}}return"TANGRAM__"+baidu._global_._._counter++}}();baidu.id.key="tangram_guid";baidu.createChain=function(f,d,c){var b=f=="dom"?"$DOM":"$"+f.charAt(0).toUpperCase()+f.substr(1);var e=Array.prototype.slice;var a=baidu[f]=baidu[f]||d||function(g){return baidu.extend(g,baidu[f].fn)};a.extend=function(g){var h;for(h in g){if(h!="splice"){a[h]=function(){var k=arguments[0];f=="dom"&&baidu.type(k)=="string"&&(k="#"+k);var j=a(k);var i=j[h].apply(j,e.call(arguments,1));return baidu.type(i)=="$DOM"?i.get(0):i}}}return baidu.extend(baidu[f].fn,g)};baidu[f][b]=baidu[f][b]||c||function(){};a.fn=baidu[f][b].prototype;return a};baidu.overwrite=function(a,d,c){for(var b=d.length-1;b>-1;b--){a.prototype[d[b]]=c(d[b])}return a};baidu.createChain("event",function(){var a={};return function(c,b){switch(baidu.type(c)){case"object":return a.originalEvent===c?a:a=new baidu.event.$Event(c);case"$Event":return c;case"string":var d=new baidu.event.$Event(c);if(typeof b=="object"){baidu.forEach(d,b)}return d}}}(),function(g){var j,c,h;var d=this;this._type_="$Event";if(typeof g=="object"&&g.type){d.originalEvent=j=g;for(var b in j){if(typeof j[b]!="function"){d[b]=j[b]}}if(j.extraData){baidu.extend(d,j.extraData)}d.target=d.srcElement=j.srcElement||((c=j.target)&&(c.nodeType==3?c.parentNode:c));d.relatedTarget=j.relatedTarget||((c=j.fromElement)&&(c===d.target?j.toElement:c));d.keyCode=d.which=j.keyCode||j.which;if(!d.which&&j.button!==undefined){d.which=j.button&1?1:(j.button&2?3:(j.button&4?2:0))}var i=document.documentElement,a=document.body;d.pageX=j.pageX||(j.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0));d.pageY=j.pageY||(j.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0));d.data}if(typeof g=="string"){this.type=g}this.timeStamp=new Date().getTime()}).extend({stopPropagation:function(){var a=this.originalEvent;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=true)},preventDefault:function(){var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=false)}});baidu.merge=function(e,c){var d=e.length,b=0;if(typeof c.length==="number"){for(var a=c.length;b<a;b++){e[d++]=c[b]}}else{while(c[b]!==undefined){e[d++]=c[b++]}}e.length=d;return e};baidu.createChain("array",function(d){var c=baidu.array.$Array.prototype,b=Array.prototype,a;baidu.type(d)!="array"&&(d=[]);for(a in c){b[a]||(d[a]=c[a])}return d});baidu.overwrite(baidu.array.$Array,"concat slice".split(" "),function(a){return function(){return baidu.array(Array.prototype[a].apply(this,arguments))}});baidu.array.extend({unique:function(e){var b=this.length,a=this.slice(0),d,c;if("function"!=typeof e){e=function(g,f){return g===f}}while(--b>0){c=a[b];d=b;while(d--){if(e(c,a[d])){a.splice(b,1);break}}}b=this.length=a.length;for(d=0;d<b;d++){this[d]=a[d]}return this}});baidu.query=baidu.query||function(){var a=/^(\w*)#([\w\-\$]+)$/,c=/^#([\w\-\$]+)$/,d=/^\w+$/,b=/^(\w*)\.([\w\-\$]+)$/,e=/^(\.[\w\-\$]+)+$/,g=/\s*,\s*/,i=/\s+/g,j=Array.prototype.slice;function f(n,l){var v,u,k,o,m,s,p,r,q=[];if(a.test(n)){k=RegExp.$2;m=RegExp.$1||"*";baidu.forEach(l.getElementsByTagName(m),function(t){t.id==k&&q.push(t)})}else{if(d.test(n)||n=="*"){baidu.merge(q,l.getElementsByTagName(n))}else{if(b.test(n)){p=[];m=RegExp.$1;s=RegExp.$2;v=" "+s+" ";if(l.getElementsByClassName){p=l.getElementsByClassName(s)}else{baidu.forEach(l.getElementsByTagName("*"),function(t){t.className&&~(" "+t.className+" ").indexOf(v)&&(p.push(t))})}if(m&&(m=m.toUpperCase())){baidu.forEach(p,function(t){t.tagName.toUpperCase()===m&&q.push(t)})}else{baidu.merge(q,p)}}else{if(e.test(n)){r=n.substr(1).split(".");baidu.forEach(l.getElementsByTagName("*"),function(t){if(t.className){v=" "+t.className+" ";u=true;baidu.forEach(r,function(w){~v.indexOf(" "+w+" ")||(u=false)});u&&q.push(t)}})}}}}return q}function h(k,m){var l,n=k,p="__tangram__",o=[];if(!m&&c.test(n)&&(l=document.getElementById(n.substr(1)))){return[l]}m=m||document;if(m.querySelectorAll){if(m.nodeType==1&&!m.id){m.id=p;l=m.querySelectorAll("#"+p+" "+n);m.id=""}else{l=m.querySelectorAll(n)}return l}else{if(!~n.indexOf(" ")){return f(n,m)}baidu.forEach(f(n.substr(0,n.indexOf(" ")),m),function(q){baidu.merge(o,h(n.substr(n.indexOf(" ")+1),q))})}return o}return function(l,n,m){if(!l||typeof l!="string"){return m||[]}var k=[];l=l.replace(i," ");m&&baidu.merge(k,m)&&(m.length=0);baidu.forEach(l.indexOf(",")>0?l.split(g):[l],function(o){baidu.merge(k,h(o,n))});return baidu.merge(m||[],baidu.array(k).unique())}}();baidu.createChain("dom",function(a,b){var d,c=new baidu.dom.$DOM(b);if(!a){return c}if(a._type_=="$DOM"){return a}else{if(a.nodeType||a==a.window){c[0]=a;c.length=1;return c}else{if(a.length&&c.toString.call(a)!="[object String]"){return baidu.merge(c,a)}else{if(typeof a=="string"){if(a.charAt(0)=="<"&&a.charAt(a.length-1)==">"&&a.length>2){if(baidu.dom.createElements){baidu.merge(c,baidu.dom.createElements(a))}}else{baidu.query(a,b,c)}}else{if(typeof a=="function"){return c.ready?c.ready(a):c}}}}}return c},function(a){this.length=0;this._type_="$DOM";this.context=a||document}).extend({size:function(){return this.length},splice:function(){},get:function(a){if(typeof a=="number"){return a<0?this[this.length+a]:this[a]}return Array.prototype.slice.call(this,0)},toArray:function(){return this.get()}});baidu.dom.extend({each:function(c){baidu.check("function","baidu.dom.each");var b,a,d=this.length;for(b=0;b<d;b++){a=c.call(this[b],b,this[b],this);if(a===false||a=="break"){break}}return this}});baidu._util_=baidu._util_||{};baidu._util_.eventBase={};void function(b,a){a=b.listener={};if(window.addEventListener){a.add=function(e,c,d){e.addEventListener(c,d,false)}}else{if(window.attachEvent){a.add=function(e,c,d){e.attachEvent("on"+c,d)}}}}(baidu._util_.eventBase);void function(e,c){var b=baidu.id;var a=e.queue={};var f=a.attaCache=baidu.global("eventQueueCache");var d=e.listener;a.get=function(j,h,i,g){var l=b(j),k;if(!f[l]){f[l]={}}k=f[l];if(h){if(!k[h]){this.setupCall(j,h,i,k[h]=[],g)}return k[h]}else{return k}};a.add=function(k,h,j,i,g){this.get(k,h,j,g).push(i)};a.remove=function(l,k,j){var g,m;if(k){var g=this.get(l,k);if(j){for(var h=g.length-1;h>=0;h--){if(g[h].orig==j){g.splice(h,1)}}}else{g.length=0}}else{var m=this.get(l);for(var h in m){m[h].length=0}}};a.call=function(m,q,o,n){if(o){if(!o.length){return}var p=[].slice.call(arguments,1),k=[];p.unshift(n=baidu.event(n||q));n.type=q;if(!n.currentTarget){n.currentTarget=m}for(var j=0,g,h=o.length;j<h;j++){if(g=o[j]){g.pkg.apply(m,p);if(g.one){k.unshift(j)}}}if(k.length){for(var j=0,h=k.length;j<h;j++){this.remove(m,q,o[j].fn)}}}else{o=this.get(m,q);this.call(m,q,o,n)}};a.setupCall=function(){var g=function(k,h,i,j){d.add(k,i,function(l){a.call(k,h,j,l)})};return function(p,m,n,o,j){if(!j){g(p,m,n,o)}else{p=baidu.dom(j,p);for(var k=0,h=p.length;k<h;k++){g(p[k],m,n,o)}}}}()}(baidu._util_.eventBase,baidu.event);void function(f,e){var a=f.queue;var b=f.core={};var d=e.special={};var c=[].push;var g=function(m,j){for(var k=0,h=j.length;k<h;k++){if(j.get(k).contains(m)){return j[k]}}};b.build=function(m,j,k,h,l){var i;if(h){i=baidu.dom(h,m)}if((j in d)&&d[j].pack){k=d[j].pack(k)}return function(r){var q=baidu.dom(r.target),o=[r],n;if(l&&!r.data){r.data=l}if(r.triggerData){c.apply(o,r.triggerData)}if(!i){return r.result=k.apply(m,o)}for(var p=0;p<2;p++){if(n=g(r.target,i)){return r.result=k.apply(n,o)}i=baidu.dom(h,m)}}};b.add=function(m,o,p,i,j,l){var n=this.build(m,o,p,i,j),h,k;k=o;if(o in d){h=d[o].attachElements,k=d[o].bindType||o}a.add(m,o,k,{type:o,pkg:n,orig:p,one:l},h)};b.remove=function(k,j,i,h){a.remove(k,j,i,h)}}(baidu._util_.eventBase,baidu.event);baidu.dom.extend({on:function(c,a,f,e,d){var b=baidu._util_.eventBase.core;if(typeof a=="object"&&a){e=f,f=a,a=null}else{if(typeof f=="function"){e=f,f=null}else{if(typeof a=="function"){e=a,a=f=null}}}if(typeof c=="string"){c=c.split(/[ ,]+/);this.each(function(){baidu.forEach(c,function(g){b.add(this,g,e,a,f,d)},this)})}else{if(typeof c=="object"){if(e){e=null}baidu.forEach(c,function(h,g){this.on(g,a,f,h,d)},this)}}return this}});baidu.dom.g=function(a){if(!a){return null}if("string"==typeof a||a instanceof String){return document.getElementById(a)}else{if(a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a}}return null};baidu.event.on=baidu.on=function(a,c,b){if(typeof a=="string"){a=baidu.dom.g(a)}baidu.dom(a).on(c.replace(/^\s*on/,""),b);return a};(function(){magic.setup=magic.setup||function(h,d,e){var g=c(h,"tang-param")||{};for(var f in e){g[f]=e[f]}var k=new d(g);k.$mappingDom("",h);b(h,k.guid);var j=h.getElementsByTagName("*");for(var f=j.length-1;f>=0;f--){b(j[f],k.guid)}return k};function c(h,d){var k=h.getAttribute(d),j,g=false;if(k&&(j=k.match(a[0]))){g={};for(var f=0,e;f<j.length;f++){e=j[f].match(a[1]);!isNaN(e[2])&&(e[2]=+e[2]);a[2].test(e[2])&&(e[2]=e[2].replace(a[3],"\x242"));a[4].test(e[2])&&(e[2]=a[5].test(e[2]));g[e[1]]=e[2]}}return g}var a=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i];function b(g,d){var f=c(g,"tang-event");if(f){for(var e in f){var h=f[e].substr(1);h.indexOf("(")<0&&(h+="()");baidu.dom(g).on(e,new Function("baiduInstance('"+d+"') && baiduInstance('"+d+"')"+h))}}}})();baidu.array.extend({indexOf:function(b,c){baidu.check(".+(,number)?","baidu.array.indexOf");var a=this.length;(c=c|0)<0&&(c=Math.max(0,a+c));for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}});baidu.array.extend({contains:function(a){return !!~this.indexOf(a)}});baidu.createChain("string",function(a){var b=baidu.type(a),d=new String(~"string|number".indexOf(b)?a:b),c=String.prototype;baidu.forEach(baidu.string.$String.prototype,function(f,e){c[e]||(d[e]=f)});return d});baidu.string.extend({trim:function(){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");return function(){return this.replace(a,"")}}()});baidu.dom.extend({addClass:function(e){if(!arguments.length){return this}var d=typeof e,c=" ";if(d=="string"){e=baidu.string.trim(e);var a=e.split(" ");baidu.forEach(this,function(g,b){var h=g.className;for(var f=0;f<a.length;f++){if(!~(c+h+c).indexOf(c+a[f]+c)){h+=" "+a[f]}}g.className=h.replace(/^\s+/g,"")})}else{if(d=="function"){baidu.forEach(this,function(f,b){baidu.dom(f).addClass(e.call(f,b,f.className))})}}return this}});baidu.dom.extend({removeClass:function(e){var d=typeof e,c=" ";if(!arguments.length){baidu.forEach(this,function(b){b.className=""})}if(d=="string"){e=baidu.string.trim(e);var a=e.split(" ");baidu.forEach(this,function(f){var g=f.className;for(var b=0;b<a.length;b++){while(~(c+g+c).indexOf(c+a[b]+c)){g=(c+g+c).replace(c+a[b]+c,c)}}f.className=baidu.string.trim(g)})}else{if(d=="function"){baidu.forEach(this,function(g,b,f){baidu.dom(g).removeClass(e.call(g,b,g.className))})}}return this}});baidu._util_.contains=document.compareDocumentPosition?function(a,b){return !!(a.compareDocumentPosition(b)&16)}:document.contains?function(a,b){return a!=b&&(a.contains?a.contains(b):false)}:function(a,b){while(b=b.parentNode){if(b===a){return true}}return false};baidu.dom.extend({contains:function(b){var a=this[0];b=baidu.dom(b)[0];if(!a||!b){return false}return baidu._util_.contains(a,b)}});baidu.dom._g=function(a){return baidu.type(a)==="string"?document.getElementById(a):a};baidu.dom.contains=function(a,b){var c=baidu.dom._g;return baidu._util_.contains(c(a),c(b))};baidu._util_.access=function(e,b,d,f,c){if(e.size()<=0){return e}switch(baidu.type(b)){case"string":if(d===undefined){return f.call(e,e[0],b)}else{e.each(function(g,h){f.call(e,h,b,(baidu.type(d)==="function"?d.call(h,g,f.call(e,h,b)):d),c)})}break;case"object":for(var a in b){baidu._util_.access(e,a,b[a],f,d)}break}return e};baidu._util_.nodeName=function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()};baidu._util_.propFixer={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",classname:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable",rboolean:/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i};!document.createElement("form").enctype&&(baidu._util_.propFixer.enctype="encoding");baidu._util_.isXML=function(b){var a=(b?b.ownerDocument||b:0).documentElement;return a?a.nodeName!=="HTML":false};baidu._util_.prop=function(){var e=/^(?:button|input|object|select|textarea)$/i,d=/^a(?:rea|)$/i,a=document.createElement("select"),c=a.appendChild(document.createElement("option")),b={tabIndex:{get:function(g){var f=g.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):e.test(g.nodeName)||d.test(g.nodeName)&&g.href?0:undefined}}};!c.selected&&(b.selected={get:function(g){var f=g.parentNode;if(f){f.selectedIndex;f.parentNode&&f.parentNode.selectedIndex}return null}});a=c=null;return function(j,i,k){var g=j.nodeType,f,h;if(!j||~"238".indexOf(g)){return}if(g!==1||!baidu._util_.isXML(j)){i=baidu._util_.propFixer[i]||i;f=b[i]||{}}if(k!==undefined){if(f.set&&(h=f.set(j,i,k))!==undefined){return h}else{return(j[i]=k)}}else{if(f.get&&(h=f.get(j,i))!==null){return h}else{return j[i]}}}}();baidu._util_.support=baidu._util_.support||function(){var g=document.createElement("div"),f,c,d,b,e;g.setAttribute("className","t");g.innerHTML=' <link/><table></table><a href="/a">a</a><input type="checkbox"/>';c=g.getElementsByTagName("A")[0];c.style.cssText="top:1px;float:left;opacity:.5";b=document.createElement("select");e=b.appendChild(document.createElement("option"));d=g.getElementsByTagName("input")[0];d.checked=true;f={dom:{div:g,a:c,select:b,opt:e,input:d}};return f}();baidu._util_.support.getSetAttribute=baidu._util_.support.dom.div.className!=="t";baidu._util_.nodeHook=function(){if(baidu._util_.support.getSetAttribute){return}var a={};a.name=a.id=a.coords=true;return{get:function(d,c){var b=d.getAttributeNode(c);return b&&(a[c]?b.value!=="":b.specified)?b.value:undefined},set:function(d,c,e){var b=d.getAttributeNode(c);if(!b){b=document.createAttribute(c);d.setAttributeNode(b)}return(b.value=e+"")}}}();baidu._util_.removeAttr=function(){var b=baidu._util_.propFixer,a=/\s+/,c=baidu._util_.support.getSetAttribute;return function(j,g){if(!g||j.nodeType!==1){return}var k=g.split(a),h,d;for(var f=0,e;e=k[f];f++){h=b[e]||e;d=b.rboolean.test(e);!d&&baidu._util_.attr(j,e,"");j.removeAttribute(c?e:h);d&&(h in j)&&(j[h]=false)}}}();baidu._util_.attr=function(){var g=baidu._util_,i=/^(?:button|input)$/i,j=g.support.dom,d=j.input.value==="t",a=j.a.getAttribute("href")==="/a",b=/top/.test(j.a.getAttribute("style")),f=g.nodeHook,e={className:"class"},c={get:function(m,k){var n=g.prop(m,k),l;return n===true||typeof n!=="boolean"&&(l=m.getAttributeNode(k))&&l.nodeValue!==false?k.toLowerCase():undefined},set:function(m,k,n){if(n===false){g.removeAttr(m,k)}else{var l=g.propFixer[k]||k;(l in m)&&(m[l]=true);m.setAttribute(k,k.toLowerCase())}return k}},h={type:{set:function(m,l,n){if(i.test(m.nodeName)&&m.parentNode){return n}if(!d&&n==="radio"&&g.nodeName(m,"input")){var k=m.value;m.setAttribute("type",n);k&&(m.value=k);return n}}},value:{get:function(l,k){if(f&&g.nodeName(l,"button")){return f.get(l,k)}return k in l?l.value:null},set:function(l,k,m){if(f&&g.nodeName(l,"button")){return f.set(l,k,m)}l.value=m}}};if(!g.support.getSetAttribute){baidu.forEach(["width","height"],function(k){h[k]={set:function(m,l,n){if(n===""){m.setAttribute(l,"auto");return n}}}});h.contenteditable={get:f.get,set:function(l,k,m){m===""&&(m=false);f.set(l,k,m)}}}if(!a){["href","src","width","height"];baidu.forEach(["href","src","width","height"],function(k){h[k]={get:function(n,m){var l=n.getAttribute(m,2);return l===null?undefined:l}}})}if(!b){h.style={get:function(k){return k.style.cssText.toLowerCase()||undefined},set:function(l,k,m){return(l.style.cssText=m+"")}}}return function(q,o,r,p){var l=q.nodeType,n=l!==1||!g.isXML(q),k,m;if(!q||~"238".indexOf(l)){return}if(p&&baidu.dom.fn[o]){return baidu.dom(q)[o](r)}if(n){o=e[o]||o.toLowerCase();k=h[o]||(g.propFixer.rboolean.test(o)?c:f)}if(r!==undefined){if(r===null){g.removeAttr(q,o);return}else{if(n&&k&&k.set&&(m=k.set(q,o,r))!==undefined){return m}else{q.setAttribute(o,r+"");return r}}}else{if(n&&k&&k.get&&(m=k.get(q,o))!==null){return m}else{m=q.getAttribute(o);return m===null?undefined:m}}}}();baidu.dom.extend({attr:function(a,b){return baidu._util_.access(this,a,b,function(e,c,f,d){return baidu._util_.attr(e,c,f,d)})}});baidu.lang.Class=(function(){var a=(baidu._global_=window[baidu.guid])._instances_;a||(a=baidu._global_._instances_={});return function(){this.guid=baidu.id();this._decontrol_||(a[this.guid]=this)}})();baidu.lang.Class.prototype.dispose=function(){delete baidu._global_._instances_[this.guid];for(var a in this){typeof this[a]!="function"&&delete this[a]}this.disposed=true};baidu.lang.Class.prototype.toString=function(){return"[object "+(this._type_||this.__type||this._className||"Object")+"]"};window.baiduInstance=function(a){return baidu._global_._instances_[a]};baidu.lang.guid=function(){return baidu.id()};baidu.lang.isString=baidu.isString;baidu.lang.Event=function(a,b){this.type=a;this.returnValue=true;this.target=b||null;this.currentTarget=null};baidu.lang.Class.prototype.fire=baidu.lang.Class.prototype.dispatchEvent=function(e,a){baidu.lang.isString(e)&&(e=new baidu.lang.Event(e));!this.__listeners&&(this.__listeners={});a=a||{};for(var c in a){e[c]=a[c]}var c,g,d=this,b=d.__listeners,f=e.type;e.target=e.target||(e.currentTarget=d);f.indexOf("on")&&(f="on"+f);typeof d[f]=="function"&&d[f].apply(d,arguments);if(typeof b[f]=="object"){for(c=0,g=b[f].length;c<g;c++){b[f][c]&&b[f][c].apply(d,arguments)}}return e.returnValue};baidu.lang.Class.prototype.on=baidu.lang.Class.prototype.addEventListener=function(e,d,c){if(typeof d!="function"){return}!this.__listeners&&(this.__listeners={});var b,a=this.__listeners;e.indexOf("on")&&(e="on"+e);typeof a[e]!="object"&&(a[e]=[]);for(b=a[e].length-1;b>=0;b--){if(a[e][b]===d){return d}}a[e].push(d);c&&typeof c=="string"&&(a[e][c]=d);return d};baidu.lang.createClass=function(b,j){j=j||{};var g=j.superClass||baidu.lang.Class;var h=function(){var m=this;j.decontrolled&&(m.__decontrolled=true);g.apply(m,arguments);for(k in h.options){m[k]=h.options[k]}b.apply(m,arguments);for(var k=0,l=h["\x06r"];l&&k<l.length;k++){l[k].apply(m,arguments)}};h.options=j.options||{};var a=function(){},f=b.prototype;a.prototype=g.prototype;var d=h.prototype=new a();for(var c in f){d[c]=f[c]}var e=j.className||j.type;typeof e=="string"&&(d.__type=e);d.constructor=f.constructor;h.extend=function(l){for(var k in l){h.prototype[k]=l[k]}return h};return h};baidu.object=baidu.object||{};baidu.object.extend=baidu.extend;baidu.string.extend({format:function(a){var c=this.valueOf(),b=Array.prototype.slice.call(arguments,0),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(e,g){var f=b[g];if("[object Function]"==d.call(f)){f=f(g)}return("undefined"==typeof f?"":f)})}return c}});baidu.string.extend({encodeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}});baidu.lang.inherits=function(g,e,d){var c,f,a=g.prototype,b=new Function();b.prototype=e.prototype;f=g.prototype=new b();for(c in a){f[c]=a[c]}g.prototype.constructor=g;g.superClass=e.prototype;typeof d=="string"&&(f.__type=d);g.extend=function(j){for(var h in j){f[h]=j[h]}return g};return g};baidu.lang.Class.prototype.un=baidu.lang.Class.prototype.removeEventListener=function(d,c){var b,a=this.__listeners;if(!a){return}if(typeof d=="undefined"){for(b in a){delete a[b]}return}d.indexOf("on")&&(d="on"+d);if(typeof c=="undefined"){delete a[d]}else{if(a[d]){typeof c=="string"&&(c=a[d][c])&&delete a[d][c];for(b=a[d].length-1;b>=0;b--){if(a[d][b]===c){a[d].splice(b,1)}}}}};magic.Base=function(){baidu.lang.Class.call(this);this._ids={};this._eid=this.guid+"__"};baidu.lang.inherits(magic.Base,baidu.lang.Class,"magic.Base").extend({getElement:function(a){return document.getElementById(this.$getId(a))},getElements:function(){var a={};var c=this._ids;for(var b in c){a[b]=this.getElement(b)}return a},$getId:function(a){a=baidu.lang.isString(a)?a:"";return this._ids[a]||(this._ids[a]=this._eid+a)},$mappingDom:function(a,b){if(baidu.lang.isString(b)){this._ids[a]=b}else{if(b&&b.nodeType){b.id?this._ids[a]=b.id:b.id=this.$getId(a)}}return this},$dispose:function(){this.fire("ondispose")&&baidu.lang.Class.prototype.dispose.call(this)}});magic.control=magic.control||{};baidu.dom.extend({getComputedStyle:function(b){var c=this[0].ownerDocument.defaultView,a=c&&c.getComputedStyle&&c.getComputedStyle(this[0],null),d=a?(a.getPropertyValue(b)||a[b]):"";return d||this[0].style[b]}});baidu.dom.extend({getCurrentStyle:function(){var a=document.documentElement.currentStyle?function(b){return this[0].currentStyle?this[0].currentStyle[b]:this[0].style[b]}:function(b){return this.getComputedStyle(b)};return function(b){return a.call(this,b)}}()});baidu._util_.getWidthOrHeight=function(){var a={},d={position:"absolute",visibility:"hidden",display:"block"},b=/^(none|table(?!-c[ea]).+)/;function c(g,e){var h={};for(var f in e){h[f]=g.style[f];g.style[f]=e[f]}return h}baidu.forEach(["Width","Height"],function(e){var f={Width:["Right","Left"],Height:["Top","Bottom"]}[e];a["get"+e]=function(l,g){var k=baidu.dom(l),h=l.offsetWidth===0&&b.test(k.getCurrentStyle("display"))&&(c(l,d)),j=l["offset"+e]||parseInt(k.getCurrentStyle(e.toLowerCase())),i="padding|border";g&&baidu.forEach(g.split("|"),function(m){if(!~i.indexOf(m)){j+=parseFloat(k.getCurrentStyle(m+f[0]))||0;j+=parseFloat(k.getCurrentStyle(m+f[1]))||0}else{i=i.replace(new RegExp("\\|?"+m+"\\|?"),"")}});i&&baidu.forEach(i.split("|"),function(m){j-=parseFloat(k.getCurrentStyle(m+f[0]+(m==="border"?"Width":"")))||0;j-=parseFloat(k.getCurrentStyle(m+f[1]+(m==="border"?"Width":"")))||0});h&&c(l,h);return j}});return function(g,f,e){return a[f==="width"?"getWidth":"getHeight"](g,e)}}();baidu.string.extend({toCamelCase:function(){var a=this.valueOf();if(a.indexOf("-")<0&&a.indexOf("_")<0){return a}return a.replace(/[-_][^-_]/g,function(b){return b.charAt(1).toUpperCase()})}});baidu.dom.styleFixer=function(){var f=/alpha\s*\(\s*opacity\s*=\s*(\d{1,3})/i,a=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,g="fillOpacity,fontWeight,opacity,orphans,widows,zIndex,zoom",c=baidu._util_.support.dom.a,h={"float":!!c.style.cssFloat?"cssFloat":"styleFloat"},b={fontWeight:{normal:400,bold:700,bolder:700,lighter:100}},e={opacity:{},width:{},height:{},fontWeight:{get:function(k,j){var i=d.get(k,j);return b.fontWeight[i]||i}}},d={set:function(j,i,k){j.style[i]=k}};baidu.extend(e.opacity,/^0.5/.test(c.style.opacity)?{get:function(k,j){var i=baidu.dom(k).getCurrentStyle(j);return i===""?"1":i}}:{get:function(i){return f.test((i.currentStyle||i.style).filter||"")?parseFloat(RegExp.$1)/100:"1"},set:function(m,j,l){var k=(m.currentStyle||m.style).filter||"",i=l*100;m.style.zoom=1;m.style.filter=f.test(k)?k.replace(f,"Alpha(opacity="+i):k+" progid:dximagetransform.microsoft.Alpha(opacity="+i+")"}});baidu.forEach(["width","height"],function(i){e[i]={get:function(j){return baidu._util_.getWidthOrHeight(j,i)+"px"},set:function(k,j,l){baidu.type(l)==="number"&&l<0&&(l=0);d.set(k,j,l)}}});baidu.extend(d,document.documentElement.currentStyle?{get:function(k,j){var l=baidu.dom(k).getCurrentStyle(j),i;if(a.test(l)){i=k.style.left;k.style.left=j==="fontSize"?"1em":l;l=k.style.pixelLeft+"px";k.style.left=i}return l}}:{get:function(j,i){return baidu.dom(j).getCurrentStyle(i)}});return function(m,k,n){var l=baidu.string(k).toCamelCase(),o=n===undefined?"get":"set",j,i;l=h[l]||l;j=baidu.type(n)==="number"&&!~g.indexOf(l)?n+"px":n;i=e.hasOwnProperty(l)&&e[l][o]||d[o];return i(m,l,j)}}();baidu.dom.extend({css:function(a,b){baidu.check("^(?:(?:string(?:,(?:number|string|function))?)|object)$","baidu.dom.css");return baidu._util_.access(this,a,b,function(d,c,f){var e=baidu.dom.styleFixer;return e?e(d,c,f):(f===undefined?this.getCurrentStyle(c):d.style[c]=f)})}});baidu.dom.setPixel=function(b,a,c){typeof c!="undefined"&&(baidu.dom.g(b).style[a]=c+(!isNaN(c)?"px":""))};magic.control.Layer=baidu.lang.createClass(function(a){this.width="auto";this.height="auto";baidu.object.extend(this,a||{})},{type:"magic.control.Layer",superClass:magic.Base}).extend({show:function(){if(this.fire("onbeforeshow")){this.getElement().style.display="";this.fire("onshow")}},hide:function(){if(this.fire("onbeforehide")){this.getElement().style.display="none";this.fire("onhide")}},setWidth:function(a){baidu.dom.setPixel(this.getElement(),"width",(this.width=a))},setHeight:function(a){baidu.dom.setPixel(this.getElement(),"height",(this.height=a))},setSize:function(a){this.setWidth(a.width||a[0]);this.setHeight(a.height||a[1])}});baidu.dom.extend({off:function(c,a,d){var b=baidu._util_.eventBase.core,e=this;if(!c){baidu.forEach(this,function(f){b.remove(f)})}else{if(typeof c=="string"){if(typeof a=="function"){d=a,a=null}c=c.split(/[ ,]/);baidu.forEach(this,function(f){baidu.forEach(c,function(g){b.remove(f,g,d,a)})})}else{if(typeof c=="object"){baidu.forEach(c,function(f,g){e.off(g,a,f)})}}}return this}});baidu.event.un=baidu.un=function(a,c,b){a=baidu.dom.g(a);baidu.dom(a).off(c.replace(/^\s*on/,""),b);return a};baidu.dom.extend({getDocument:function(){if(this.size()<=0){return undefined}var a=this[0];return a.nodeType==9?a:a.ownerDocument||a.document}});baidu.dom.extend({getWindow:function(){var a=this.getDocument();return(this.size()<=0)?undefined:(a.parentWindow||a.defaultView)}});baidu.dom.extend({map:function(a){baidu.check("function","baidu.dom.map");var b=this,c=baidu.dom();baidu.forEach(this,function(e,d){c[c.length++]=a.call(e,d,e,e)});return c}});baidu.dom.extend({offsetParent:function(){return this.map(function(){var b=this.offsetParent||document.body,a=/^(?:body|html)$/i;while(b&&baidu.dom(b).getCurrentStyle("position")==="static"&&!a.test(b.nodeName)){b=b.offsetParent}return b})}});baidu.dom.extend({position:function(){if(this.size()<=0){return 0}var a=/^(?:body|html)$/i,d=this.offset(),b=this.offsetParent(),c=a.test(b[0].nodeName)?{left:0,top:0}:b.offset();d.left-=parseFloat(this.getCurrentStyle("marginLeft"))||0;d.top-=parseFloat(this.getCurrentStyle("marginTop"))||0;c.left+=parseFloat(b.getCurrentStyle("borderLeftWidth"))||0;c.top+=parseFloat(b.getCurrentStyle("borderTopWidth"))||0;return{left:d.left-c.left,top:d.top-c.top}}});baidu.dom.extend({offset:function(){var a={setOffset:function(j,k,g){var b=b=baidu.dom(j),e=b.getCurrentStyle("position");e==="static"&&(j.style.position="relative");var c=b.offset(),d=b.getCurrentStyle("left"),h=b.getCurrentStyle("top"),i=(~"absolute|fixed".indexOf(e))&&~(""+d+h).indexOf("auto"),f=i&&b.position();d=f&&f.left||parseFloat(d)||0;h=f&&f.top||parseFloat(h)||0;baidu.type("options")==="function"&&(k=k.call(j,g,c));k.left!=undefined&&(j.style.left=k.left-c.left+d+"px");k.top!=undefined&&(j.style.top=k.top-c.top+h+"px")},bodyOffset:function(b){var c=baidu.dom(b);return{left:b.offsetLeft+parseFloat(c.getCurrentStyle("marginLeft"))||0,top:b.offsetTop+parseFloat(c.getCurrentStyle("marginTop"))||0}}};return function(k){if(!k){var j=this[0],g=this.getDocument(),d={left:0,top:0},f,b,e;if(j===g.body){return a.bodyOffset(j,g)}if(typeof j.getBoundingClientRect!=="undefined"){d=j.getBoundingClientRect()}f=this.getWindow();b=g.documentElement;e=g.body;return{left:d.left+(f.pageXOffset||Math.max(b.scrollLeft,e.scrollLeft))-(b.clientLeft||e.clientLeft),top:d.top+(f.pageYOffset||Math.max(b.scrollTop,e.scrollTop))-(b.clientTop||e.clientTop)}}else{baidu.check("^(?:object|function)$","baidu.dom.offset");for(var c=0,h;h=this[c];c++){a.setOffset(h,k,c)}return this}}}()});baidu.global.set=function(b,c,a){return baidu.global(b,c,!a)};baidu.global.get=function(a){return baidu.global(a)};baidu.page=baidu.page||{};baidu.page.getViewHeight=function(){var a=document,b=baidu.browser.ie||1;client=a.compatMode==="BackCompat"&&b<9?a.body:a.documentElement;return client.clientHeight};baidu.page.getScrollTop=function(){var a=document;return window.pageYOffset||a.documentElement.scrollTop||a.body.scrollTop};magic.control.Popup=baidu.lang.createClass(function(a){var b=this;b.visible=false;b.autoHide=true;b.hideOnEscape=true;b.disposeOnHide=false;b.smartPosition=false;b.offsetX=0;b.offsetY=0;baidu.object.extend(this,a||{});b._parent=null;b._host=null;b._init_control_popup()},{superClass:magic.control.Layer,type:"magic.control.Popup"}).extend({setContent:function(a){this.getElement("content").innerHTML=a},attach:function(b,a){if(baidu.dom(b).size()){baidu.object.extend(this,a||{});this._host=baidu(b)[0];this.show()}},reposition:function(b){var d=this;!b&&d._host&&(b=baidu.dom(d._host).offset());if(b){d.top=b.top+d.offsetY+d._host.offsetHeight;d.left=b.left+d.offsetX;d._resupinate=false;if(d.smartPosition){var e=d.getElement().offsetHeight;var f=baidu.page.getViewHeight();var c=baidu.page.getScrollTop();var a=b.top-d.offsetY-e;if(d.top+e>c+f&&a>c&&a<c+f){d.top=b.top-d.offsetY-e;d._resupinate=true}}}d.fire("reposition");d.setPosition([d.left,d.top])},setPosition:function(a){this.setTop(a.top||a[1]);this.setLeft(a.left||a[0])},setTop:function(a){baidu.dom(this.getElement()).css("top",(this.top=a)+"px")},setLeft:function(a){baidu.dom(this.getElement()).css("left",(this.left=a)+"px")},_init_control_popup:function(){var f=this;function b(){f.reposition()}function e(h){h.keyCode==27&&f.hideOnEscape&&f.autoHide&&f.hide()}function a(){var h=f;do{d[h.guid]=true}while(h=h._parent)}var g=baidu.global.get("popupList");var d=baidu.global.get("popupProtect");f.on("show",function(){f.reposition();setTimeout(function(){f.guid&&(g[f.guid]=true)},1);f._host&&baidu.dom(f._host).on("click",a);baidu.dom(f.getElement()).on("click",a);baidu.dom(window).on("resize",b);baidu.dom(document).on("keyup",e);f.width!="auto"&&f.setWidth(f.width);f.height!="auto"&&f.setHeight(f.height);f.visible=true});function c(h){f.visible=false;delete g[f.guid];f._host&&baidu.dom(f._host).off("click",a);baidu.dom(f.getElement()).off("click",a);baidu.dom(window).off("resize",b);baidu.dom(document).off("keyup",e);h&&f.$dispose()}f.on("hide",function(){c(f.disposeOnHide)});f.on("dispose",function(){c(false)})}});(function(){var c=baidu.global.set("popupList",{},true);var a=baidu.global.set("popupProtect",{},true);function b(){for(var e in c){var d=baiduInstance(e);!a[e]&&d.autoHide&&d.hide()}for(var e in a){delete a[e]}}baidu.dom(window).on("resize",b);baidu.dom(window).on("scroll",b);baidu.dom(document).on("click",b)})();baidu.dom.extend({insertHTML:function(a,c){element=this[0];var b,d;if(element.insertAdjacentHTML&&!baidu.browser.opera){element.insertAdjacentHTML(a,c)}else{b=element.ownerDocument.createRange();a=a.toUpperCase();if(a=="AFTERBEGIN"||a=="BEFOREEND"){b.selectNodeContents(element);b.collapse(a=="AFTERBEGIN")}else{d=a=="BEFOREBEGIN";b[d?"setStartBefore":"setEndAfter"](element);b.collapse(d)}b.insertNode(b.createContextualFragment(c))}return element}});baidu.global.getZIndex=function(a,c){var b=baidu.global.get("zIndex");if(a){b[a]=b[a]+(c||1)}return b[a]};baidu.global.set("zIndex",{popup:50000,dialog:1000},true);baidu.dom.extend({hasClass:function(c){if(arguments.length<=0||typeof c==="function"){return this}if(this.size()<=0){return false}c=c.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var b=c.split(" ");var a;baidu.forEach(this,function(e){var f=e.className;for(var d=0;d<b.length;d++){if(!~(" "+f+" ").indexOf(" "+b[d]+" ")){a=false;return}}if(a!==false){a=true;return}});return a}});magic.Background=baidu.lang.createClass(function(b){var c=b||{},d=this;d.coverable=c.coverable||false;d.styleBox=c.styleBox;d.tagName="div";var a="filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;";d._coverDom="<div style='"+a+"opacity:0;background-color:#FFFFFF'></div>";var e=baidu.browser;e.ie<7&&(d._coverDom="<iframe frameborder='0' style='"+a+"' src='about:blank'></iframe>");if(e.ie&&(!e.isStrict||e.ie<8)){d.size=[0,0];d.timer=setInterval(function(){d._forIE()},80)}this._innerHTML="<div class='tang-background-inner' style='width:100%;height:100%;' id='"+this.$getId("inner")+"'></div>"},{type:"magic.Background",superClass:magic.Base}).extend({render:function(a){var b=baidu.dom(a).get(0);b!=document.body&&baidu.dom(b).css("position")=="static"&&(b.style.position="relative");baidu.dom(b).insertHTML("afterbegin",this.toHTMLString())},$dispose:function(){var a=this.getElement();a.parentNode.removeChild(a);clearInterval(this.timer)},toHTMLString:function(a){return["<",(a||this.tagName)," class='tang-background",(baidu.browser.ie<7?" ie6__":""),"' id='",this.$getId(),"' style='position:absolute; top:0px; left:0px;",(this.timer?"width:10px;height:10px;":"width:100%;height:100%;"),"z-index:-9; -webkit-user-select:none; -moz-user-select:none;' ","onselectstart='return false'>",this._innerHTML,(this.coverable?this._coverDom||"":""),"</",(a||this.tagName),">"].join("")},setContent:function(a){this.getElement("inner").innerHTML=a},_forIE:function(){if(this.guid&&this.layer||((this.layer=this.getElement())&&this.layer.offsetHeight)){var i=this.layer;var c=this.container||i.parentNode;if(c&&c.style){var l=c.style,k=parseInt(l.borderTopWidth)||0,m=parseInt(l.borderRightWidth)||0,e=parseInt(l.borderBottomWidth)||0,a=parseInt(l.borderLeftWidth)||0,j=c.offsetWidth-m-a,b=c.offsetHeight-k-e;if(this.size[0]!=j||this.size[1]!=b){i.style.width=(this.size[0]=j)+"px";i.style.height=(this.size[1]=b)+"px"}if(this.styleBox&&this.table||(this.table=this.getElement("table"))){var g,f,d;g=g||parseInt(baidu.dom(this.table.rows[0]).getCurrentStyle("height"));d=d||parseInt(baidu.dom(this.table.rows[2]).getCurrentStyle("height"));this.table.rows[0].style.height=g+"px";this.table.rows[2].style.height=d+"px";this.table.rows[1].style.height=(this.layer.offsetHeight-g-d)+"px"}}}}});(function(){magic.Popup=function(b){var d=this;magic.control.Popup.call(d,b);d.content="";d.className="";d.styleBox=false;baidu.object.extend(this,b||{});var c=a.produce();d.$mappingDom("",c.getElement());d.$mappingDom("content",c.getElement("content"));c.getElement().style.zIndex=baidu.global.getZIndex("popup");d.setContent(d.content);d.className&&baidu.dom(c.getElement()).addClass(d.className);d.on("dispose",function(){d.className&&baidu.dom(c.getElement()).removeClass(d.className);d.setContent("");c.busy=false})};baidu.lang.inherits(magic.Popup,magic.control.Popup,"magic.Popup");var a={list:[],produce:function(){for(var b=0,d=this.list.length;b<d;b++){if(!this.list[b].busy){this.list[b].busy=true;return this.list[b]}}var c=new magic.Base();baidu.dom(document.body).insertHTML("afterbegin",["<div class='tang-popup' id='",c.$getId(),"' ","style='position:absolute; display:none;'>",(c.background=new magic.Background({coverable:true})).toHTMLString(),"<div class='tang-foreground' id='",c.$getId("content"),"'></div>","</div>"].join(""));c.busy=true;this.list.push(c);return c}}})();magic.control.Suggestion=baidu.lang.createClass(function(a){var b=this;baidu.object.extend(this,a||{});b.dataCache={};b.enableIndexs=[];b.selectedIndex=-1;b.currentQuery="";b.oldInputValue="";b.upDownArrowTimer=null;b.on("onload",function(){var f=b.getElement("input"),g=null;baidu.dom(b.getElement("input")).attr("autocomplete","off");b.oldInputValue=b.getElement("input").value;function d(){g=setInterval(function(){var h=f.value;if(!h&&b.isShowing()){b._hide()}else{if(h!=b.oldInputValue){h&&b.fire("onneeddata",h);b.oldInputValue=h}}},100)}d();var c=(function(){return b._keydownHandler()})();var e=function(h){if(g){clearInterval(g);d()}if(b.upDownArrowTimer){clearTimeout(b.upDownArrowTimer);b.upDownArrowTimer=null}};baidu.dom(f).on("keydown",c);baidu.dom(f).on("keyup",e);b.on("onmousedownitem",function(){clearInterval(g);setTimeout(function(){d()},500)});b.on("ondispose",function(){baidu.dom(f).off("keydown",c);baidu.dom(f).off("keyup",e);clearInterval(g)})});b.on("onrender",function(){var e=b.getElement("input"),d=b.getElement("suggestion"),c=function(){b.hide()},f=function(h){var h=h||window.event,g=h.target||h.srcElement;if(!b.suggestion){return}if(g==d||baidu.dom.contains(d,g)||g==b.getElement("input")){return}b.hide()};baidu.dom(window).on("blur",c);baidu.dom(document).on("click",f);b.on("ondispose",function(){baidu.dom(window).off("blur",c);baidu.dom(document).off("click",f)})});b.on("onneeddata",function(d,e){var c=b.dataCache;b.currentQuery=e;if(typeof c[e]=="undefined"){b.getData(e)}else{b.currentData=c[e];(b.currentData.length>0)?b.show():b.hide()}});b.on("beforeshow",function(){var e=b.currentData,d=0,c=e.length;b.enableIndexs=[];for(;d<c;d++){if(typeof e[d]["disable"]=="undefined"||e[d]["disable"]==false){b.enableIndexs.push(d)}}})},{type:"magic.control.Suggestion",superClass:magic.Base}).extend({tpl:{fix:"<div id='#{0}' class='#{1}'>#{2}</div>",body:'<table cellspacing="0" cellpadding="2" class="tang-suggestion-table"><tbody>#{0}</tbody></table>',item:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}">#{1}</td></tr>'},render:function(){var b=this,a=new magic.Popup({autoHide:false,autoTurn:false,disposeOnHide:false}),c=a.getElement();baidu.dom(c).addClass("tang-suggestion-popup");b.$mappingDom("suggestion",c);b.suggestion=a;b.fire("onrender");return c},isShowing:function(){var b=this,a=b.getElement("suggestion");return a&&baidu.dom(a).css("display")!="none"},show:function(){var b=this,c=b.getElement("suggestion")||b.render(),d=b.getElement("input"),a;b.fire("beforeshow");b.suggestion.setContent(b._getSuggestionString());b.suggestion.attach(d,{offsetX:(b.offset&&b.offset.offsetX)||0,offsetY:(b.offset&&b.offset.offsetY)||-1});if(b.offset&&b.offset.width){a=b.offset.width;baidu.dom("#"+b.suggestion.$getId("content")).css("width",parseInt(a)-2+"px")}else{a=d.offsetWidth;baidu.dom(c.getElementsByTagName("table")[0]).css("width",parseInt(a)-2+"px")}baidu.dom(c).css("display","block");b.selectedIndex=-1;b.fire("onshow")},hide:function(){var d=this,a=d.getElement("suggestion");if(!a||!d.isShowing()){return}if(d.selectedIndex>=0&&d.holdHighLight){var c=d.currentData,b=d.enableIndexs[d.selectedIndex];if(c[b]&&(typeof c[b].disable=="undefined"||c[b].disable==false)){d.$pick(b)}}else{d.oldInputValue=d.getElement("input").value}d._hide()},_hide:function(){var b=this,a=b.getElement("suggestion");baidu.dom(a).css("display","none");b.selectedIndex=-1;b.fire("onhide")},_getSuggestionString:function(){var g=this,f="",e=[],h=g.currentData,a=h.length,d=0,c;function b(i){return baidu.string.format(g.tpl.fix,g.$getId(i),g._getClass(i),g[i+"HTML"])}g.prependHTML&&(f+=b("prepend"));for(;d<a;d++){c="baiduInstance('"+g.guid+"')";e.push(baidu.string.format(g.tpl.item,g.$getId("item"+d),h[d].content,c+"._mouseOver(event, "+d+")",c+"._mouseOut(event, "+d+")",c+"._mouseDown(event, "+d+")",c+"._mouseClick(event, "+d+")",(typeof h[d]["disable"]=="undefined"||h[d]["disable"]==false)?"":"tang-suggestion-disable"))}f+=baidu.string.format(g.tpl.body,e.join(""));g.appendHTML&&(f+=b("append"));return f},getInputValue:function(){return this.getElement("input").value},getDataByIndex:function(a){return this.currentData[a]},_isEnable:function(a){var b=this;return baidu.array(b.enableIndexs).contains(a)},_getItemDom:function(a){return baidu.dom("#"+this.$getId("item"+a)).get(0)},_getClass:function(a){return"tang-suggestion-"+a},_focus:function(a){var b=this.enableIndexs;this.$pick(b[a]);this.$highlight(b[a])},$highlight:function(b){var d=this,a=d.enableIndexs,c=null;if(!d._isEnable(b)){return}d.selectedIndex>=0&&d.$clearHighlight();c=d._getItemDom(b);baidu.dom(c).addClass("tang-suggestion-current");d.selectedIndex=baidu.array(a).indexOf(b);d.fire("onhighlight",{index:b,value:d.getDataByIndex(b).value})},$clearHighlight:function(){var d=this,a=d.selectedIndex,c=null,b=0;b=d.enableIndexs[a];if(a>=0){c=d._getItemDom(b);baidu.dom(c).removeClass(d._getClass("current"));d.selectedIndex=-1;d.fire("onclearhighlight",{index:b,value:d.getDataByIndex(b).value})}},$pick:function(a){var d=this,c=d.currentData,b=c[a];if(d.fire("onbeforepick",{index:a,value:b.value})){d.getElement("input").value=b.value;d.oldInputValue=b.value;d.fire("onpick",{index:a,value:b.value})}},$confirm:function(a){var b=this;if(!b._isEnable(a)){return}b.$pick(a);b.fire("onconfirm",{index:a,value:b.getDataByIndex(a).value});b._hide()},_wrapData:function(e){var d=this,c=[],b=0,a=e.length;for(;b<a;b++){if(typeof e[b].value!="undefined"){c.push(e[b])}else{c.push({value:e[b],content:baidu.string.encodeHTML(e[b])})}}return c},getData:function(a){},receiveData:function(d,c){var b=this,a=b.$cacheData(d,c);b.selectedIndex=-1;if(d==b.getInputValue()){b.currentData=a;(c.length>0)?b.show():b.hide()}},$cacheData:function(d,c){var b=this,a=b._wrapData(c);b.dataCache[d]=a;return a},_mouseOver:function(c,a){var b=this;c=baidu.event(c);c.stopPropagation();if(b._isEnable(a)){b.$highlight(a);b.selectedIndex=baidu.array(b.enableIndexs).indexOf(a)}b.fire("onmouseoveritem",{index:a,value:b.getDataByIndex(a).value})},_mouseOut:function(c,a){var b=this;c=baidu.event(c);c.stopPropagation();if(!b.holdHighLight){b._isEnable(a)&&b.$clearHighlight()}b.fire("onmouseoutitem",{index:a,value:b.getDataByIndex(a).value})},_mouseDown:function(c,a){var b=this;c=baidu.event(c);c.stopPropagation();b.fire("onmousedownitem",{index:a,value:b.getDataByIndex(a).value})},_mouseClick:function(c,a){var b=this;c=baidu.event(c);c.stopPropagation();b.fire("onmouseclick",{index:a,value:b.getDataByIndex(a).value});b.$confirm(a)},_keydownHandler:function(){var b=this;function a(f){var e=b.getInputValue(),d=b.enableIndexs,c=b.selectedIndex;if(!e){return}if((e&&!b.isShowing())){b.fire("onneeddata",e);return}if(d.length==0){return}if(b.upDownArrowTimer){return}b.upDownArrowTimer=setTimeout(function(){clearTimeout(b.upDownArrowTimer);b.upDownArrowTimer=null},200);if("up"==f){switch(c){case -1:b.$clearHighlight();c=d.length-1;b._focus(c);break;case 0:c=-1;b.$clearHighlight();b.getElement("input").value=b.currentQuery;b.oldInputValue=b.currentQuery;break;default:c--;b._focus(c);break}}else{switch(c){case -1:c=0;b._focus(c);break;case d.length-1:c=-1;b.$clearHighlight();b.getElement("input").value=b.currentQuery;b.oldInputValue=b.currentQuery;break;default:c++;b._focus(c);break}}b.selectedIndex=c}return function(d){var c="up";switch(d.keyCode){case 27:case 9:b.hide();break;case 13:d.preventDefault();d.stopPropagation();if(b.selectedIndex>=0&&b.holdHighLight){b.$confirm(b.enableIndexs[b.selectedIndex])}else{b.fire("onconfirm",{data:b.getInputValue()});if(b.isShowing()){b._hide()}}break;case 40:c="down";case 38:d.preventDefault();d.stopPropagation();a(c);break;default:break}}},$dispose:function(){var a=this;if(a.disposed){return}if(a.suggestion){a.suggestion.$dispose();a.hide()}magic.Base.prototype.$dispose.call(a)}});magic.setup.suggestion=function(c,b){var c=baidu.dom("#"+c).get(0),a=magic.setup(c,magic.control.Suggestion,b);a.$mappingDom("input",c);a.fire("onload");return a};baidu.lang.isElement=baidu.isElement;baidu.createChain("fn",function(a){return new baidu.fn.$Fn(~"function|string".indexOf(baidu.type(a))?a:function(){})},function(a){this.fn=a});baidu.fn.extend({bind:function(a){var b=this.fn,c=arguments.length>1?Array.prototype.slice.call(arguments,1):null;return function(){var e=baidu.type(b)==="string"?a[b]:b,d=c?c.concat(Array.prototype.slice.call(arguments,0)):arguments;return e.apply(a||e,d)}}});baidu.fn.bind=function(c,b){var a=baidu.fn(c);return a.bind.apply(a,Array.prototype.slice.call(arguments,1))};baidu.makeArray=function(c,b){var a=b||[];if(!c){return a}c.length==null||~"string|function|regexp".indexOf(baidu.type(c))?[].push.call(a,c):baidu.merge(a,c);return a};baidu.each=function(b,f,e){var d,g,c,a;if(typeof f=="function"&&b){g=typeof b.length=="number"?b.length:b.byteLength;if(typeof g=="number"){if(Object.prototype.toString.call(b)==="[object Function]"){return b}for(d=0;d<g;d++){c=b[d]||(b.charAt&&b.charAt(d));a=f.call(e||c,d,c,b);if(a===false||a=="break"){break}}}else{if(typeof b=="number"){for(d=0;d<b;d++){a=f.call(e||d,d,d,d);if(a===false||a=="break"){break}}}else{if(typeof b=="object"){for(d in b){if(b.hasOwnProperty(d)){a=f.call(e||b[d],d,b[d],b);if(a===false||a=="break"){break}}}}}}}return b};void function(){Array.prototype.each=function(b,a){return baidu.each(this,b,a)};Array.prototype.forEach=function(b,a){return baidu.forEach(this,b,a)};baidu.array.each=baidu.array.forEach=function(d,c,a){var b=function(e,f,g){return c.call(a||g,f,e,g)};return baidu.isEnumerable(d)?baidu.each(d,typeof c=="function"?b:"",a):d}}();baidu.dom.match=function(){var b=/^[\w\#\-\$\.\*]+$/,c=document.createElement("DIV");c.id="__tangram__";return function(k,e,i){var f,h=baidu.array();switch(baidu.type(e)){case"$DOM":for(var d=k.length-1;d>-1;d--){for(var j=e.length-1;j>-1;j--){k[d]===e[j]&&h.push(k[d])}}break;case"function":baidu.forEach(k,function(m,l){e.call(m,l)&&h.push(m)});break;case"HTMLElement":baidu.forEach(k,function(l){l==e&&h.push(l)});break;case"string":var g=baidu.query(e,i||document);baidu.forEach(k,function(o){if(f=a(o)){var m=f.nodeType==1?baidu.query(e,f):g;for(var l=0,p=m.length;l<p;l++){if(m[l]===o){h.push(o);break}}}});h=h.unique();break;default:h=baidu.array(k).unique();break}return h};function a(f){var d=[],e;while(f=f.parentNode){f.nodeType&&d.push(f)}for(var e=d.length-1;e>-1;e--){if(d[e].nodeType==1||d[e].nodeType==9){return d[e]}}return null}}();baidu.dom.extend({children:function(c){var b,d=[];this.each(function(a){baidu.forEach(this.children||this.childNodes,function(e){e.nodeType==1&&d.push(e)})});return baidu.dom(baidu.dom.match(d,c))}});baidu.dom.children=function(a){baidu.check("string|HTMLElement","baidu.dom.children");return baidu.dom(baidu.isString(a)?"#"+a:a).children().toArray()};baidu.dom.extend({filter:function(a){return baidu.dom(baidu.dom.match(this,a))}});baidu._util_.cleanData=function(d){var a;for(var b=0,c;c=d[b];b++){a=baidu.id(c,"get");if(!a){continue}baidu._util_.eventBase.queue.remove(c);baidu.id(c,"remove")}};baidu.dom.extend({remove:function(a,d){arguments.length>0&&baidu.check("^string(?:,boolean)?$","baidu.dom.remove");var e=a?this.filter(a):this;for(var b=0,c;c=e[b];b++){if(!d&&c.nodeType===1){baidu._util_.cleanData(c.getElementsByTagName("*"));baidu._util_.cleanData([c])}c.parentNode&&c.parentNode.removeChild(c)}return this}});baidu.dom.extend({closest:function(a,c){var b=baidu.array();baidu.forEach(this,function(e){var d=[e];while(e=e.parentNode){e.nodeType&&d.push(e)}d=baidu.dom.match(d,a,c);d.length&&b.push(d[0])});return baidu.dom(b.unique())}});void function(){function a(b){this._options=b;this._constructor()}a.prototype._constructor=function(){var c=this,b=c._options;c._element=baidu.lang.isElement(b.content)&&b.content;c.guid=c._element.id||baidu.lang.guid()+"-carousel-item";c._element&&!c._element.id&&(c._element.id=c.guid)};a.prototype.render=function(g,f){if(this._element){return}var e=this,c=e._options,h=baidu.dom(g).children(),b=h[0]?h[0].tagName:"li",d="<"+b+' id="#{rsid}" class="#{class}">#{content}</'+b+">";baidu.dom(g).insertHTML(f=="forward"?"beforeEnd":"afterBegin",baidu.string.format(d,{rsid:e.guid,"class":"tang-carousel-item"+(c.empty?" tang-carousel-item-empty":""),content:c.empty?"&nbsp;":""}));e._element=baidu.dom("#"+e.guid).get(0)};a.prototype.insert=function(d,c){var b=this;if(b._element){c=="forward"?d.appendChild(b._element):d.insertBefore(b._element,d.firstChild)}else{b.render(d,c)}};a.prototype.loadContent=function(){var b=this};a.prototype.getElement=function(){var b=this;return b._element||baidu.dom("#"+this.guid).get(0)};magic.control.Carousel=baidu.lang.createClass(function(b){var d=this,e=b.focusRange,c;d._options=baidu.object.extend({viewSize:3,step:1,focusRange:{min:0,max:b.viewSize-1||2},orientation:"horizontal",originalIndex:0,isLoop:false},b);c=d._options;d._selectedIndex=c.originalIndex;e&&(c.focusRange={min:Math.max(0,e.min),max:Math.min(c.viewSize-1,e.max)});d._items=c.items||[];d._dataIds=[];d._datas={};d.on("onfocus",function(){d._scrolling=false});d.on("onload",function(g){var j=d._axis[d._options.orientation],f=d._selectedIndex,h=d._options,k=h.focusRange,i=baidu.fn.bind("_onEventHandler",d);d.$mappingDom("container",baidu(".tang-carousel-container",d.getElement())[0]).$mappingDom("element",baidu(".tang-carousel-element",d.getElement())[0]);baidu.dom(baidu.dom(d.getElement("element")).children()).each(function(l,n){var m=new a({content:n});d._dataIds.push(m.guid);d._datas[m.guid]=m;baidu.dom(n)[f==l?"addClass":"removeClass"]("tang-carousel-item-selected")});d._clear(f,k[f>(d._dataIds.length-1)/2?"max":"min"],true);d._resize();baidu.dom(d.getElement("element")).on("click",i);baidu.dom(d.getElement("element")).on("mouseover",i);baidu.dom(d.getElement("element")).on("mouseout",i);d.on("ondispose",function(){baidu.dom(d.getElement("element")).off("click",i);baidu.dom(d.getElement("element")).off("mouseover",i);baidu.dom(d.getElement("element")).off("mouseout",i)})})},{type:"magic.control.Carousel",superClass:magic.Base}).extend({_axis:{horizontal:{size:"width",offsetPos:"offsetLeft",offsetSize:"offsetWidth",scrollPos:"scrollLeft"},vertical:{size:"height",offsetPos:"offsetTop",offsetSize:"offsetHeight",scrollPos:"scrollTop"}},_onEventHandler:function(c){var g=this,e=g._options,d=g.getElement("element"),h=c.target;if(!baidu.dom.contains(g.getElement("element"),h)){return}var f=baidu.dom(h).closest(".tang-carousel-item").get(0);if(c.type==="mouseover"){var b=c.fromElement||c.relatedTarget}else{if(c.type==="mouseout"){var b=c.toElement||c.relatedTarget}}if(baidu.dom(b).closest(f).size()>0){return}g.fire("on"+c.type.toLowerCase()+"item",{DOMEvent:c,index:baidu.array.indexOf(g._dataIds,f.id)})},_getItemBound:function(){var e=this,c=e._options,b=c.orientation.toLowerCase()=="horizontal",d=e._axis[c.orientation],f=e._bound,g;if(!f){g=baidu.dom(e.getElement("element")).children().get(0);if(g){f=e._bound={marginPrev:parseInt(baidu.dom(g).css("margin"+(b?"Left":"Top")),10),marginNext:parseInt(baidu.dom(g).css("margin"+(b?"Right":"Bottom")),10),size:g[d.offsetSize]};f.bound=f.size+(b?(f.marginPrev+f.marginNext):Math.max(f.marginPrev,f.marginNext))}}return f||{marginPrev:0,marginNext:0,size:0,bound:0}},_resize:function(){var d=this,c=d._axis[d._options.orientation],b=d.getElement("element"),e=baidu.dom(b).children();b.style[c.size]=e.length*d._getItemBound().bound+"px"},_clear:function(h,g,f){var i=this,e=i._axis[i._options.orientation],b=i._options,j=b.viewSize,d=b.focusRange,l=i._dataIds.length,c=baidu.makeArray(baidu.dom(i.getElement("element")).children()),k=baidu.array(c).indexOf(i._getItem(h).getElement());if(f){h-d.min<0&&(g=h);h+j-d.max>l&&(g=j-l+h)}baidu.array(c).each(function(m,n){(m<k-g||m>k+j-g-1)&&baidu.dom(n).remove()});i.getElement("container")[e.scrollPos]=0},_getItem:function(b){var c=this;return c._datas[typeof b=="string"?b:c._dataIds[b]]},_toggle:function(b){var c=this;baidu.dom("#"+c._dataIds[c._selectedIndex]).removeClass("tang-carousel-item-selected");c._selectedIndex=b;baidu.dom("#"+c._dataIds[b]).addClass("tang-carousel-item-selected")},_scrollTo:function(m,u){var x=this,c=x._options,v=c.focusRange,h=x._selectedIndex,g=x._axis[c.orientation],u=u||(m>h?"forward":"backward"),f=u.toLowerCase()=="forward",q=x.getElement("container"),e=x.getElement("element"),b=x._getItemBound(),y=baidu.dom("#"+x._getItem(m).guid).get(0),t=x._dataIds.length,k=baidu.makeArray(baidu.dom(e).children()),w=baidu.array.indexOf(k,x._getItem(h).getElement()),s=((f?1:-1)*(m-h)+t)%t+(f?c.viewSize-v.max-1:v.min)-(f?k.length-w-1:w),n=[],l,p,j,o,d;if(m==h||x._dataIds.length<=c.viewSize||x._scrolling){return}x._scrolling=true;if(!y||y[g.offsetPos]<v.min*b.bound||y[g.offsetPos]-b.marginPrev>v.max*b.bound){for(var r=0;r<s;r++){l=(h+(f?k.length-w-1:-w)+(f?1:-1)*(r+1)+t)%t;p=baidu.dom("#"+x._dataIds[l]).get(0);o=p?new a({empty:true}):x._getItem(l);o.insert(e,u);o.loadContent();p&&n.push({empty:o.getElement(),item:p})}x._resize();!f&&(q[g.scrollPos]+=b.bound*s);if(x.fire("onbeforescroll",{index:m,distance:(f?1:-1)*b.bound*s,empty:n})){x._toggle(m);while(n.length>0){d=n.shift();e.replaceChild(d.item,d.empty);baidu.dom(d.empty).remove()}x._clear(m,v[f?"max":"min"]);x._resize();x.fire("onfocus",{direction:u})}}else{x._toggle(m);x.fire("onfocus",{direction:u})}},_basicFlip:function(g){var h=this,f=h._options,i=f.focusRange,d=(g=="forward")?1:-1,b=h._selectedIndex,c=h._dataIds.length,e=f.isLoop?(b+d*f.step+c)%c:Math.min(c-1-(f.viewSize-1-i.max),Math.max(0+i.min,b+d*f.step));h._scrollTo(e,g)},focusPrev:function(){this._basicFlip("backward")},focusNext:function(){this._basicFlip("forward")},focus:function(b,c){var b=Math.min(Math.max(0,b),this._dataIds.length-1);this._scrollTo(b,c)},getCurrentIndex:function(){return this._selectedIndex},getTotalCount:function(){return this._dataIds.length},$dispose:function(){var b=this;if(b.disposed){return}magic.Base.prototype.$dispose.call(b)}})}();magic.Carousel=baidu.lang.createClass(function(a){},{type:"magic.Carousel",superClass:magic.control.Carousel}).extend({tplItem:'<li class="#{class}">#{content}</li>',toHTMLString:function(){var c=this,a=c._options.items.length,d=[];for(var b=0;b<a;b++){d.push(baidu.string.format(c.tplItem,{"class":"tang-carousel-item",content:c._items[b].content}))}return baidu.string.format('<div class="#{containerClass}"><ul class="#{elementClass}">#{content}</ul></div>',{containerClass:"tang-carousel-container",elementClass:"tang-carousel-element",content:d.join("")})},render:function(c){var b=this,a;if(b.getElement()){return}b.$mappingDom("",baidu.dom("#"+c).get(0)||document.body);a=b.getElement();baidu.dom(a).addClass("tang-ui tang-carousel").insertHTML("beforeEnd",b.toHTMLString());b.fire("ondomready");b.fire("onload")},$dispose:function(){var b=this,a;if(b.disposed){return}baidu.dom(b.getElement()).removeClass("tang-ui tang-carousel");a=b.getElement("container");magic.Base.prototype.$dispose.call(b);baidu.dom(a).remove();a=null}});magic.setup.carousel=function(c,b){var a=magic.setup(baidu.dom("#"+c).get(0),magic.control.Carousel,b);a.fire("onload");return a};baidu.lang.register=function(b,d,a){var c=b["\x06r"]||(b["\x06r"]=[]);c[c.length]=d;for(var e in a){b.prototype[e]=a[e]}};baidu.lang.register(magic.control.Carousel,function(c){var e=this,b,d;e._options.button=baidu.object.extend({enable:true},e._options.button);if(!e._options.button.enable){return}b=baidu.fn.bind("_onButtonClick",e,"backward");d=baidu.fn.bind("_onButtonClick",e,"forward");function a(){var g=e.getElement("prev"),f=e.getElement("next");baidu.dom(g)[e.isFirst()?"addClass":"removeClass"]("tang-carousel-btn-prev-disabled");baidu.dom(f)[e.isLast()?"addClass":"removeClass"]("tang-carousel-btn-next-disabled");baidu.dom(g)[!e.isFirst()?"addClass":"removeClass"]("tang-carousel-btn-prev");baidu.dom(f)[!e.isLast()?"addClass":"removeClass"]("tang-carousel-btn-next")}e.on("onload",function(f){e.$mappingDom("prev",baidu(".tang-carousel-btn-prev",e.getElement())[0]).$mappingDom("next",baidu(".tang-carousel-btn-next",e.getElement())[0]);baidu.dom(e.getElement("prev")).on("click",b);baidu.dom(e.getElement("next")).on("click",d);a()});e.on("onfocus",function(){a()});e.on("ondispose",function(){baidu.dom(e.getElement("prev")).off("click",b);baidu.dom(e.getElement("next")).off("click",d)})},{_onButtonClick:function(c,a){var b=this;if(c=="forward"?b.isLast():b.isFirst()){return}b._basicFlip(c)},_isLimit:function(d){var c=this,b=c._options,f=b.focusRange,a=c._selectedIndex,e=(d=="forward")?a>=c.getTotalCount()-1-(b.viewSize-1-f.max):a<=f.min;return b.isLoop?false:e},isFirst:function(){return this._isLimit("backward")},isLast:function(){return this._isLimit("forward")}});baidu.lang.register(magic.Carousel,function(a){var b=this,c='<a href="#" class="tang-carousel-btn #{class}" onclick="return false;">#{content}</a>';b._options.button=baidu.object.extend({buttonLabel:{prev:"",next:""}},b._options.button);if(!b._options.button.enable){return}b.on("ondomready",function(e){var d=b.getElement();baidu.dom(d).insertHTML("afterBegin",baidu.string.format(c,{"class":"tang-carousel-btn-prev",content:b._options.button.buttonLabel.prev}));baidu.dom(d).insertHTML("beforeEnd",baidu.string.format(c,{"class":"tang-carousel-btn-next",content:b._options.button.buttonLabel.next}));b.on("ondispose",function(){baidu.array.each(["prev","next"],function(f){baidu.dom(b.getElement(f)).remove()})})})});void function(b){var a=/firefox/i.test(navigator.userAgent);baidu.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(d,c){b[d]={bindType:c,pack:function(f){var e=baidu.dom.contains;return function(h){var g=h.relatedTarget;h.type=d;if(!g||(g!==this&&!e(this,g))){return f.apply(this,arguments)}}}}});if(a){baidu.each({focusin:"focus",focusout:"blur"},function(d,c){b[d]={bindType:c,attachElements:"textarea,select,input,button,a"}})}b.mousewheel={bindType:a?"DOMMouseScroll":"mousewheel",pack:function(c){return function(d){var f=d.originalEvent;d.type="mousewheel";d.wheelDelta=d.wheelDelta||(a?f.detail*-40:f.wheelDelta)||0;return c.apply(this,arguments)}}}}(baidu.event.special);baidu.lang.register(magic.control.Carousel,function(b){var c=this,a;c._options.autoScroll=baidu.object.extend({enable:true,interval:1000,direction:"forward"},c._options.autoScroll);a=c._options.autoScroll;if(!a.enable){return}a._autoScrolling=true;a.direction=a.direction.toLowerCase();c.on("onload",function(d){var e=baidu.fn.bind("_onMouseEventHandler",c);baidu.dom(c.getElement("element")).on("mouseenter",e);baidu.dom(c.getElement("element")).on("mouseleave",e);c.on("ondispose",function(){baidu.dom(c.getElement("element")).off("mouseenter",e);baidu.dom(c.getElement("element")).off("mouseleave",e)});c.start()});c.on("onfocus",function(d){if(!a._autoScrolling){return}d.target.start()});c.on("ondispose",function(d){d.target.stop()})},{_onMouseEventHandler:function(a){var c=this,d={mouseover:"mouseenter",mouseout:"mouseleave"},b=a.type;c.fire("on"+(d[b]||b),{DOMEvent:a})},start:function(){var b=this,a=b._options.autoScroll;a._autoScrolling=true;clearTimeout(a._autoScrollTimeout);a._autoScrollTimeout=setTimeout(function(){b._basicFlip(a.direction)},a.interval)},stop:function(){var b=this,a=b._options.autoScroll;clearTimeout(a._autoScrollTimeout);a._autoScrolling=false}});baidu.fx=baidu.fx||{};baidu.fx.Timeline=function(a){baidu.lang.Class.call(this);this.interval=16;this.duration=500;this.dynamic=true;baidu.object.extend(this,a)};baidu.lang.inherits(baidu.fx.Timeline,baidu.lang.Class,"baidu.fx.Timeline").extend({launch:function(){var a=this;a.dispatchEvent("onbeforestart");typeof a.initialize=="function"&&a.initialize();a["\x06btime"]=new Date().getTime();a["\x06etime"]=a["\x06btime"]+(a.dynamic?a.duration:0);a["\x06pulsed"]();return a},"\x06pulsed":function(){var b=this;var a=new Date().getTime();b.percent=(a-b["\x06btime"])/b.duration;b.dispatchEvent("onbeforeupdate");if(a>=b["\x06etime"]){typeof b.render=="function"&&b.render(b.transition(b.percent=1));typeof b.finish=="function"&&b.finish();b.dispatchEvent("onafterfinish");b.dispose();return}typeof b.render=="function"&&b.render(b.transition(b.percent));b.dispatchEvent("onafterupdate");b["\x06timer"]=setTimeout(function(){b["\x06pulsed"]()},b.interval)},transition:function(a){return a},cancel:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];typeof this.restore=="function"&&this.restore();this.dispatchEvent("oncancel");this.dispose()},end:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];this["\x06pulsed"]()}});baidu.fx.create=function(d,b,c){var e=new baidu.fx.Timeline(b);e.element=d;e.__type=c||e.__type;e["\x06original"]={};var a="baidu_current_effect";e.addEventListener("onbeforestart",function(){var g=this,f;g.attribName="att_"+g.__type.replace(/\W/g,"_");f=g.element.getAttribute(a);g.element.setAttribute(a,(f||"")+"|"+g.guid+"|",0);if(!g.overlapping){(f=g.element.getAttribute(g.attribName))&&baiduInstance(f).cancel();g.element.setAttribute(g.attribName,g.guid,0)}});e["\x06clean"]=function(h){var g=this,f;if(h=g.element){h.removeAttribute(g.attribName);f=h.getAttribute(a);f=f.replace("|"+g.guid+"|","");if(!f){h.removeAttribute(a)}else{h.setAttribute(a,f,0)}}};e.addEventListener("oncancel",function(){this["\x06clean"]();this["\x06restore"]()});e.addEventListener("onafterfinish",function(){this["\x06clean"]();this.restoreAfterFinish&&this["\x06restore"]()});e.protect=function(f){this["\x06original"][f]=this.element.style[f]};e["\x06restore"]=function(){var j=this["\x06original"],h=this.element.style,f;for(var g in j){f=j[g];if(typeof f=="undefined"){continue}h[g]=f;if(!f&&h.removeAttribute){h.removeAttribute(g)}else{if(!f&&h.removeProperty){h.removeProperty(g)}}}};return e};baidu.fx.scrollBy=function(b,g,a){if(!(b=baidu.dom.g(b))||typeof g!="object"){return null}var f={},e={};f.x=g[0]||g.x||0;f.y=g[1]||g.y||0;var c=baidu.fx.create(b,baidu.object.extend({initialize:function(){var h=e.sTop=b.scrollTop;var d=e.sLeft=b.scrollLeft;e.sx=Math.min(b.scrollWidth-b.clientWidth-d,f.x);e.sy=Math.min(b.scrollHeight-b.clientHeight-h,f.y)},transition:function(d){return 1-Math.pow(1-d,2)},render:function(d){b.scrollTop=(e.sy*d+e.sTop);b.scrollLeft=(e.sx*d+e.sLeft)},restore:function(){b.scrollTop=e.sTop;b.scrollLeft=e.sLeft}},a),"baidu.fx.scroll");return c.launch()};baidu.fx.scrollTo=function(c,a,b){if(!(c=baidu.dom.g(c))||typeof a!="object"){return null}var e={};e.x=(a[0]||a.x||0)-c.scrollLeft;e.y=(a[1]||a.y||0)-c.scrollTop;return baidu.fx.scrollBy(c,e,b)};baidu.lang.instance=function(a){return baidu._global_._instances_[a]||null};baidu.fx.current=function(d){if(!(d=baidu.dom.g(d))){return null}var b,f,e=/\|([^\|]+)\|/g;do{if(f=d.getAttribute("baidu_current_effect")){break}}while((d=d.parentNode)&&d.nodeType==1);if(!f){return null}if((b=f.match(e))){e=/\|([^\|]+)\|/;for(var c=0;c<b.length;c++){e.test(b[c]);b[c]=baidu._global_._instances_[RegExp["\x241"]]}}return b};baidu.lang.register(magic.control.Carousel,function(a){var b=this;b._options.fx=baidu.object.extend({enable:true},b._options.fx);if(!b._options.fx.enable){return}b.on("onbeforescroll",function(e){e.returnValue=false;if(baidu.fx.current(b.getElement("container"))){return}var f=b._options,g=b._axis[f.orientation],d=f.orientation=="horizontal",c=b.getElement("container"),i=c[g.scrollPos]+e.distance,h=baidu.object.extend({onbeforeupdate:function(){if(e.empty.length<=0){return}var l=e.empty[0],j,k;if(e.distance<0?l.empty[g.offsetPos]+l.empty[g.offsetSize]-c[g.scrollPos]>=0:l.empty[g.offsetPos]-c[g.scrollPos]<=c[g.offsetSize]){j=l.empty.parentNode;k=l.empty.cloneNode(true);j.replaceChild(k,l.empty);j.replaceChild(l.empty,l.item);j.replaceChild(l.item,k);e.empty.shift()}},onafterfinish:function(){if(b.disposed){return}b._toggle(e.index);b._clear(e.index,f.focusRange[e.distance<0?"min":"max"]);b._resize();b.fire("onfocus",{direction:e.distance>0?"forward":"backward"})}},f.fx);baidu.fx.scrollTo(c,{x:d?i:0,y:d?0:i},h)})});baidu.event.preventDefault=function(a){return new baidu.event(a).preventDefault()};magic.Pager=baidu.lang.createClass(function(a){var b=this;this.currentPage=1;this.totalPage=1;this.viewSize=10;this.currentPagePos=4;this.labelFirst="\u9996\u9875";this.labelPrev="\u4e0a\u4e00\u9875";this.labelNext="\u4e0b\u4e00\u9875";this.labelLast="\u5c3e\u9875";this.tplURL="##{pageNum}";this.tplLabelNormal="#{pageNum}";this.tplLabelCurrent="#{pageNum}";baidu.object.extend(this,a);this.currentPage=Math.max(this.currentPage,1)},{type:"magic.Pager",superClass:magic.Base}).extend({_buildLink:function(b,a,c){return"<a onclick=\"return baiduInstance('"+this.guid+"').$update("+b+')" href="'+baidu.string.format(this.tplURL,{pageNum:b})+'" class="tang-pager-'+a+'">'+c+"</a>"},"$update":function(b){this.currentPage=b;var a=this.getElement();a.innerHTML="";this.render(this.$getId());return this.fire("pagechange",{pageNum:b})},"$toHTMLString":function(){var d,b=[],c=this.totalPage<this.viewSize||this.currentPage<=this.currentPagePos?1:Math.min(this.currentPage-this.currentPagePos,this.totalPage-this.viewSize+1),a=Math.min(this.totalPage,c+this.viewSize-1);b.push('<div id="'+this.$getId("main")+'" class="tang-pager-main">');if(1<this.currentPage){b.push(this._buildLink(1,"first",this.labelFirst));b.push(this._buildLink(this.currentPage-1,"previous",this.labelPrev))}for(d=c;d<this.currentPage;d++){b.push(this._buildLink(d,"normal",baidu.string.format(this.tplLabelNormal,{pageNum:d})))}b.push('<span class="tang-pager-current">'+baidu.string.format(this.tplLabelCurrent,{pageNum:this.currentPage})+"</span>");for(d=this.currentPage+1;d<=a;d++){b.push(this._buildLink(d,"normal",baidu.string.format(this.tplLabelNormal,{pageNum:d})))}if(this.totalPage>this.currentPage){b.push(this._buildLink(this.currentPage+1,"next",this.labelNext));b.push(this._buildLink(this.totalPage,"last",this.labelLast))}b.push("</div>");return b.join("")},render:function(a){if(!this.getElement()){this.$mappingDom("",a||document.body)}a=baidu.dom("#"+a);baidu.dom(a).addClass("tang-pager").insertHTML("beforeEnd",this.$toHTMLString());this.fire("load")},"$dispose":function(){if(this.disposed){return}var b=this.getElement(),a=this.getElement("main");baidu.dom(b).removeClass("tang-pager");magic.Base.prototype.$dispose.call(this);baidu.dom(a).remove();b=a=null}});baidu.date=baidu.date||{};baidu.createChain("number",function(c){var b=parseFloat(c),e=isNaN(b)?b:c,a=typeof e==="number"?Number:String,d=a.prototype;e=new a(e);baidu.forEach(baidu.number.$Number.prototype,function(g,f){d[f]||(e[f]=g)});return e});baidu.number.extend({pad:function(c){var d=this;var e="",b=(d<0),a=String(Math.abs(d));if(a.length<c){e=(new Array(c-a.length+1)).join("0")}return(b?"-":"")+e+a}});baidu.date.format=function(a,f){if("string"!=typeof f){return a.toString()}function d(l,k){f=f.replace(l,k)}var b=baidu.number.pad,g=a.getFullYear(),e=a.getMonth()+1,j=a.getDate(),h=a.getHours(),c=a.getMinutes(),i=a.getSeconds();d(/yyyy/g,b(g,4));d(/yy/g,b(parseInt(g.toString().slice(2),10),2));d(/MM/g,b(e,2));d(/M/g,e);d(/dd/g,b(j,2));d(/d/g,j);d(/HH/g,b(h,2));d(/H/g,h);d(/hh/g,b(h%12,2));d(/h/g,h%12);d(/mm/g,b(c,2));d(/m/g,c);d(/ss/g,b(i,2));d(/s/g,i);return f};baidu.lang.isObject=baidu.isObject;baidu.lang.isFunction=baidu.isFunction;(function(){var b=function(c){return baidu.lang.isObject(c)&&!baidu.lang.isFunction(c)};function a(g,f,e,d,c){if(f.hasOwnProperty(e)){if(c&&b(g[e])){baidu.object.merge(g[e],f[e],{overwrite:d,recursive:c})}else{if(d||!(e in g)){g[e]=f[e]}}}}baidu.object.merge=function(h,c,k){var e=0,l=k||{},g=l.overwrite,j=l.whiteList,d=l.recursive,f;if(j&&j.length){f=j.length;for(;e<f;++e){a(h,c,j[e],g,d)}}else{for(e in c){a(h,c,e,g,d)}}return h}})();baidu.i18n=baidu.i18n||{};baidu.i18n.date=baidu.i18n.date||{getDaysInMonth:function(a,b){var c=[31,28,31,30,31,30,31,31,30,31,30,31];if(b==1&&baidu.i18n.date.isLeapYear(a)){return 29}return c[b]},isLeapYear:function(a){return !(a%400)||(!(a%4)&&!!(a%100))},toLocaleDate:function(b,a,c){return this._basicDate(b,a,c||baidu.i18n.currentLocale)},_basicDate:function(f,c,h){var a=baidu.i18n.cultures[h||baidu.i18n.currentLocale].timeZone,g=a*60,b,d,e=f.getTime();if(c){b=baidu.i18n.cultures[c].timeZone;d=b*60}else{d=-1*f.getTimezoneOffset();b=d/60}return new Date(b!=a?(e+(g-d)*60000):e)},format:function(a,b){var d=baidu.i18n.cultrues[b||baidu.i18n.currentLocale];return baidu.date.format(baidu.i18n.date.toLocaleDate(a,"",b),d.calendar.dateFormat)}};baidu.i18n.cultures=baidu.i18n.cultures||{};baidu.i18n.cultures["zh-CN"]=baidu.object.extend(baidu.i18n.cultures["zh-CN"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{yyyy}\u5e74&nbsp;#{MM}\u6708",monthNames:["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"],monthNamesShort:[1,2,3,4,5,6,7,8,9,10,11,12],dayNames:{mon:"\u4e00",tue:"\u4e8c",wed:"\u4e09",thu:"\u56db",fri:"\u4e94",sat:"\u516d",sun:"\u65e5"}},timeZone:8,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(b,a){return baidu.i18n.number._format(b,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:a?this.negative:this.positive})}},currency:{symbol:"\uffe5"},language:{ok:"\u786e\u5b9a",cancel:"\u53d6\u6d88",signin:"\u6ce8\u518c",signup:"\u767b\u5f55"}});baidu.i18n.currentLocale="zh-CN";baidu.lang.isDate=baidu.isDate;magic.Calendar=baidu.lang.createClass(function(a){var b=this;b._options=baidu.object.extend({weekStart:"sun",initDate:baidu.i18n.date.toLocaleDate(new Date()),highlightDates:[],disabledDates:[],disabledDayOfWeek:[],language:"zh-CN"},a||{});b.currentDate=new Date(b._options.initDate);b.selectedDate=new Date(b._options.initDate);b.dayNames=[]},{type:"magic.Calendar",superClass:magic.Base});magic.Calendar.extend({tplSkeleton:'<div id="#{calendarId}" class="#{calendarClass}"><div id="#{titleId}" class="#{titleClass}"></div><div id="#{tableId}" class="#{tableClass}"></div></div>',tplDate:'<td id="#{id}" class="#{class}" onmouseover="#{mouseover}" onmouseout="#{mouseout}" onclick="#{click}">#{date}</td>',render:function(a){var b=this;if(baidu.type(a)==="string"){a="#"+a}b.container=baidu(a)[0];b._renderSkeleton();b._renderTitle();b._renderDateTable();b._renderNavBtn();b._bindTable();b._bindNavBtn();b._addkeystrokesListener();b.fire("render")},_rerender:function(){var a=this;a._renderTitle();a._renderDateTable();a._bindTable()},_getId:function(a){return this._eid+(a===undefined?"tang_calendar":"tang_calendar_"+a)},_getClass:function(a){return a===undefined?"tang-calendar":"tang-calendar-"+a},_renderSkeleton:function(){var b=this,a=b.container;baidu(a).insertHTML("beforeEnd",baidu.string.format(b.tplSkeleton,{calendarId:b._getId(),calendarClass:b._getClass(),titleId:b._getId("title"),titleClass:b._getClass("title"),tableId:b._getId("table"),tableClass:b._getClass("table")}));b.titleEl=baidu("#"+b._getId("title"))[0];b.tableEl=baidu("#"+b._getId("table"))[0];b.$mappingDom("",baidu("#"+b._getId())[0]);b.$mappingDom("calendar",baidu("#"+b._getId())[0]);b.$mappingDom("title",b.titleEl);b.$mappingDom("table",b.tableEl)},_renderTitle:function(){var c=this,a=c.currentDate,b=a.getFullYear(),d=a.getMonth()+1;c.titleEl.innerHTML=baidu.string.format(baidu.i18n.cultures[c._options.language].calendar.titleNames,{yyyy:b,MM:baidu.i18n.cultures[c._options.language].calendar.monthNamesShort[d-1]})},_renderDateTable:function(){var b=this._getTheadString(),a=this._getTbodyString();this.tableEl.innerHTML='<table border="0" cellpadding="0" cellspacing="0">'+b+a+"</table>"},_renderNavBtn:function(){var c=this,b=baidu("#"+c._getId())[0],e=document,d=e.createElement("div"),a=e.createElement("div"),f=e.createElement("div"),g=e.createElement("div");d.className=c._getClass("prebtn");a.className=c._getClass("nextbtn");f.className=c._getClass("yprebtn");g.className=c._getClass("ynextbtn");b.appendChild(d);b.appendChild(a);b.appendChild(f);b.appendChild(g);c.preBtn=d;c.nextBtn=a;c.ypreBtn=f;c.ynextBtn=g;c.$mappingDom("premonthbtn",d);c.$mappingDom("nextmonthbtn",a);c.$mappingDom("preyearbtn",f);c.$mappingDom("preyearhbtn",g)},_bindNavBtn:function(){var p=this,m=p.preBtn,l=p.nextBtn,q=p.ypreBtn,e=p.ynextBtn,b=false,c,f,g,j,n,r,d,h,o;baidu(m).on("click",c=function(){!b&&p.preMonth();b=false;p.fire("premonth")});baidu(l).on("click",f=function(){!b&&p.nextMonth();b=false;p.fire("nextmonth")});baidu(q).on("click",g=function(){!b&&p.preYear();b=false;p.fire("preyear")});baidu(e).on("click",j=function(){!b&&p.nextYear();b=false;p.fire("nextyear")});var i=null;var a=function(u,t){if(i){return}function s(){i=setTimeout(function(){t?(u=="pre"?p.preYear():p.nextYear()):(u=="pre"?p.preMonth():p.nextMonth());b=true;s()},500)}s()};var k=function(){clearTimeout(i);i=null};baidu(m).on("mousedown",n=function(){a("pre")});baidu(l).on("mousedown",r=function(){a("next")});baidu(q).on("mousedown",d=function(){a("pre",true)});baidu(e).on("mousedown",h=function(){a("next",true)});baidu(document).on("mouseup",o=function(){if(p.disposed){return}i&&k()});p.on("dispose",function(){baidu(m).off("click",c);baidu(l).off("click",f);baidu(q).off("click",g);baidu(e).off("click",j);baidu(m).off("mousedown",n);baidu(l).off("mousedown",r);baidu(q).off("mousedown",d);baidu(e).off("mousedown",h);baidu(document).off("mouseup",o)})},_getTheadString:function(){var g=this,h=["mon","tue","wed","thu","fri","sat","sun"],b,a=[],c=g._options.weekStart.toLowerCase(),d=baidu.array.indexOf(h,c),f=baidu.i18n.cultures[g._options.language].calendar.dayNames,e=0;a.push('<thead class="'+g._getClass("weekdays")+'"><tr>');for(;e<7;e++){d>6&&(d=0);g.dayNames.push(h[d]);b=f[h[d]];a.push("<th>"+b+"</th>");d++}a.push("</tr></thead>");return a.join("")},_getTbodyString:function(){var n=this,d=n.dayNames,m=["sun","mon","tue","wed","thu","fri","sat"],f=new Date(n.currentDate),o,p=0,c=[],q=0,b=baidu.i18n.date.getDaysInMonth(f.getFullYear(),f.getMonth()),a=5,h="",e="";f.setDate(1);o=f.getDay();p=baidu.array.indexOf(d,m[o]);if(p+b>35){a=6}f.setDate(f.getDate()-p);var l=0,k=0,g="";for(;l<a;l++){c.push("<tr>");for(;k<7;k++){g=n._getClass("date");h="";if(f.getDay()==0||f.getDay()==6){g+=" "+n._getClass("weekend")}if(n._datesEqual(baidu.i18n.date.toLocaleDate(new Date()),f)){g+=" "+n._getClass("today")}if(n._datesContains(n._options.highlightDates,f)){g+=" "+n._getClass("highlight")}if(n._datesContains(n._options.disabledDates,f)){g+=" "+n._getClass("disable")}if(n._dayOfWeekInDisabled(f.getDay())){g+=" "+n._getClass("disable")}if(n._datesEqual(n.selectedDate,f)){g+=" "+n._getClass("selected");h='id="'+n._getId("selected")+'"'}if(f.getMonth()<n.currentDate.getMonth()||f.getFullYear()<n.currentDate.getFullYear()){g+=" "+n._getClass("premonth")}else{if(f.getMonth()>n.currentDate.getMonth()||f.getFullYear()>n.currentDate.getFullYear()){g+=" "+n._getClass("nextmonth")}}e=n._formatDate(new Date(f.getFullYear()+"/"+(f.getMonth()+1)+"/"+f.getDate()));c.push("<td "+h+' class="'+g+'" date="'+e+'" onmouseover=baiduInstance("'+n.guid+'")._mouseoverHandler(event) onmouseout=baiduInstance("'+n.guid+'")._mouseoutHandler(event)>'+f.getDate()+"</td>");f.setDate(f.getDate()+1)}c.push("</tr>");k=0}return"<tbody>"+c.join("")+"</tbody>"},_formatDate:function(e){var b=e.getFullYear(),c=e.getMonth()+1,a=e.getDate();c=c>=10?c:("0"+c);a=a>=10?a:("0"+a);return b+"/"+c+"/"+a},_mouseoverHandler:function(c){var a=this,b;b=baidu.event(c).target;baidu(b).addClass(a._getClass("hover"));a.fire("mouseover",{target:b})},_mouseoutHandler:function(c){var a=this,b;b=baidu.event(c).target;baidu(b).removeClass(a._getClass("hover"));a.fire("mouseout",{target:b})},_bindTable:function(){var e=this,a=baidu("#"+e._getId("table"))[0].getElementsByTagName("tbody")[0],f,b,c,d,g;baidu(a).on("click",g=function(i){f=i.target;if(f.tagName.toUpperCase()!="TD"){return}b=f.getAttribute("date");c=new Date(b);var h=e.selectedDate;c.setHours(h.getHours());c.setMinutes(h.getMinutes());c.setSeconds(h.getSeconds());if(e._datesContains(e._options.disabledDates,c)){return}if(e._dayOfWeekInDisabled(c.getDay())){return}d=baidu("#"+e._getId("selected"))[0];if(d){d.id="";baidu(d).removeClass(e._getClass("selected"))}f.id=e._getId("selected");baidu(f).addClass(e._getClass("selected"));b=e._formatDate(c);e.selectedDate=new Date(b);e.fire("selectdate",{date:new Date(b)})});e.on("dispose",function(){baidu(a).off("click",g)})},_addkeystrokesListener:function(){var d=this,c=false,a=baidu("#"+d._getId())[0],e;function b(g){g=g||window.event;var f=true;switch(g.keyCode){case 33:d.preMonth();break;case 34:d.nextMonth();break;case 37:d._preDay();break;case 38:d._preDay();break;case 39:d._nextDay();break;case 40:d._nextDay();break;default:f=false;break}f&&g.preventDefault()}baidu(document).on("click",e=function(g){if(d.disposed){return}var f=g.target;if(!(baidu.dom.contains(a,f)||f==a)){baidu(document).off("keydown",b);c=false}else{if(c){return}baidu(document).on("keydown",b);c=true}});d.on("dispose",function(){baidu(document).off("click",e)})},_datesEqual:function(f,d){if(baidu.type(f)!="date"||baidu.type(d)!="date"){return}var c=f.getFullYear(),a=f.getMonth(),g=f.getDate(),b=d.getFullYear(),h=d.getMonth(),e=d.getDate();return(c==b)&&(a==h)&&(g==e)},_days:{mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:0},_dayOfWeekInDisabled:function(b){var c=this._options.disabledDayOfWeek,f=this._days,a=false,d=0,e;for(;d<c.length;d++){e=c[d];typeof e=="object"?(f[e.start]||0)<=b&&b<=f[e.end]&&(a=true):f[e]==b&&(a=true);if(a){break}}return a},_datesContains:function(g,f){var e=this,c=0,a=g.length,d,b=true;if(baidu.type(f)!="date"){return}for(;c<a;c++){d=g[c];if(baidu.lang.isDate(d)){if(e._datesEqual(d,f)){return true}}else{if(d.end){d.end=new Date(baidu.date.format(d.end,"yyyy/MM/dd")+" 23:59:59")}if((!d.start||f.getTime()>=d.start.getTime())&&(!d.end||f.getTime()<=d.end.getTime())){return true}}}return false},go:function(a,c){var b=this;b.currentDate.setFullYear(a);b.currentDate.setDate(1);c=c===undefined?b.currentDate.getMonth():c-1;b.currentDate.setMonth(c);b._rerender()},getDate:function(){return new Date(this.selectedDate)},setDate:function(b){var c=this,a=new Date(b);if(baidu.type(b)!="date"){return false}if(c._datesContains(c._options.disabledDates,a)){return}if(c._dayOfWeekInDisabled(a.getDay())){return}c.currentDate=new Date(b);c.selectedDate=new Date(b);c._rerender();return true},preMonth:function(){var d=this,a=d.currentDate,c=a.getMonth()+1,b=a.getFullYear();d.go(b,c-1)},nextMonth:function(){var d=this,a=d.currentDate,c=a.getMonth()+1,b=a.getFullYear();d.go(b,c+1)},preYear:function(){var b=this,a=b.currentDate;b.go(a.getFullYear()-1,a.getMonth()+1)},nextYear:function(){var b=this,a=b.currentDate;b.go(a.getFullYear()+1,a.getMonth()+1)},_preDay:function(){var b=this,a=new Date(b.selectedDate);a.setDate(a.getDate()-1);b.setDate(a);b.fire("selectdate",{date:a})},_nextDay:function(){var b=this,a=new Date(b.selectedDate);a.setDate(a.getDate()+1);b.setDate(a);b.fire("selectdate",{date:a})},$dispose:function(){var a=this;if(a.disposed){return}a.container.removeChild(baidu("#"+a._getId())[0]);magic.Base.prototype.$dispose.call(a)}});magic.control.DatePicker=baidu.lang.createClass(function(a){var b=this;b._options=a;b.language=a.language||"zh-CN";b.format=a.format||baidu.i18n.cultures[b.language].calendar.dateFormat||"yyyy-MM-dd HH:mm:ss";b.popupOption=baidu.object.merge({autoHide:false,autoTurn:false,disposeOnHide:false},a.popupOptions);b.calendarOption=baidu.object.merge({},a.calendarOptions);b.calendarOption.language=b.language;b.showing=false},{type:"magic.control.DatePicker",superClass:magic.Base}).extend({init:function(){var d=this,a=d.popup=new magic.Popup(d.popupOption),e=d.calendar=new magic.Calendar(d.calendarOption),c=d.input=d.getElement("input");if(d._options.title&&d._options.title.enable){d.init$title()}e.render(a.getElement("content"));d.calendar.on("selectdate",function(g,h){c.value=baidu.date.format(g.date,d.format);if(!(h&&h.ignoreHide)){d.hide()}d.fire("selectdate",{date:new Date(g.date)})});function b(){d.show()}function f(i){var h=baidu.event(i).target,g=e.getElement("calendar");if(h!=c&&!(baidu(g).contains(h)||g==h)){d.hide()}}baidu(c).on("click focus",b);if(!("oninput" in document.body)){c.onpropertychange=function(){if(d.disposed){return}if(event.propertyName=="value"){this.oninput&&this.oninput(event)}}}c.oninput=function(){if(d.disposed){return}if(d._getInputDate()&&d.calendar.setDate(d._getInputDate())){d.fire("selectdate",{date:new Date(d._getInputDate())})}};baidu(document).on("click",f);d.on("dispose",function(){baidu(c).off("click",b);baidu(c).off("focus",b);baidu(document).off("click",f)});d.$mappingDom("calendar",e.getElement("calendar"))},show:function(){var b=this,a=new Date();if(b.showing){return}b.showing=true;b.calendar.setDate(b._getInputDate()||b.calendarOption.initDate||baidu.i18n.date.toLocaleDate(new Date()));b.popup.attach(b.input,{offsetY:b.popupOption.offsetY||-1,offsetX:b.popupOption.offsetX||0});b.fire("show")},hide:function(){var a=this;if(!a.showing){return}a.showing=false;a.popup.hide();a.fire("hide")},getDate:function(){return baidu.i18n.date.toLocaleDate(new Date())},getSelectedDate:function(){return new Date(this.calendar.getDate())},_getInputDate:function(){var g=this,a=g.input.value,j=[/yyyy|yy/,/M{1,2}/,/d{1,2}/,/H{1,2}/,/m{1,2}/,/s{1,2}/],f=j.length,b=[],h,e,c;if(!a){return}for(var d=0;d<f;d++){if(h=j[d].exec(g.format)){e=h.index;b[d]=a.substring(e,e+h[0].length)}}c=new Date(b[0],b[1]-1,b[2],b[3]||null,b[4]||null,b[5]||null);if(baidu.lang.isDate(c)){return c}else{return}},$dispose:function(){var a=this;if(a.disposed){return}a.calendar.$dispose();a.popup.$dispose();magic.Base.prototype.$dispose.call(a)}});magic.setup.datePicker=function(c,b){if(baidu.type(c)==="string"){c="#"+c}var c=baidu(c)[0],a=magic.setup(c,magic.control.DatePicker,b);a.$mappingDom("input",c);a.init();return a};baidu.dom.extend({empty:function(){for(var a=0,b;b=this[a];a++){b.nodeType===1&&baidu._util_.cleanData(b.getElementsByTagName("*"));while(b.firstChild){b.removeChild(b.firstChild)}}return this}});baidu.dom.createElements=function(){var c=/<(\w+)/i,b=/<|&#?\w+;/,d={area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],_default:[0,"",""]};d.optgroup=d.option;d.tbody=d.tfoot=d.colgroup=d.caption=d.thead;d.th=d.td;function a(h,k){var j=h.getElementsByTagName("SCRIPT"),f,e,g;for(f=j.length-1;f>=0;f--){g=j[f];e=k.createElement("SCRIPT");g.id&&(e.id=g.id);g.src&&(e.src=g.src);g.type&&(e.type=g.type);e[g.text?"text":"textContent"]=g.text||g.textContent;g.parentNode.replaceChild(e,g)}}return function(i,l){baidu.isNumber(i)&&(i=i.toString());l=l||document;var f,h,j,m=i,g=m.length,e=l.createElement("div"),k=l.createDocumentFragment(),o=[];if(baidu.isString(m)){if(!b.test(m)){o.push(l.createTextNode(m))}else{f=d[m.match(c)[1].toLowerCase()]||d._default;e.innerHTML="<i>mz</i>"+f[1]+m+f[2];e.removeChild(e.firstChild);a(e,l);h=f[0];j=e;while(h--){j=j.firstChild}baidu.merge(o,j.childNodes);baidu.forEach(o,function(n){k.appendChild(n)});e=j=null}}e=null;return o}}();baidu.dom.extend({html:function(k){var e=baidu.dom,m=baidu._util_,h=this,i=false,l=!!m.support.dom.div.getElementsByTagName("link").length,c=(m.support.dom.div.firstChild.nodeType===3),o;if(!this.size()){switch(typeof k){case"undefined":return undefined;break;default:return h;break}}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",j=/<(?:script|style|link)/i,b=new RegExp("<(?:"+d+")[\\s/>]","i"),g=/^\s+/,a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,f=/<([\w:]+)/,n={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};n.optgroup=n.option;n.tbody=n.tfoot=n.colgroup=n.caption=n.thead;n.th=n.td;if(!l){n._default=[1,"X<div>","</div>"]}baidu.forEach(h,function(q,p){if(o){return}var s=e(q);switch(typeof k){case"undefined":o=(q.nodeType===1?q.innerHTML:undefined);return;break;case"number":k=String(k);case"string":i=true;if(!j.test(k)&&(l||!b.test(k))&&(c||!g.test(k))&&!n[(f.exec(k)||["",""])[1].toLowerCase()]){k=k.replace(a,"<$1></$2>");try{if(q.nodeType===1){s.empty();q.innerHTML=k}q=0}catch(r){}}if(q){h.empty().append(k)}break;case"function":i=true;s.html(k.call(q,p,s.html()));break}});return i?h:o}});baidu._util_.smartInsert=function(a,e,k){if(e.length<=0||a.size()<=0){return}if(baidu.type(e[0])==="function"){var g=e[0],j;return baidu.forEach(a,function(m,i){j=baidu.dom(m);e[0]=g.call(m,i,j.html());baidu._util_.smartInsert(j,e,k)})}var h=a.getDocument()||document,d=h.createDocumentFragment(),c=a.length-1,f;for(var b=0,l;l=e[b];b++){if(l.nodeType){d.appendChild(l)}else{baidu.forEach(~"string|number".indexOf(baidu.type(l))?baidu.dom.createElements(l,h):l,function(i){d.appendChild(i)})}}if(!(f=d.firstChild)){return}baidu.forEach(a,function(m,i){k.call(m.nodeName.toLowerCase()==="table"&&f.nodeName.toLowerCase()==="tr"?m.tBodies[0]||m.appendChild(m.ownerDocument.createElement("tbody")):m,i<c?d.cloneNode(true):d)})};baidu.dom.extend({append:function(){baidu.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.append");baidu._util_.smartInsert(this,arguments,function(a){this.nodeType===1&&this.appendChild(a)});return this}});baidu.dom.extend({text:function(f){var e=baidu.dom,d=this,c=false,a;if(this.size()<=0){switch(typeof f){case"undefined":return undefined;break;default:return d;break}}var b=function(l){var k,h="",j=0,g=l.nodeType;if(g){if(g===1||g===9||g===11){if(typeof l.textContent==="string"){return l.textContent}else{for(l=l.firstChild;l;l=l.nextSibling){h+=b(l)}}}else{if(g===3||g===4){return l.nodeValue}}}else{for(;(k=l[j]);j++){h+=b(k)}}return h};baidu.forEach(d,function(h,g){var i=e(h);if(a){return}switch(typeof f){case"undefined":a=b(h);return a;break;case"number":f=String(f);case"string":c=true;i.empty().append((h&&h.ownerDocument||document).createTextNode(f));break;case"function":c=true;i.text(f.call(h,g,i.text()));break}});return c?d:a}});void function(){var a=("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave mousewheel change select submit keydown keypress keyup error contextmenu").split(" ");var c={};var e=function(f){c[f]=function(h,g){if(g==null){g=h,h=null}return arguments.length>0?this.on(f,null,h,g):this.trigger(f)}};for(var d=0,b=a.length;d<b;d++){e(a[d])}baidu.dom.extend(c)}();baidu.array.extend({remove:function(a){var b=this.length;while(b--){if(this[b]===a){this.splice(b,1)}}return this}});void function(){var a=("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave mousewheel change select submit keydown keypress keyup error contextmenu").split(" ");var c={};var e=function(f){c[f]=function(h,g){if(g==null){g=h,h=null}return arguments.length>0?this.on(f,null,h,g):this.trigger(f)}};for(var d=0,b=a.length;d<b;d++){e(a[d])}baidu.dom.extend(c)}();baidu.dom.extend({empty:function(){for(var a=0,b;b=this[a];a++){b.nodeType===1&&baidu._util_.cleanData(b.getElementsByTagName("*"));while(b.firstChild){b.removeChild(b.firstChild)}}return this}});baidu.dom.createElements=function(){var c=/<(\w+)/i,b=/<|&#?\w+;/,d={area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],_default:[0,"",""]};d.optgroup=d.option;d.tbody=d.tfoot=d.colgroup=d.caption=d.thead;d.th=d.td;function a(h,k){var j=h.getElementsByTagName("SCRIPT"),f,e,g;for(f=j.length-1;f>=0;f--){g=j[f];e=k.createElement("SCRIPT");g.id&&(e.id=g.id);g.src&&(e.src=g.src);g.type&&(e.type=g.type);e[g.text?"text":"textContent"]=g.text||g.textContent;g.parentNode.replaceChild(e,g)}}return function(i,l){baidu.isNumber(i)&&(i=i.toString());l=l||document;var f,h,j,m=i,g=m.length,e=l.createElement("div"),k=l.createDocumentFragment(),o=[];if(baidu.isString(m)){if(!b.test(m)){o.push(l.createTextNode(m))}else{f=d[m.match(c)[1].toLowerCase()]||d._default;e.innerHTML="<i>mz</i>"+f[1]+m+f[2];e.removeChild(e.firstChild);a(e,l);h=f[0];j=e;while(h--){j=j.firstChild}baidu.merge(o,j.childNodes);baidu.forEach(o,function(n){k.appendChild(n)});e=j=null}}e=null;return o}}();baidu.dom.extend({html:function(k){var e=baidu.dom,m=baidu._util_,h=this,i=false,l=!!m.support.dom.div.getElementsByTagName("link").length,c=(m.support.dom.div.firstChild.nodeType===3),o;if(!this.size()){switch(typeof k){case"undefined":return undefined;break;default:return h;break}}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",j=/<(?:script|style|link)/i,b=new RegExp("<(?:"+d+")[\\s/>]","i"),g=/^\s+/,a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,f=/<([\w:]+)/,n={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};n.optgroup=n.option;n.tbody=n.tfoot=n.colgroup=n.caption=n.thead;n.th=n.td;if(!l){n._default=[1,"X<div>","</div>"]}baidu.forEach(h,function(q,p){if(o){return}var s=e(q);switch(typeof k){case"undefined":o=(q.nodeType===1?q.innerHTML:undefined);return;break;case"number":k=String(k);case"string":i=true;if(!j.test(k)&&(l||!b.test(k))&&(c||!g.test(k))&&!n[(f.exec(k)||["",""])[1].toLowerCase()]){k=k.replace(a,"<$1></$2>");try{if(q.nodeType===1){s.empty();q.innerHTML=k}q=0}catch(r){}}if(q){h.empty().append(k)}break;case"function":i=true;s.html(k.call(q,p,s.html()));break}});return i?h:o}});baidu._util_.smartInsert=function(a,e,k){if(e.length<=0||a.size()<=0){return}if(baidu.type(e[0])==="function"){var g=e[0],j;return baidu.forEach(a,function(m,i){j=baidu.dom(m);e[0]=g.call(m,i,j.html());baidu._util_.smartInsert(j,e,k)})}var h=a.getDocument()||document,d=h.createDocumentFragment(),c=a.length-1,f;for(var b=0,l;l=e[b];b++){if(l.nodeType){d.appendChild(l)}else{baidu.forEach(~"string|number".indexOf(baidu.type(l))?baidu.dom.createElements(l,h):l,function(i){d.appendChild(i)})}}if(!(f=d.firstChild)){return}baidu.forEach(a,function(m,i){k.call(m.nodeName.toLowerCase()==="table"&&f.nodeName.toLowerCase()==="tr"?m.tBodies[0]||m.appendChild(m.ownerDocument.createElement("tbody")):m,i<c?d.cloneNode(true):d)})};baidu.dom.extend({append:function(){baidu.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.append");baidu._util_.smartInsert(this,arguments,function(a){this.nodeType===1&&this.appendChild(a)});return this}});baidu.dom.extend({text:function(f){var e=baidu.dom,d=this,c=false,a;if(this.size()<=0){switch(typeof f){case"undefined":return undefined;break;default:return d;break}}var b=function(l){var k,h="",j=0,g=l.nodeType;if(g){if(g===1||g===9||g===11){if(typeof l.textContent==="string"){return l.textContent}else{for(l=l.firstChild;l;l=l.nextSibling){h+=b(l)}}}else{if(g===3||g===4){return l.nodeValue}}}else{for(;(k=l[j]);j++){h+=b(k)}}return h};baidu.forEach(d,function(h,g){var i=e(h);if(a){return}switch(typeof f){case"undefined":a=b(h);return a;break;case"number":f=String(f);case"string":c=true;i.empty().append((h&&h.ownerDocument||document).createTextNode(f));break;case"function":c=true;i.text(f.call(h,g,i.text()));break}});return c?d:a}});magic.control.ComboBox=baidu.lang.createClass(function(a){var b=this;b._options=baidu.object.extend({items:[],originIndex:-1,readonly:false,viewSize:5,disabled:false,width:"100%"},a);b.selectValue="";b.highlightIndex=-1;b.menu=new magic.Popup();b.isFocus=false;b.disabled=this._options.disabled;b.tempValue="";b.menufocusing=false;if(!magic.control.ComboBox.instanceArray){magic.control.ComboBox.instanceArray=[]}magic.control.ComboBox.instanceArray.push(b.guid);b.on("load",function(){b.setWidth(b._options.width);b.menu._host=b.getElement("container");b.menu.offsetY=-1;b.menu.setContent(b._menuContainerToHTMLString());this._renderMenu();b.menu.on("show",function(){b.fire("show")});b.menu.on("beforeshow",function(c){c.returnValue=b.fire("beforeshow")});b.menu.on("beforehide",function(c){c.returnValue=b.fire("beforehide")});b.menu.on("hide",function(){b.fire("hide")});baidu(b.getElement("input-container")).keydown(function(){!b.disabled&&(magic.control.ComboBox.globalActive=b.guid)});baidu(b.getElement("input-container")).click(function(){!b.disabled&&(magic.control.ComboBox.globalActive=b.guid)});if(!b._options.readonly){baidu(b.getElement("arrow")).click(function(){this.focus();!b.disabled&&b.menu.show()});baidu(b.getElement("input")).keydown(function(c){b._keydownHandler(c)})}else{baidu(b.getElement("input-container")).click(function(){b.getElement("arrow").focus();(!b.disabled)&&b.menu.show()})}baidu(b.getElement("arrow")).keydown(function(c){c.preventDefault();b._keydownHandler(c)});if(b.disabled){baidu(b.getElement("container")).addClass("magic-combobox-disable");b.getElement("input").disabled=true}b._initInput();baidu(this.getElement("menu")).click(function(d){magic.control.ComboBox.globalActive=b.guid;var c=d.target;if(c==this){return}while(c.tagName!="LI"){c=c.parentNode}b.$confirm(c);b.fire("clickitem",{result:b._getResult(c)})});baidu(this.getElement("menu")).mouseover(function(d){b.$clearHighlight();var c=d.target;if(c==this){return}while(c.tagName!="LI"){c=c.parentNode}b.$highlight(c)})});b.on("show",function(){b._setViewSize()});b.on("hide",function(){b.menufocusing=false});b.on("focus",function(){b.isFocus=true});b.on("blur",function(){b.isFocus=false});b.on("highlight",function(c){b.highlightIndex=c.index});b.on("beforeshow",function(c){if(b._options.items.length==0){c.returnValue=false}})},{type:"magic.control.ComboBox",superClass:magic.Base}).extend({_initInput:function(){var a=this._options.originIndex;if(this._options.readonly&&a==-1){a=0}if(a!=-1){this.$setByIndex(a)}else{this.selectValue=this.getElement("input").value=""}},_setViewSize:function(){baidu(this.getElement("menu")).css("height","");var a=baidu(".magic-combobox-menu-item",this.getElement("menu"))[0].offsetHeight*this._options.viewSize,b=this.getElement("menu").offsetHeight,c=b>a?a:b;baidu(this.getElement("menu")).css("height",c)},_renderMenu:function(c){var b=this;c=c||this._options.items;var a=this.$menuContentToHTMLString(c);this.getElement("menu").innerHTML=a},_keydownHandler:function(d){var b=38,g=40,a=13,f=baidu(".magic-combobox-menu-item",this.getElement("menu")),c=f.length;if(d.keyCode==a){this.menu.visible&&this.$confirm(f[this.highlightIndex])}else{if(d.keyCode==g||d.keyCode==b){if(!this.menu.visible){this.menu.show()}if(!this.menufocusing){this.menufocusing=true;this.tempValue=this.getElement("input").value}}}if(d.keyCode==g){this.$clearHighlight();if(++this.highlightIndex==c){this.highlightIndex=-1;this.getElement("input").value=this.tempValue;this.fire("pickOrigin",{content:this.tempValue})}else{this.$menufocus(f[this.highlightIndex])}}else{if(d.keyCode==b){d.preventDefault();this.$clearHighlight();if(this.highlightIndex==-1){this.highlightIndex=c}if(--this.highlightIndex==-1){this.getElement("input").value=this.tempValue;this.fire("pickOrigin",{content:this.tempValue})}else{this.$menufocus(f[this.highlightIndex])}}}},_getResult:function(a){return{value:baidu(a).attr("data-value"),index:baidu(a).attr("data-index"),content:baidu(a).text()}},_getValue:function(c){var a=this._options.items,b=a.length;while(b--){if(a[b].content==c){return a[b].value+""}}return null},"$pick":function(b){var a=this._getResult(b);if(this.fire("beforepick")){this.getElement("input").value=a.content;this.fire("pick",{result:a})}return a},"$menufocus":function(b){this.$highlight(b);var a=this.$pick(b);this.fire("menufocus",{result:a});return a},"$confirm":function(b){var a=b?this.$pick(b):{result:this.tempValue};this.menu.hide();this.fire("confirm",{result:a});if(this.selectValue!=a.value){this.fire("change",{from:"confirm",result:a})}this.selectValue=a.value;return a},"$highlight":function(a){baidu(a).addClass("magic-combobox-menu-item-hover");var b=baidu(a).attr("data-index");this.fire("highlight",{index:b})},"$clearHighlight":function(){var a=baidu(".magic-combobox-menu-item",this.getElement("menu"));a.removeClass("magic-combobox-menu-item-hover")},getValue:function(){return this.selectValue||this._getValue(this.getElement("input").value)||this.getElement("input").value},getSelectIndex:function(){for(var b=this._options.items,a=b.length;a--;){if(b[a].value+""===this.selectValue){return a}}return -1},setByValue:function(c){for(var b=this._options.items,a=b.length;a--;){if(b[a].value==c){this.selectValue=c;this.getElement("input").value=b[a].content;if(this.select){this.select.options[a].selected=true}break}}},"$setByIndex":function(a){var b=this._options.items[a]||this._options.items[0];this.getElement("input").value=b.content;this.selectValue=b.value;if(this.select){this.select.options[a].selected=true}},focus:function(){if(!this.isFocus){this.fire("focus")}},blur:function(){if(this.isFocus){var a=this._getValue(this.getElement("input").value);a=a?a:this.getElement("input").value;if(a!=this.selectValue){this.fire("change",{from:"blur"});this.selectValue=a}this.fire("blur")}},reset:function(){this._initInput();if(this.select){var a=this._options.originIndex==-1?0:this._options.originIndex;this.select.options[a].selected=true}},reload:function(a){this._options.items=a;this._renderMenu();this._initInput();this.highlightIndex=-1;this.fire("reload",{data:a})},disable:function(){if(!this.disabled){baidu(this.getElement("container")).addClass("magic-combobox-disable");this.getElement("input").disabled=true;this.disabled=true}},enable:function(){if(this.disabled){baidu(this.getElement("container")).removeClass("magic-combobox-disable");this.getElement("input").disabled=false;this.disabled=false}},setWidth:function(a){this.width=a;baidu(this.getElement("container")).css("width",a);this.menu.setWidth(this.getElement("container").offsetWidth)},"$dispose":function(){baidu(this.getElement("input-container")).off("click").off("keydown");baidu(this.getElement("input")).off("keydown").off("keyup");baidu(this.getElement("arrow")).off("click").off("keydown");baidu(this.getElement("menu")).off("click").off("mouseover").off("mouseout");this.menu.hide();this.menu.$dispose();baidu.array(magic.control.ComboBox.instanceArray).remove(this.guid);magic.Base.prototype.$dispose.call(this)}});(function(){magic.control.ComboBox.globalActive=null;function a(){var b=magic.control.ComboBox.globalActive;if(b!=null){var f=baiduInstance(b);f.focus()}var e=magic.control.ComboBox.instanceArray;if(e){for(var c=e.length;c--;){if(e[c]==b){continue}var d=baiduInstance(e[c]);if(d.isFocus){d.blur();break}}magic.control.ComboBox.globalActive=null}}baidu(document).click(a).keydown(a)})();magic.ComboBox=baidu.lang.createClass(function(a){},{type:"magic.ComboBox",superClass:magic.control.ComboBox}).extend({"$toHTMLString":function(){return['<div id="'+this.$getId("container")+'" class="magic-combobox">','<div id="'+this.$getId("input-container")+'" class="magic-combobox-input-container clearfix">','<div class="magic-combobox-input-outter">','<div class="magic-combobox-input-inner">','<input id="'+this.$getId("input")+'" class="magic-combobox-input"'+(this._options.readonly?"readonly":"")+">","</div>","</div>",'<a href="#" id="'+this.$getId("arrow")+'" class="magic-combobox-arrow" onclick="return false"></a>',"</div>","</div>"].join("")},_menuContainerToHTMLString:function(){return'<ul id="'+this.$getId("menu")+'" class="magic-combobox-menu"></ul>'},"$menuContentToHTMLString":function(b){var a=[];baidu.array(b).each(function(c,d){a.push('<li data-index="'+c+'" data-value="'+b[c].value+'" class="magic-combobox-menu-item">'+b[c].content+"</li>")});return a.join("")},render:function(b,a){a=a||"beforeEnd";baidu(b).insertHTML(a,this.$toHTMLString(this._options.items));this.fire("load")},"$dispose":function(){if(this.disposed){return}if(this.select){var c=this.select,b=c.parentNode}var a=this.getElement("container");magic.control.ComboBox.prototype.$dispose.call(this);baidu(a).remove();if(c){b.parentNode.insertBefore(c,b);baidu(b).remove();c.style.visibility="";c.style.width=""}a=null}});baidu.dom.getAttr=function(b,a){return baidu.dom(baidu.dom.g(b)).attr(a)}(function(){magic.setup.comboBox=function(e,d){d=d||{};var e=baidu.dom.g(e),c=a(e),g=null;baidu.object.extend(c,{width:e.offsetWidth+10,disabled:e.disabled});d=baidu.object.extend(c,d);var b=magic.setup(e,magic.ComboBox,d);baidu.dom.insertHTML(e,"beforeBegin",'<span id="'+b.guid+'-host" class="magic-combobox-host"></span>');var f=baidu("#"+b.guid+"-host");f.append(e);b.select=e;e.style.width=(e.offsetWidth+15)+"px";e.style.visibility="hidden";b.render(f,"afterBegin");baidu(b.getElement("container")).addClass("magic-combobox-container-setup");b.on("change",function(i){if(i.from=="confirm"){if(i.result.index){e.options[i.result.index].selected=true}}else{if(i.from=="blur"){var h=this.getElement("input").value;if(!g){g=document.createElement("OPTION");g.selected=true;e.add(g)}g.value=g.text=h}}});b.on("reload",function(l){var m=l.data,k=m.length,j=0;e.options.length=0;for(;j<k;j++){var h=document.createElement("OPTION");h.value=m[j].value;h.text=m[j].content;e.add(h)}});return b};function a(c){var b=[],e=-1,d=c.options;baidu.each(d,function(f,g){b.push({value:g.value,content:g.text});if(g.selected){e=f}});return{items:b,originIndex:e}}})();Array.prototype.filter=function(e,d){var a=baidu.array([]),c,g,f,b=0;if(baidu.type(e)==="function"){for(c=0,g=this.length;c<g;c++){f=this[c];if(e.call(d||this,f,c,this)===true){a[b++]=f}}}return a};baidu.array.filter=function(c,b,a){return baidu.isArray(c)?c.filter(b,a):[]};(function(){var a=baidu.lang.createClass(function(b){var c=this;c._options=baidu.object.extend({circleTime:10,waitingTime:100,originValue:"",getValue:function(){return null}},b);c.previous=null;c.now="";c.fireTimer=0;c.timer=0;c.originValue=c._options.originValue;c.focusValue=null}).extend({_compare:function(b){if(!this.timer){return}b.now=b._options.getValue();if(b.now==b.previous&&b.focusValue!=b.now&&b.now!=b.originValue){if(b.fireTimer==0){b.fireTimer=setTimeout(function(){b.fire("fire",{value:b.now})},b._options.waitingTime)}}else{clearTimeout(b.fireTimer);b.fireTimer=0;b.previous=b.now;if(b.now!=b.originValue){b.originValue=null}if(b.now!=b.focusValue){b.focusValue=null}}},start:function(){var b=this;b.timer=setInterval(function(){b._compare(b)},b._options.circleTime)},stop:function(){clearInterval(this.timer);this.timer=null}});baidu.lang.register(magic.control.ComboBox,function(b){var c=this;c._options.suggestion=baidu.object.extend({enable:true},b.suggestion);if(!c._options.suggestion.enable||c._options.readonly){return}this.on("load",function(){c.timer=new a({getValue:function(){return c.getElement("input").value},originValue:this.getElement("input").value});c.timer.on("fire",function(f){if(f.value==""){c._renderMenu();c.menu.show()}else{var d=c._getMenuData(f.value);if(d.length>0){c._renderMenu(d);c.menu.show()}else{c.menu.visible&&c.menu.hide()}}});c.timer.start()});this.on("pick",function(d){c.timer.focusValue=d.result.content});this.on("pickOrigin",function(d){c.timer.focusValue=d.content});this.on("reload",function(d){c.timer.focusValue=this.getElement("input").value});this.on("dispose",function(d){if(c.timer){c.timer.stop()}})},{_getMenuData:function(b){return baidu.array(this._options.items).filter(function(d,c){return(d.content.indexOf(b)!=-1)})}})})();baidu.dom.getStyle=function(b,a){return baidu.dom(baidu.dom.g(b)).css(a)};baidu.page.getScrollLeft=function(){var a=document;return window.pageXOffset||a.documentElement.scrollLeft||a.body.scrollLeft};(function(){baidu.page.getMousePosition=function(){return{x:baidu.page.getScrollLeft()+a.x,y:baidu.page.getScrollTop()+a.y}};var a={x:0,y:0};baidu.event.on(document,"onmousemove",function(b){b=window.event||b;a.x=b.clientX;a.y=b.clientY})})();(function(){var m=false,i,h,e,d,c,f,l,a,k,n;baidu.dom.drag=function(p,o){if(!(i=baidu.dom.g(p))){return false}h=baidu.object.extend({autoStop:true,capture:true,interval:16},o);a=f=parseInt(baidu.dom.getStyle(i,"left"))||0;k=l=parseInt(baidu.dom.getStyle(i,"top"))||0;m=true;setTimeout(function(){var r=baidu.page.getMousePosition();e=h.mouseEvent?(baidu.page.getScrollLeft()+h.mouseEvent.clientX):r.x;d=h.mouseEvent?(baidu.page.getScrollTop()+h.mouseEvent.clientY):r.y;clearInterval(c);c=setInterval(b,h.interval)},1);var q=baidu.dom(document);h.autoStop&&q.on("mouseup",j);q.on("selectstart",g);if(h.capture&&i.setCapture){i.setCapture()}else{if(h.capture&&window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}n=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";baidu.isFunction(h.ondragstart)&&h.ondragstart(i,h);return{stop:j,dispose:j,update:function(r){baidu.object.extend(h,r)}}};function j(){m=false;clearInterval(c);if(h.capture&&i.releaseCapture){i.releaseCapture()}else{if(h.capture&&window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}document.body.style.MozUserSelect=n;var o=baidu.dom(document);o.off("selectstart",g);h.autoStop&&o.off("mouseup",j);baidu.isFunction(h.ondragend)&&h.ondragend(i,h,{left:a,top:k})}function b(s){if(!m){clearInterval(c);return}var p=h.range||[],o=baidu.page.getMousePosition(),q=f+o.x-e,r=l+o.y-d;if(baidu.isObject(p)&&p.length==4){q=Math.max(p[3],q);q=Math.min(p[1]-i.offsetWidth,q);r=Math.max(p[0],r);r=Math.min(p[2]-i.offsetHeight,r)}i.style.left=q+"px";i.style.top=r+"px";a=q;k=r;baidu.isFunction(h.ondrag)&&h.ondrag(i,h,{left:a,top:k})}function g(o){return baidu.event.preventDefault(o,false)}})();baidu.page.getWidth=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollWidth,a.scrollWidth,b.clientWidth)};baidu.page.getHeight=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollHeight,a.scrollHeight,b.clientHeight)};magic.control.Dialog=baidu.lang.createClass(function(a){var b=this;a=baidu.object.extend({width:400,height:300,left:0,top:0,contentType:"html",draggable:true},a||{});baidu.object.extend(b._options||(b._options={}),a);b._footerHeight=0;if(a.width<100){a.width=100}if(a.height<100){a.height=100}this.zIndex=baidu.global.getZIndex("dialog",5);this.disposeProcess=[];this.on("load",function(){var e=this.getElement(),i=this,l=i._options;if(typeof l.left=="number"||typeof l.top=="number"){this.setPosition(l)}if(typeof l.width=="number"||typeof l.height=="number"){this.setSize(this._options)}this._isShown=true;this.focus();var d=function(m){i.focus(m)};baidu(document).on("mousedown",d);this.disposeProcess.unshift(function(){baidu(document).off("mousedown",d)});if(l.draggable){var k=this.getElement("title"),j;var h=baidu.fn.bind;var i=this;var f=e.parentNode;var g=baidu(f).position();k.className+=" tang-title-dragable";var c={top:function(){var m=baidu(f).css("borderTopWidth");if(!/px/.test(m)){m=0}else{m=parseInt(m)}if(f==document.body){return 0-m}else{return 0-(g.top+m)}},right:function(){var n=baidu(".tang-background-inner",e)[0];var m=baidu(n).css("marginLeft")=="auto"?n.offsetLeft+"px":baidu(n).css("marginLeft");return baidu.page.getWidth()+c.left()-parseInt(m)},bottom:function(){var n=baidu(".tang-background-inner",e)[0];var m=baidu(n).css("marginTop")=="auto"?n.offsetTop+"px":baidu(n).css("marginTop");return baidu.page.getHeight()+c.top()-parseInt(m)},left:function(){var m=baidu(f).css("borderLeftWidth");if(!/px/.test(m)){m=0}else{m=parseInt(m)}if(f==document.body){return 0-m}else{return 0-(g.top+m)}}};baidu(k).on("mousedown",j=h(function(m){m.preventDefault();baidu.dom.drag(e,{ondragstart:h(function(){this.fire("dragstart")},this),ondrag:h(function(){this.fire("drag")},this),ondragend:h(function(){this.fire("dragstop")},this),range:[c.top(),c.right(),c.bottom(),c.left()]})},this));this.disposeProcess.unshift(function(){baidu(k).off("mousedown",j)})}});this.on("resize",function(e,f){var c=this.getElement("titleText");var d=this.getElement("titleButtons");if(typeof f.width=="number"){baidu(c).css("width",Math.max(0,f.width-d.clientWidth-20)+"px")}})},{type:"magic.control.Dialog",superClass:magic.Base});magic.control.Dialog.extend({isShowing:function(){return this._isShown},show:function(){if(this.fire("beforeshow")===false){return this}this.getElement().style.display="";this._isShown=true;this.fire("show")},hide:function(){if(this.fire("beforehide")===false){return this}this._isShown=false;this.getElement().style.display="none";this.fire("hide")},setTitleText:function(b){var a=this.getElement("titleText");a.innerHTML=baidu.string.encodeHTML(b)||"&nbsp;";return this},setContent:function(d,f){var b=this.getElement("content");var c,e,a;if(c=this._lastDom){a=c.parent;if(c.content===d){return this}if(c.target){a.insertBefore(c.content,c.target)}else{a.appendChild(c.content)}this._lastDom=null}switch(f){case"text":b.innerHTML=baidu.string.encodeHTML(d);baidu(b).removeClass("contentFrame");break;case"element":if(a=d.parentNode){a.insertBefore(e=document.createTextNode(""),d);this._lastDom={content:d,parent:d.parentNode,target:e}}b.innerHTML="";b.appendChild(d);break;case"frame":baidu(b).css("height",baidu(this.getElement("body")).css("height"));b.innerHTML="<iframe frameborder='no' src='"+d+"'></iframe>";baidu(b).hasClass("contentFrame")||baidu(b).addClass("contentFrame");break;default:b.innerHTML=d;baidu(b).removeClass("contentFrame");break}return this},focus:function(f){var c=baidu.global.get("dialogFocused").map,b=this.$getId()+"focus",a=function(){for(var e in c){e!=b&&(c[e]=false)}};c||(baidu.global.get("dialogFocused").map=c={});if(arguments.length){var d=f.target;if(baidu(d).closest(this.getElement()).size()>0){baidu(this.getElement()).css("zIndex",this.zIndex=baidu.global.getZIndex("dialog",5));if(c[b]!=true){this.fire("focus");a();c[b]=true}}else{c[b]=false}}else{baidu(this.getElement()).css("zIndex",this.zIndex=baidu.global.getZIndex("dialog",5));c[b]=true;a();this.fire("focus")}},setSize:function(b){var c=this.getElement("foreground");if(typeof b.width=="number"){baidu(c).css("width",(this._options.width=b.width)+"px")}if(typeof b.height=="number"){baidu(c).css("height",(this._options.height=b.height)+"px");var a=Math.max(0,this._options.height-this._titleHeight-this._footerHeight)+"px";baidu(this.getElement("body")).css("height",a)}this.fire("resize",b)},getSize:function(){return{width:this._options.width,height:this._options.height}},setPosition:function(a){if(typeof a.left=="number"){baidu(this.getElement()).css("left",(this._options.left=a.left)+"px")}if(typeof a.top=="number"){baidu(this.getElement()).css("top",(this._options.top=a.top)+"px")}this.fire("move",a)},getPosition:function(){return{left:this._options.left,top:this._options.top}},center:function(){var b=document[baidu.browser.isStrict?"documentElement":"body"];var a=b.clientWidth;var e=b.clientHeight;var d=(((a-this._options.width)/2)|0)+baidu.page.getScrollLeft();var c=(((e-this._options.height)/2)|0)+baidu.page.getScrollTop();this.setPosition({left:d,top:c})},$dispose:function(){var b=baidu.global.get("dialogFocused").map;if(b){delete b[this.$getId()+"focus"]}for(var c=0,a=this.disposeProcess.length;c<a;c++){this.disposeProcess[c].call(this)}magic.Base.prototype.$dispose.call(this)}});baidu.dom.extend({hide:function(){return this.each(function(a,b){if(!b.style){return}b.style.display="none"})}});baidu.dom.extend({show:function(){var a={};function b(d){if(a[d]){return a[d]}var e=document.createElement(d),g,f,c;document.body.appendChild(e);g=baidu.dom(e).getCurrentStyle("display");document.body.removeChild(e);if(g===""||g==="none"){f=document.body.appendChild(document.createElement("iframe"));f.frameBorder=f.width=f.height=0;c=(f.contentWindow||f.contentDocument).document;c.writeln("<!DOCTYPE html><html><body>");c.close();e=c.appendChild(c.createElement(d));g=baidu.dom(e).getCurrentStyle("display");document.body.removeChild(f);f=null}e=null;return a[d]=g}return function(){var c;this.each(function(d,e){if(!e.style){return}e.style.display="";c=baidu.dom(e);if(c.getCurrentStyle("display")==="none"||!baidu._util_.contains(c.getDocument(),e)){e.style.display=a[e.nodeName]||b(e.nodeName)}});return this}}()});baidu.object.isPlain=baidu.isPlainObject;baidu.fn.blank=function(){};baidu.page.getViewWidth=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientWidth};magic.Dialog=baidu.lang.createClass(function(a){},{type:"magic.Dialog",superClass:magic.control.Dialog});magic.Dialog.extend({render:function(c){if(baidu.type(c)==="string"){c="#"+c}c=baidu(c)[0];c||document.body.appendChild(c=document.createElement("div"));var b=magic.Dialog.template.join(""),a=this._options;baidu(c).addClass("tang-ui tang-dialog");baidu(c).insertHTML("beforeEnd",baidu.string.format(b,{content:"",titleId:this.$getId("title"),bodyId:this.$getId("body"),contentId:this.$getId("content"),foregroundId:this.$getId("foreground"),footerId:this.$getId("footer"),footerContainerId:this.$getId("footerContainer")}));this._background=new magic.Background({coverable:true});this._background.render(c);this.$mappingDom("",c);this._renderHeader();this._titleHeight=this.getElement("title").offsetHeight||30;baidu(this.getElement("footer")).hide();this.fire("footer");this.setSize(a);this.setPosition(a);if(a.content){this.setContent(a.content,a.contentType)}this.fire("load");this.show();this.disposeProcess.push(function(){baidu(this.getElement("closeBtn")).off("click",this._closeBtnFn);this._background.$dispose();c.innerHTML="";baidu(c).removeClass("tang-ui tang-dialog")})},_renderHeader:function(){var a=["<div class='buttons' id='",this.$getId("titleButtons"),"'>","<a id='",this.$getId("closeBtn"),"' class='close-btn' href='' onmousedown='event.stopPropagation && event.stopPropagation(); event.cancelBubble = true; return false;' onclick='return false;'></a>","</div>","<span id='",this.$getId("titleText"),"'>",baidu.string.encodeHTML(this._options.titleText||"")||"&nbsp;","</span>"];baidu(this.getElement("title")).insertHTML("beforeEnd",a.join(""));baidu(this.getElement("closeBtn")).on("click",this._closeBtnFn=baidu.fn.bind(this.hide,this))}});magic.Dialog.template=["<div class='tang-foreground' id='#{foregroundId}'>","<div class='tang-title' id='#{titleId}'>","</div>","<div class='tang-body' id='#{bodyId}'>","<div class='tang-content' id='#{contentId}'>#{content}</div>","</div>","<div class='tang-footer' id='#{footerId}'>","<div id='#{footerContainerId}'></div>","</div>","</div>"];baidu.lang.register(magic.control.Dialog,function(a){a&&a.buttons&&a.buttons.enable&&this.on("footer",function(){this.buttons=null,baidu(this.getElement("footer")).show();this._createButton(a.buttons);baidu(this.getElement("footerContainer")).addClass("tang-footerContainer");var b=this.getElement("footer").offsetHeight;(!this.buttons||this.buttons.length==0)&&(b=30)&&baidu(this.getElement("footer")).css("height",30);this._footerHeight=b})},{_createButton:function(){var f=this,c=arguments.length>0?arguments[0]:{},d=baidu(f.getElement("footerContainer")),e=f.buttons||(f.buttons=[]),b=false,a=(function(){var g=['<a href="#" onClick="return false;" class="tang-dialog-button ',"",'">','<span class="tang-dialog-button-s">','<span class="tang-dialog-button-s-space">&nbsp;</span>','<span class="tang-dialog-button-s-text">',"","</span>","</span>","</a>"];return function(i,h){i.disabled?(g[1]="tang-dialog-button-disabled"):(g[1]="");g[6]=i.text||"&nbsp;";baidu(h).insertHTML("beforeEnd",g.join(""));return baidu(h).children().get(0)}})();baidu.forEach(c.items||[],function(i,g){var j,h;d.append(h=baidu('<span class="tang-dialog-button-carrier"></span>')[0]);h=typeof i=="object"?(i.builder||a).call(this,i,h,f,g):i;!b&&i.focused&&!i.disabled&&(b=true)&&h.focus();e.push(h);i.disabled||i.click&&baidu(h).on("click",j=function(){i.click.call(this,f)});j&&this.disposeProcess.push(function(){baidu(h).off("click",j)})},f);d.addClass("tang-button-"+(c.align||"right"))}});(function(){var a=[];function c(){for(var e=0,d=a.length;e<d;e++){a[e]()}a=[]}function b(){var g=baidu.browser.ie;var e=document.createElement("div");e.className="tang-mask";g==6&&baidu(e).css("position","absolute");baidu(e).css("zIndex",baidu.global.getZIndex("dialog",-5));document.body.appendChild(e);function f(){e.style.display="none";baidu(e).css("height",baidu.page.getViewHeight()+"px");baidu(e).css("width",baidu.page.getViewWidth()+"px");e.style.display=""}function d(){e.style.display="none";baidu(e).css("top",baidu.page.getScrollTop()+"px");baidu(e).css("left",baidu.page.getScrollLeft()+"px");e.style.display=""}f();g==6&&d();baidu(window).on("resize",f);a.push(function(){baidu(window).off("resize",f)});g==6&&baidu(window).on("scroll",d);g==6&&a.push(function(){baidu(window).off("scroll",d)});a.push(function(){document.body.removeChild(e)})}magic.Dialog.alert=function(){var k={},g={width:360,height:140,titleText:"",content:"",buttons:{enable:true,items:[k]}},f={},h,e,i,j;if(!baidu.object.isPlain(arguments[0])){arguments[0]&&(f.content=arguments[0]);arguments[1]&&(f.titleText=arguments[1]);arguments[2]&&(f.ok=arguments[2])}else{f=arguments[0]}if(baidu.object.isPlain(f.ok)){k.text=f.ok.label;h=f.ok.callback}else{k.text=baidu.i18n.cultures[baidu.i18n.currentLocale].language.ok;h=f.ok}h||(h=baidu.fn.blank);f.ok=null;delete f.ok;baidu.object.extend(g,f||{});var d=new magic.Dialog(g);k.click=function(){c();h.call(d)};d.render();d.center();j=baidu("#"+d.$getId());baidu(d.getElement("closeBtn")).on("click",e=function(){c();h.call(d)});a.push(function(){baidu(d.getElement("closeBtn")).off("click",e)});baidu(document).on("keydown",i=function(l){l=l||window.event;switch(l.keyCode){case 27:k.click();break;case 13:l.preventDefault();l.stopPropagation();k.click();break;default:break}});a.push(function(){baidu(document).off("keydown",i)});a.push(function(){d.$dispose()});a.push(function(){document.body.removeChild(j[0])});b();return d};magic.alert=magic.Dialog.alert;magic.Dialog.confirm=function(){var h={},l={},f={width:360,height:140,titleText:"",content:"",buttons:{enable:true,items:[h,l]}},k={},e,d,g,i;if(!baidu.object.isPlain(arguments[0])){arguments[0]&&(k.content=arguments[0]);arguments[1]&&(k.titleText=arguments[1]);arguments[2]&&(k.ok=arguments[2]);arguments[3]&&(k.cancel=arguments[3])}else{k=arguments[0]}if(baidu.object.isPlain(k.ok)){h.text=k.ok.label;e=k.ok.callback}else{h.text=baidu.i18n.cultures[baidu.i18n.currentLocale].language.ok;e=k.ok}if(baidu.object.isPlain(k.cancel)){l.text=k.cancel.label;d=k.cancel.callback}else{l.text=baidu.i18n.cultures[baidu.i18n.currentLocale].language.cancel;d=k.cancel}e||(e=baidu.fn.blank);k.ok=null;delete k.ok;d||(d=baidu.fn.blank);k.cancel=null;delete k.cancel;baidu.object.extend(f,k||{});var j=new magic.Dialog(f);h.click=function(){e.call(j);c()};l.click=function(){d.call(j);c()};j.render();j.center();var m=baidu("#"+j.$getId());baidu(j.getElement("closeBtn")).on("click",g=function(){c();d.call(j)});a.push(function(){baidu(j.getElement("closeBtn")).off("click",g)});baidu(document).on("keydown",i=function(n){n=n||window.event;switch(n.keyCode){case 27:l.click();break;case 13:n.preventDefault();n.stopPropagation();h.click();break;default:break}});a.push(function(){baidu(document).off("keydown",i)});a.push(function(){j.$dispose()});a.push(function(){document.body.removeChild(m[0])});b();return j};magic.confirm=magic.Dialog.confirm})();magic.setup.background=function(e,a){var c=a||{};var b=magic.setup(baidu.dom(e).get(0)||e,magic.Background,c);var g=b.getElement(),d=g.style,f=g.parentNode;d.top="0px";d.left="0px";d.width=b.timer?"10px":"100%";d.height=b.timer?"10px":"100%";d.position="absolute";d.zIndex=-9;b.coverable&&baidu.dom(g).insertHTML("beforeend",b._coverDom||"");f!=document.body&&baidu.dom(f).getCurrentStyle("position")=="static"&&(f.style.position="relative");return b};magic.setup.dialog=function(d,k){if(baidu.type(d)==="string"){d="#"+d}d=baidu(d)[0];var c=k||{};var h=magic.setup(d,magic.control.Dialog,c),b=h.getElement(),j=d.childNodes,e;for(var g=0,f=j.length;g<f;g++){if(j[g].nodeType!=3&&~j[g].className.indexOf("tang-background")){magic.setup.background(j[g],{coverable:true});break}}h.$mappingDom("title",baidu(".tang-title",b)[0]);h.$mappingDom("titleText",baidu("span",h.getElement("title"))[0]);h.$mappingDom("titleButtons",baidu(".buttons",h.getElement("title"))[0]);h.$mappingDom("body",baidu(".tang-body",b)[0]);h.$mappingDom("content",baidu(".content",h.getElement("body"))[0]);h.$mappingDom("closeBtn",baidu(".close-btn",h.getElement("title"))[0]);h.$mappingDom("foreground",baidu(".tang-foreground",b)[0]);h.$mappingDom("footer",(e=baidu(".tang-footer",b))[0]);h.$mappingDom("footerContainer",e.children()[0]);e.hide();h._titleHeight=h.getElement("title").offsetHeight||30;h.fire("footer");var a=h._options;if(typeof c.left=="undefined"){a.left=baidu(b).css("left")=="auto"?0:baidu(b).css("left")}if(typeof c.top=="undefined"){a.top=baidu(b).css("top")=="auto"?0:baidu(b).css("top")}if(typeof a.width!="number"){a.width=b.clientWidth}if(typeof a.height!="number"){a.height=b.clientHeight}if(a.width<100){a.width=100}if(a.height<100){a.height=100}h.fire("load");h.show();if(a.titleText){h.setTitleText(a.titleText)}if(a.content){h.setContent(a.content,a.contentType||"html")}return h};magic.Mask=function(c){var e=this;magic.control.Layer.call(this);e.zIndex=999;e.opacity=0.3;e.bgColor="#000000";e.coverable=false;e.container=document.body;baidu.object.extend(e,c||{});var d=baidu.browser.safari,f=baidu.browser.ie;baidu.dom(e.container).insertHTML("afterBegin",e.toHTMLString());if(f==6){e.getElement().style.position="absolute"}function b(){if(e.container==document.body){var h=e.getElement().style;h.display="none";e.setSize([baidu.page.getViewWidth(),baidu.page.getViewHeight()]);h.display=""}}function a(){if(e.container==document.body){var h=e.getElement().style;h.display="none";h.top=baidu.page.getScrollTop()+"px";h.left=baidu.page.getScrollLeft()+"px";h.display=""}}function g(k){var n=document.getElementsByTagName("object");var j=k?"visible":"hidden";for(var m=0,p,h=n.length;m<h;m++){p=n[m];p.style.visibility=j}}e.on("show",function(){b();f==6&&a();baidu.dom(window).on("resize",b);f==6&&baidu.dom(window).on("scroll",a);var h=e.getElement().style;h.opacity=e.opacity;h.zIndex=e.zIndex;h.filter="alpha(opacity="+e.opacity*100+")";h.backgroundColor=e.bgColor;d&&g(false)});e.on("hide",function(){baidu.dom(window).off("resize",b);f==6&&baidu.dom(window).off("scroll",a);d&&g(true)})};baidu.lang.inherits(magic.Mask,magic.control.Layer,"magic.Mask").extend({toHTMLString:function(){return"<div id='"+this.$getId()+"' style='top:0px; left:0px; position:fixed; display:none;'>"+("<iframe frameborder='0' style='filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1' src='about:blank'></iframe><div style='position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1;'>&nbsp;</div>")+"</div>"}});baidu.lang.register(magic.control.Dialog,function(a){if(a&&a.mask&&a.mask.enable){this.renderMask();this.on("load",function(){if(!this._options.left){this.center()}});this.on("show",function(){this.showMask()});this.on("hide",function(){this.hideMask()})}},{renderMask:function(){if(this._mask){return this}var a=this._options.mask;this._mask=new magic.Mask({opacity:a.opacity||0.15,bgColor:a.bgColor||"#000",zIndex:this.zIndex-1});return this},showMask:function(){this._mask.show();return this},hideMask:function(){this._mask.hide();return this}});magic.control.Slider=baidu.lang.createClass(function(b){var c=this,d=c._info=baidu.object.extend({accuracy:0,_status:"enable"},b),a=d._isVertical=d.orientation=="vertical";d.direction=="backward"&&(d._oppsite=true);baidu.object.extend(d,{_suffix:a?"vtl":"htl",_knobKey:a?"top":"left",_mouseKey:a?"y":"x",_accuracyKey:a?"height":"width"});c.on("load",function(){var e=c.getElement("view"),f=c.getElement("inner"),i=["mousedown","click"],g=baidu.fn.bind(c._eventControl,c),h=d._accuracyKey;d._val="offset"+h.replace(/([a-z])([a-z]*)/,function(j,l,k){return l.toUpperCase()+k});d.width=e.clientWidth;d.height=e.clientHeight;d._range=[0,d[h]];d._limit=f[d._val];d._const=(d._range[1]-d._limit)/2;baidu.array.each(i,function(k,j){baidu.dom(e).on(k,g)});c.on("dispose",function(){baidu.array.each(i,function(k,j){baidu.dom(e).off(k,g)})});c._setAccuracy(d.accuracy);c.setValue(d.currentValue)})},{type:"magic.control.Slider",superClass:magic.Base});magic.control.Slider.extend({disable:function(){this._info._status="disabled"},enable:function(){this._info._status="enable"},setValue:function(b){var a=this,d=a._info,c=d._accuracyKey,b=b||0,e=d[c]*b;if(d._oppsite){e=d[c]*a._accSub(1,b)}a._setPosition({target:null,noAccuracy:true,noFx:true},e);d.currentValue=b},getValue:function(){return this._info.currentValue},setRange:function(d){var c=this,e=c._info,a=e[e._accuracyKey],b=d*a;if(e.accuracy){return}e._oppsite?e._range[0]=b:e._range[1]=b;e._percent=b/a},$dispose:function(){var a=this;if(a.disposed){return}magic.Base.prototype.$dispose.call(a)},_accSub:function(f,d){var c,b,a,h;try{c=f.toString().split(".")[1].length}catch(g){c=0}try{b=d.toString().split(".")[1].length}catch(g){b=0}a=Math.pow(10,Math.max(c,b));h=(c>=b)?c:b;return +((f*a-d*a)/a).toFixed(h)},_startDrag:function(n){var l=this,d=l._info,b=l.getElement("knob"),a=l.getElement("process"),g=d.accuracy,e=d.width,c=d.height,k=0,j=0,f=b[d._val],i=d._range,m=[],h=parseInt(baidu.dom(b).css("margin-"+d._knobKey));if(d._isVertical){c=i[1]+f;k=i[0]}else{e=i[1]+f;j=i[0]}m=[k,e,c,j];if(n.target!=b||l._isMoving){return}l._recover();baidu.dom.drag(b,{range:m,fix:[d._knobKey,h],ondragstart:function(){l.fire("onslidestart")},ondrag:function(){var o=l._getRealPos(b,d._knobKey);baidu.dom(a).css(d._accuracyKey,l._getProcessPos(o));l._setCurrentValue(o);l.fire("onslide");l.fire("onchange",{value:d.currentValue})},ondragend:function(o,q,p){p=p[d._knobKey];l._reset(p);g&&l._useAdsorbr(p);l.fire("onslidestop")}})},_resize:function(){var e=this,f=e._info,d=isNaN(Math.min(f._percent,1))?1:Math.min(f._percent,1),c=e.getElement("inner"),b=e.getElement("view"),a;f.width=b.clientWidth;f.height=b.clientHeight;f._limit=c[f._val];a=f[f._accuracyKey];if(f._oppsite){f._range=d<1?[a*d,a]:[0,a]}else{f._range=[0,a*d]}e._setAccuracy(f.accuracy)},_recover:function(){var d=this,g=d._info,a=d.getElement("knob"),f=d.getElement("process"),e=g._accuracyKey,c=a.style[g._knobKey],b=f.style[e];if(/px|auto/.test(c)){return}if(!c.length){c=0}if(!b.length){b=0}c=parseFloat(c)/100*g[e]+"px";b=parseFloat(b)/100*g._limit+"px";baidu.dom(a).css(g._knobKey,c);baidu.dom(f).css(e,b)},_reset:function(e){var b=this,d=b._info,a=b.getElement("knob"),c=b.getElement("process");if(/%/.test(e)){return}baidu.dom(a).css(d._knobKey,b._knobPercent(e));baidu.dom(c).css(d._accuracyKey,b._processPercent(b._getProcessPos(e)))},_knobPercent:function(b){var a=this._info;return parseFloat(b)/a[a._accuracyKey]*100+"%"},_processPercent:function(a){return parseFloat(a)/this._info._limit*100+"%"},_getRealPos:function(b,a){return b.style[a]},_getProcessPos:function(f){var c=this,d=c._info,b=d._range,a=d._limit,f=parseFloat(f)-d._const;if(b[0]&&f<b[0]){var e=b[0]-d._const;return e>0?e+"px":0}else{if(f>b[1]){return b[1]-d._const+"px"}}f<0&&(f=0);f>a&&(f=a);d._oppsite&&(f=a-f);return f+"px"},_getKnobPos:function(c){var c=parseFloat(c),b=this._info,a=b._range;if(b._oppsite){c=c<a[0]?a[0]:c}else{c=c>a[1]?a[1]:c}return c+"px"},_getMousePos:function(){var a=this.getElement("view"),c=baidu.page.getMousePosition(),b=baidu.dom(a).offset();if(this._info._mouseKey=="x"){return c.x-b.left}else{return c.y-b.top}},_move:function(b,f,h){var d=this,e=d._info,c=e._range,a=d._getKnobPos(h),g=d._getProcessPos(h);d._setCurrentValue(a);baidu.dom(b).css(e._knobKey,d._knobPercent(a));baidu.dom(f).css(e._accuracyKey,d._processPercent(g))},_setCurrentValue:function(d){var a=this,c=a._info,b=(parseFloat(d)*10)/(c[c._accuracyKey]*10);if(c._oppsite){b=a._accSub(1,b)}c.currentValue=b},_slide:function(g,b,f){var c=this,e=c._info,a=c.getElement("knob"),d=c.getElement("process");if(c.fire("startFx",{knob:a,process:d,pos:g,fn:b})){c._move(a,d,g);b&&b()}},_setPosition:function(h,g,e){var f=this,d=f._info,c=f.getElement("knob"),b=f.getElement("process"),a=h.noAccuracy||!d.accuracy,i=function(j){f._isMoving=false;f.fire("onchange",{value:d.currentValue})};g==e&&(g=f._getMousePos());if(h.target===c){return}f._isMoving=true;a?f._slide(g,i,h.noFx):f._useAdsorbr(g,i,h.noFx)},_useAdsorbr:function(h,j,a){var g=this,b=g._info,h=parseFloat(h)||0,e=b._range,c=b._accuracyZone.slice(0),f=c.length,d=0,m=h,l;if(h==0||h>e[1]){l=h}else{if(b.accuracy){for(;d<f;d++){var k=Math.abs(c[d]-h);if(k<=m){m=k;l=c[d]}}}else{l=h}}g._slide(l,j,a)},_setAccuracy:function(e){var g=this._info,b=g._range,f=g._accuracyKey,d=e*g[f],a=0,c=[0],h;if(e==0){g.accuracy=0;delete g._accuracyZone}g.accuracy=e;while((h=a+d)&&h<b[1]){a=h;c.push(h)}g._accuracyZone=c.concat(g[f])},_eventControl:function(b){var c=this,a=c.getElement("knob"),d=c.getElement("process");b.preventDefault();c._resize();if(c._info._status=="enable"){if(b.target==a&&b.type=="mousedown"){c._startDrag(b)}else{if(b.type=="mousedown"){c._setPosition(b);c.fire("onslideclick")}}}}});magic.control.Slider=baidu.lang.createClass(function(b){var c=this,d=c._info=baidu.object.extend({accuracy:0,_status:"enable"},b),a=d._isVertical=d.orientation=="vertical";d.direction=="backward"&&(d._oppsite=true);baidu.object.extend(d,{_suffix:a?"vtl":"htl",_knobKey:a?"top":"left",_mouseKey:a?"y":"x",_accuracyKey:a?"height":"width"});c.on("load",function(){var e=c.getElement("view"),f=c.getElement("inner"),i=["mousedown","click"],g=baidu.fn.bind(c._eventControl,c),h=d._accuracyKey;d._val="offset"+h.replace(/([a-z])([a-z]*)/,function(j,l,k){return l.toUpperCase()+k});d.width=e.clientWidth;d.height=e.clientHeight;d._range=[0,d[h]];d._limit=f[d._val];d._const=(d._range[1]-d._limit)/2;baidu.array.each(i,function(k,j){baidu.dom(e).on(k,g)});c.on("dispose",function(){baidu.array.each(i,function(k,j){baidu.dom(e).off(k,g)})});c._setAccuracy(d.accuracy);c.setValue(d.currentValue)})},{type:"magic.control.Slider",superClass:magic.Base});magic.control.Slider.extend({disable:function(){this._info._status="disabled"},enable:function(){this._info._status="enable"},setValue:function(b){var a=this,d=a._info,c=d._accuracyKey,b=b||0,e=d[c]*b;if(d._oppsite){e=d[c]*a._accSub(1,b)}a._setPosition({target:null,noAccuracy:true,noFx:true},e);d.currentValue=b},getValue:function(){return this._info.currentValue},setRange:function(d){var c=this,e=c._info,a=e[e._accuracyKey],b=d*a;if(e.accuracy){return}e._oppsite?e._range[0]=b:e._range[1]=b;e._percent=b/a},$dispose:function(){var a=this;if(a.disposed){return}magic.Base.prototype.$dispose.call(a)},_accSub:function(f,d){var c,b,a,h;try{c=f.toString().split(".")[1].length}catch(g){c=0}try{b=d.toString().split(".")[1].length}catch(g){b=0}a=Math.pow(10,Math.max(c,b));h=(c>=b)?c:b;return +((f*a-d*a)/a).toFixed(h)},_startDrag:function(n){var l=this,d=l._info,b=l.getElement("knob"),a=l.getElement("process"),g=d.accuracy,e=d.width,c=d.height,k=0,j=0,f=b[d._val],i=d._range,m=[],h=parseInt(baidu.dom(b).css("margin-"+d._knobKey));if(d._isVertical){c=i[1]+f;k=i[0]}else{e=i[1]+f;j=i[0]}m=[k,e,c,j];if(n.target!=b||l._isMoving){return}l._recover();baidu.dom.drag(b,{range:m,fix:[d._knobKey,h],ondragstart:function(){l.fire("onslidestart")},ondrag:function(){var o=l._getRealPos(b,d._knobKey);baidu.dom(a).css(d._accuracyKey,l._getProcessPos(o));l._setCurrentValue(o);l.fire("onslide");l.fire("onchange",{value:d.currentValue})},ondragend:function(o,q,p){p=p[d._knobKey];l._reset(p);g&&l._useAdsorbr(p);l.fire("onslidestop")}})},_resize:function(){var e=this,f=e._info,d=isNaN(Math.min(f._percent,1))?1:Math.min(f._percent,1),c=e.getElement("inner"),b=e.getElement("view"),a;f.width=b.clientWidth;f.height=b.clientHeight;f._limit=c[f._val];a=f[f._accuracyKey];if(f._oppsite){f._range=d<1?[a*d,a]:[0,a]}else{f._range=[0,a*d]}e._setAccuracy(f.accuracy)},_recover:function(){var d=this,g=d._info,a=d.getElement("knob"),f=d.getElement("process"),e=g._accuracyKey,c=a.style[g._knobKey],b=f.style[e];if(/px|auto/.test(c)){return}if(!c.length){c=0}if(!b.length){b=0}c=parseFloat(c)/100*g[e]+"px";b=parseFloat(b)/100*g._limit+"px";baidu.dom(a).css(g._knobKey,c);baidu.dom(f).css(e,b)},_reset:function(e){var b=this,d=b._info,a=b.getElement("knob"),c=b.getElement("process");if(/%/.test(e)){return}baidu.dom(a).css(d._knobKey,b._knobPercent(e));baidu.dom(c).css(d._accuracyKey,b._processPercent(b._getProcessPos(e)))},_knobPercent:function(b){var a=this._info;return parseFloat(b)/a[a._accuracyKey]*100+"%"},_processPercent:function(a){return parseFloat(a)/this._info._limit*100+"%"},_getRealPos:function(b,a){return b.style[a]},_getProcessPos:function(f){var c=this,d=c._info,b=d._range,a=d._limit,f=parseFloat(f)-d._const;if(b[0]&&f<b[0]){var e=b[0]-d._const;return e>0?e+"px":0}else{if(f>b[1]){return b[1]-d._const+"px"}}f<0&&(f=0);f>a&&(f=a);d._oppsite&&(f=a-f);return f+"px"},_getKnobPos:function(c){var c=parseFloat(c),b=this._info,a=b._range;if(b._oppsite){c=c<a[0]?a[0]:c}else{c=c>a[1]?a[1]:c}return c+"px"},_getMousePos:function(){var a=this.getElement("view"),c=baidu.page.getMousePosition(),b=baidu.dom(a).offset();if(this._info._mouseKey=="x"){return c.x-b.left}else{return c.y-b.top}},_move:function(b,f,h){var d=this,e=d._info,c=e._range,a=d._getKnobPos(h),g=d._getProcessPos(h);d._setCurrentValue(a);baidu.dom(b).css(e._knobKey,d._knobPercent(a));baidu.dom(f).css(e._accuracyKey,d._processPercent(g))},_setCurrentValue:function(d){var a=this,c=a._info,b=(parseFloat(d)*10)/(c[c._accuracyKey]*10);if(c._oppsite){b=a._accSub(1,b)}c.currentValue=b},_slide:function(g,b,f){var c=this,e=c._info,a=c.getElement("knob"),d=c.getElement("process");if(c.fire("startFx",{knob:a,process:d,pos:g,fn:b})){c._move(a,d,g);b&&b()}},_setPosition:function(h,g,e){var f=this,d=f._info,c=f.getElement("knob"),b=f.getElement("process"),a=h.noAccuracy||!d.accuracy,i=function(j){f._isMoving=false;f.fire("onchange",{value:d.currentValue})};g==e&&(g=f._getMousePos());if(h.target===c){return}f._isMoving=true;a?f._slide(g,i,h.noFx):f._useAdsorbr(g,i,h.noFx)},_useAdsorbr:function(h,j,a){var g=this,b=g._info,h=parseFloat(h)||0,e=b._range,c=b._accuracyZone.slice(0),f=c.length,d=0,m=h,l;if(h==0||h>e[1]){l=h}else{if(b.accuracy){for(;d<f;d++){var k=Math.abs(c[d]-h);if(k<=m){m=k;l=c[d]}}}else{l=h}}g._slide(l,j,a)},_setAccuracy:function(e){var g=this._info,b=g._range,f=g._accuracyKey,d=e*g[f],a=0,c=[0],h;if(e==0){g.accuracy=0;delete g._accuracyZone}g.accuracy=e;while((h=a+d)&&h<b[1]){a=h;c.push(h)}g._accuracyZone=c.concat(g[f])},_eventControl:function(b){var c=this,a=c.getElement("knob"),d=c.getElement("process");b.preventDefault();c._resize();if(c._info._status=="enable"){if(b.target==a&&b.type=="mousedown"){c._startDrag(b)}else{if(b.type=="mousedown"){c._setPosition(b);c.fire("onslideclick")}}}}});magic.Slider=baidu.lang.createClass(function(a){},{type:"magic.Slider",superClass:magic.control.Slider});magic.Slider.extend({render:function(a){var b=this;a=baidu.dom("#"+a).get(0);a||document.body.appendChild(a=document.createElement("div"));if(/tang-slider/.test(a.className)){return}baidu.dom(a).addClass("tang-ui tang-slider tang-slider-"+b._info._suffix);a.innerHTML=b.toHTMLString();b.$mappingDom("",a);b.fire("load")},toHTMLString:function(){var d=this,e=d._info,c="tang-process-"+e.direction,a=e._oppsite?"-backward":"",b=baidu.string.format(magic.Slider.template,{id:d.$getId(),viewId:d.$getId("view"),innerId:d.$getId("inner"),cornerClass:a,processId:d.$getId("process"),processClass:c,knobId:d.$getId("knob")});return b},$dispose:function(){var b=this,a;if(b.disposed){return}a=b.getElement("");magic.Base.prototype.$dispose.call(b);baidu.dom(a).remove();a=null}});magic.Slider.template='<div id="#{viewId}" class="tang-view"><div class="tang-content"><div class="tang-corner tang-start#{cornerClass}"></div><div class="tang-corner tang-last#{cornerClass}"></div><div id="#{innerId}" class="tang-inner"><div id="#{processId}" class="tang-process #{processClass}"></div></div></div><a id="#{knobId}" href="javascript:;" class="tang-knob"></a></div>';magic.setup.slider=function(c,b){var d=magic.setup(baidu.dom("#"+c).get(0),magic.control.Slider,b),a=d.getElement();d.$mappingDom("view",baidu(".tang-view",a)[0]);d.$mappingDom("knob",baidu(".tang-knob",a)[0]);d.$mappingDom("process",baidu(".tang-process",a)[0]);d.$mappingDom("inner",baidu(".tang-inner",a)[0]);d.fire("load");return d};baidu.lang.register(magic.control.Slider,function(a){var b=this,c=b._info;c.cache&&c.cache.enable&&b.on("load",function(){var d=b.getElement("inner"),f=c._accuracyKey,h=c._oppsite?"tang-cache-backward":"tang-cache-forward",g=b.$getId("cache"),e=c._oppsite?'<div id="#{id}" class="tang-cache #{cacheClass}"><div class="tang-cache-corner tang-cache-start"></div>':'<div id="#{id}" class="tang-cache #{cacheClass}"><div class="tang-cache-corner tang-cache-last"></div>';baidu.dom(d).insertHTML("afterBegin",baidu.string.format(e,{id:g,cacheClass:h}))})},{setCache:function(e){var d=this,f=d._info,b=d.getElement("cache"),c=e*f._limit,a=d._cachePercent(c);e==0?baidu.dom(b).css("overflow","hidden"):baidu.dom(b).css("overflow","");baidu.dom(b).css(f._accuracyKey,d._cachePercent(c))},_cachePercent:function(a){return a/this._info._limit*100+"%"}});baidu.fx.move=function(b,a){if(!(b=baidu.dom.g(b))||baidu.dom.getStyle(b,"position")=="static"){return null}a=baidu.object.extend({x:0,y:0},a||{});if(a.x==0&&a.y==0){return null}var c=baidu.fx.create(b,baidu.object.extend({initialize:function(){this.protect("top");this.protect("left");this.originX=parseInt(baidu.dom.getStyle(b,"left"))||0;this.originY=parseInt(baidu.dom.getStyle(b,"top"))||0},transition:function(d){return 1-Math.pow(1-d,2)},render:function(d){b.style.top=(this.y*d+this.originY)+"px";b.style.left=(this.x*d+this.originX)+"px"}},a),"baidu.fx.move");return c.launch()};baidu.fx.moveTo=function(d,b,c){if(!(d=baidu.dom.g(d))||baidu.dom.getStyle(d,"position")=="static"||typeof b!="object"){return null}var f=[b[0]||b.x||0,b[1]||b.y||0];var a=parseInt(baidu.dom.getStyle(d,"left"))||0;var g=parseInt(baidu.dom.getStyle(d,"top"))||0;var e=baidu.fx.move(d,baidu.object.extend({x:f[0]-a,y:f[1]-g},c||{}));return e};baidu.lang.register(magic.control.Slider,function(a){var c=this,b=c._info.fx;c.on("startFx",function(d){if(b&&b.enable){c._fx&&c._fx.end();c._recover();c._fxMove(d.knob,d.process,d.pos,d.fn);d.returnValue=false}})},{setValue:function(c,a){var b=this,e=b._info,d=e._accuracyKey,c=c||0,f=e[d]*c;if(e._oppsite){f=e[d]*b._accSub(1,c)}b._setPosition({target:null,noAccuracy:true,noFx:a},f);e.currentValue=c},_fxMove:function(d,b,i,j){var h=this,e=h._info,c=e.fx,f=e._knobKey,g=e._accuracyKey,i=parseFloat(h._getKnobPos(i)),a=e._isVertical?[0,i]:[i,0];h._setCurrentValue(i);h._fx=baidu.fx.moveTo(d,a,{duration:c.duration||200,onbeforestart:function(){h.fire("onfxstart")},onafterupdate:function(){var k=h._getProcessPos(h._getRealPos(d,f));baidu.dom(b).css(g,k);h.fire("onfx")},onafterfinish:function(){h.fire("onfxstop");h._reset(i);j&&j(i);delete h._fx}})||j&&j()}});magic.control.Tab=baidu.lang.createClass(function(a){var c=this,b=baidu.fn.bind("_toggleHandler",c);c._options=baidu.object.extend({selectEvent:"click",selectDelay:0,originalIndex:0},a);c._selectedIndex=c._options.originalIndex;c.on("onload",function(e){var d=c.getElement();c.$mappingDom("title",baidu(".tang-title",d)[0]).$mappingDom("body",baidu(".tang-body",d)[0]);baidu.dom(c.getElement("title")).on(c._options.selectEvent,b);c.on("ondispose",function(){baidu.dom(c.getElement("title")).off(c._options.selectEvent,b)});c.select(c._selectedIndex)})},{type:"magic.control.Tab",superClass:magic.Base}).extend({_toggleHandler:function(a){if(a.target.className=="tang-title"){return}var c=this,d=a.target;function b(){var h=baidu.dom(d).closest(".tang-title-item").get(0),j=baidu.dom(c.getElement("title")).children(),e=j.length,f=0;if(!h){return}for(var g=0;g<e;g++){if(j[g]===h){f=g;break}}c._selectedIndex!=f&&c.select(f)}if(/^(on)?mouseover$/i.test(c._options.selectEvent)){clearTimeout(c._timeOut);c._timeOut=setTimeout(b,c._options.selectDelay)}else{b()}},select:function(b){var c=this,d=baidu.dom(c.getElement("title")).children(),a=baidu.dom(c.getElement("body")).children();if(!c.fire("onbeforeselect",{index:c._selectedIndex})){return}baidu.dom(d[c._selectedIndex]).removeClass("tang-title-item-selected");baidu.dom(a[c._selectedIndex]).removeClass("tang-body-item-selected");c._selectedIndex=b;baidu.dom(d[b]).addClass("tang-title-item-selected");baidu.dom(a[b]).addClass("tang-body-item-selected");c.fire("onselect",{index:c._selectedIndex})},getCurrentTitle:function(){var a=this;return baidu.dom(a.getElement("title")).children()[a._selectedIndex]},getCurrentContent:function(){var a=this;return baidu.dom(a.getElement("body")).children()[a._selectedIndex]},$dispose:function(){var a=this;if(a.disposed){return}magic.Base.prototype.$dispose.call(a)}});magic.Tab=baidu.lang.createClass(function(a){var b=this;b._items=a.items||[]},{type:"magic.Tab",superClass:magic.control.Tab}).extend({tplTitle:'<li class="#{titleClass}"><a href="#" onclick="return false" hidefocus="true"><span>#{content}</span></a></li>',tplBody:'<div class="#{bodyClass}">#{content}</div>',toHTMLString:function(){var c=this,b='<ul class="#{titleClass}">#{titleContent}</ul><div class="#{bodyClass}">#{bodyContent}</div>',a=[],d=[];baidu.array.each(c._items,function(f,e){a.push(baidu.string.format(c.tplTitle,{titleClass:"tang-title-item"+(c._selectedIndex==e?" tang-title-item-selected":""),content:f.title}));d.push(baidu.string.format(c.tplBody,{bodyClass:"tang-body-item"+(c._selectedIndex==e?" tang-body-item-selected":""),content:f.content}))});return baidu.string.format(b,{titleClass:"tang-title",titleContent:a.join(""),bodyClass:"tang-body",bodyContent:d.join("")})},render:function(c){var b=this,a;if(b.getElement()){return}b.$mappingDom("",baidu.dom("#"+c).get(0)||document.body);a=b.getElement();baidu.dom(a).addClass("tang-ui tang-tab");baidu.dom(a).insertHTML("beforeEnd",b.toHTMLString());b.fire("onload")},$dispose:function(){var b=this,c,a;if(b.disposed){return}c=b.getElement("title");a=b.getElement("body");baidu.dom(b.getElement()).removeClass("tang-ui tang-tab");magic.Base.prototype.$dispose.call(b);baidu.dom(c).remove();baidu.dom(a).remove();c=a=null}});magic.setup.tab=function(c,b){var a=magic.setup(baidu.dom("#"+c).get(0),magic.control.Tab,b);a.fire("onload");return a};