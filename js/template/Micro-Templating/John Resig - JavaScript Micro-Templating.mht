Content-Type: multipart/related; start=<op.mhtml.1355031396041.bef6a7744f70aaf0@192.168.1.111>; boundary=----------jsL82b8kZsUYesz4JwkAQx
Content-Location: http://ejohn.org/blog/javascript-micro-templating/
Subject: =?utf-8?Q?John=20Resig=20-=20JavaScript=20Micro-Templating?=
MIME-Version: 1.0

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline; filename=default.htm
Content-Type: text/html; charset=utf-8; name=default.htm
Content-ID: <op.mhtml.1355031396041.bef6a7744f70aaf0@192.168.1.111>
Content-Location: http://ejohn.org/blog/javascript-micro-templating/
Content-Transfer-Encoding: 8bit

<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
  <title>John Resig -   JavaScript Micro-Templating</title>
  <link href="/css/style.css" media="screen" rel="Stylesheet" type="text/css"/>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/JohnResig" />
  <link rel="openid.server" href="http://www.livejournal.com/openid/server.bml"/>
  <link rel="openid.delegate" href="http://jeresig.livejournal.com/"/>
  <script src="http://ejohn.org/files/retweet.js"></script>
  <script type="text/javascript">
  (function(){
    var bsa = document.createElement('script');
       bsa.type = 'text/javascript';
       bsa.async = true;
       bsa.src = '//s3.buysellads.com/ac/bsa.js';
    (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
  })();
  </script>
</head>
<body>

<div id="head" class="other">
	<div class="nav">
		<ul>
			<li><a href="/">Home</a></li>
			<li><a href="/blog/">Blog</a></li>
			<li><a rel="author" href="/about/">About Me</a></li>
		</ul>
	</div>
	<div class="side">
		<a href="http://ejohn.org/about/"><img src="/files/short.sm.jpg" class="logo" alt="John Resig" /></a>
		<div class="text">
			<a href="/about/" class="name"><strong>John</strong> Resig</a><br/>
			<a rel="author" href="/about/">Contact</a>,
			<a href="http://feeds.feedburner.com/JohnResig">Subscribe</a>
		</div>
	</div>
</div>
<div class="drop"><img src="/images/ejohn-main-drop.gif"/></div>
<div id="wrap">
	<div id="body"><div class="wrap">
<h2>  JavaScript Micro-Templating</h2><br/>

		
		
  			
				<div class="postentry">


<p>I've had a little utility that I've been kicking around for some time now that I've found to be quite useful in my JavaScript application-building endeavors. It's a super-simple templating function that is fast, caches quickly, and is easy to use. I have a couple tricks that I use to make it real fun to mess with.</p>
<p>Here's the source code to the templating function (a more-refined version of this code will be in my upcoming book <a href="http://jsninja.com/">Secrets of the JavaScript Ninja</a>):</p>
<div class="syntax_hilite">
<div id="js-3">
<div><span style="color: #009900; font-style: italic;">// Simple JavaScript Templating</span><br />
<span style="color: #009900; font-style: italic;">// John Resig - http://ejohn.org/ - MIT Licensed</span><br />
<span style="color:#008800; font-weight:bold;">&#40;</span><span style="color: #003366; font-weight: bold;">function</span><span style="color:#008800; font-weight:bold;">&#40;</span><span style="color:#008800; font-weight:bold;">&#41;</span><span style="color:#008800; font-weight:bold;">&#123;</span><br />
&nbsp; <span style="color: #003366; font-weight: bold;">var</span> cache = <span style="color:#008800; font-weight:bold;">&#123;</span><span style="color:#008800; font-weight:bold;">&#125;</span>;<br />
&nbsp; <br />
&nbsp; <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #006600;">tmpl</span> = <span style="color: #003366; font-weight: bold;">function</span> tmpl<span style="color:#008800; font-weight:bold;">&#40;</span>str, data<span style="color:#008800; font-weight:bold;">&#41;</span><span style="color:#008800; font-weight:bold;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// Figure out if we're getting a template, or if we need to</span><br />
&nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// load the template - and be sure to cache the result.</span><br />
&nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> fn = !<span style="color: #0066FF;">/\W/</span>.<span style="color: #006600;">test</span><span style="color:#008800; font-weight:bold;">&#40;</span>str<span style="color:#008800; font-weight:bold;">&#41;</span> ?<br />
&nbsp; &nbsp; &nbsp; cache<span style="color:#008800; font-weight:bold;">&#91;</span>str<span style="color:#008800; font-weight:bold;">&#93;</span> = cache<span style="color:#008800; font-weight:bold;">&#91;</span>str<span style="color:#008800; font-weight:bold;">&#93;</span> ||<br />
&nbsp; &nbsp; &nbsp; &nbsp; tmpl<span style="color:#008800; font-weight:bold;">&#40;</span>document.<span style="color: #006600;">getElementById</span><span style="color:#008800; font-weight:bold;">&#40;</span>str<span style="color:#008800; font-weight:bold;">&#41;</span>.<span style="color: #006600;">innerHTML</span><span style="color:#008800; font-weight:bold;">&#41;</span> :<br />
&nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// Generate a reusable function that will serve as a template</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// generator (and which will be cached).</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #003366; font-weight: bold;">Function</span><span style="color:#008800; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"obj"</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">"var p=[],print=function(){p.push.apply(p,arguments);};"</span> +<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// Introduce the data as local variables using with(){}</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">"with(obj){p.push('"</span> +<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// Convert the template into pure JavaScript</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; str<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .<span style="color: #006600;">replace</span><span style="color:#008800; font-weight:bold;">&#40;</span><span style="color: #0066FF;">/<span style="color:#008800; font-weight:bold;">&#91;</span>\r\t\n<span style="color:#008800; font-weight:bold;">&#93;</span>/g</span>, <span style="color: #3366CC;">" "</span><span style="color:#008800; font-weight:bold;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .<span style="color: #006600;">split</span><span style="color:#008800; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"&lt;%"</span><span style="color:#008800; font-weight:bold;">&#41;</span>.<span style="color: #006600;">join</span><span style="color:#008800; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"<span style="color: #000099; font-weight: bold;">\t</span>"</span><span style="color:#008800; font-weight:bold;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .<span style="color: #006600;">replace</span><span style="color:#008800; font-weight:bold;">&#40;</span>/<span style="color:#008800; font-weight:bold;">&#40;</span><span style="color:#008800; font-weight:bold;">&#40;</span>^|%&gt;<span style="color:#008800; font-weight:bold;">&#41;</span><span style="color:#008800; font-weight:bold;">&#91;</span>^\t<span style="color:#008800; font-weight:bold;">&#93;</span>*<span style="color:#008800; font-weight:bold;">&#41;</span><span style="color: #3366CC;">'/g, &quot;$1<span style="color: #000099; font-weight: bold;">\r</span>&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .replace(/<span style="color: #000099; font-weight: bold;">\t</span>=(.*?)%&gt;/g, &quot;'</span>,$<span style="color: #CC0000;">1</span>,<span style="color: #3366CC;">'&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .split(&quot;<span style="color: #000099; font-weight: bold;">\t</span>&quot;).join(&quot;'</span><span style="color:#008800; font-weight:bold;">&#41;</span>;<span style="color: #3366CC;">")<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .split("</span>%&gt;<span style="color: #3366CC;">").join("</span>p.<span style="color: #006600;">push</span><span style="color:#008800; font-weight:bold;">&#40;</span><span style="color: #3366CC;">'&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .split(&quot;<span style="color: #000099; font-weight: bold;">\r</span>&quot;).join(&quot;<span style="color: #000099; font-weight: bold;">\\</span>'</span><span style="color: #3366CC;">")<br />
&nbsp; &nbsp; &nbsp; + "</span><span style="color: #3366CC;">');}return p.join('</span><span style="color: #3366CC;">');&quot;);<br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; // Provide some basic currying to the user<br />
&nbsp; &nbsp; return data ? fn( data ) : fn;<br />
&nbsp; };<br />
})(); </span></div>
</div>
</div>
<p>You would use it against templates written like this (it doesn't have to be in this particular manner - but it's a style that I enjoy):</p>
<div class="syntax_hilite">
<div id="html-1">
<div><span style="color: #009900;"><a href="http://december.com/html/4/element/script.html"><span style="color: #000000; font-weight: bold;">&lt;script</span></a> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">"text/html"</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"item_tmpl"</span><a href="http://december.com/html/4/element/.html"><span style="color: #000000; font-weight: bold;">&gt;</span></a></span><br />
&nbsp; <span style="color: #009900;"><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">&lt;div</span></a> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"&lt;%=id%&gt;</span>&quot; class=&quot;<span style="color: #009900;">&lt;%=(i % 2 == 1 ? "</span> even<span style="color: #ff0000;">" : "</span><span style="color: #ff0000;">")%&gt;</span>&quot;&gt;<br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;div class="</span>grid_<span style="color: #cc66cc;">1</span> alpha right<span style="color: #ff0000;">"&gt;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;img class="</span>righted<span style="color: #ff0000;">" src="</span>&lt;%=profile_image_url%<a href="http://december.com/html/4/element/.html"><span style="color: #000000; font-weight: bold;">&gt;</span></a></span>&quot;/&gt;<br />
&nbsp; &nbsp; <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/div&gt;</span></span><br />
&nbsp; &nbsp; <span style="color: #009900;"><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">&lt;div</span></a> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"grid_6 omega contents"</span><a href="http://december.com/html/4/element/.html"><span style="color: #000000; font-weight: bold;">&gt;</span></a></span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;"><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">&lt;p&gt;</span></a></span><span style="color: #009900;"><a href="http://december.com/html/4/element/b.html"><span style="color: #000000; font-weight: bold;">&lt;b&gt;</span></a></span><span style="color: #009900;"><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">&lt;a</span></a> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">"/&lt;%=from_user%&gt;</span>&quot;&gt;<span style="color: #009900;">&lt;%=from_user%&gt;</span><span style="color: #009900;">&lt;/a&gt;</span>:<span style="color: #009900;">&lt;/b&gt;</span> <span style="color: #009900;">&lt;%=text%&gt;</span><span style="color: #009900;">&lt;/p&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;/div&gt;</span><br />
&nbsp; <span style="color: #009900;">&lt;/div&gt;</span><br />
<span style="color: #009900;">&lt;/script&gt;</span> </span></div>
</div>
</div>
<p>You can also inline script:</p>
<div class="syntax_hilite">
<div id="html-2">
<div><span style="color: #009900;"><a href="http://december.com/html/4/element/script.html"><span style="color: #000000; font-weight: bold;">&lt;script</span></a> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">"text/html"</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"user_tmpl"</span><a href="http://december.com/html/4/element/.html"><span style="color: #000000; font-weight: bold;">&gt;</span></a></span><br />
&nbsp; <span style="color: #009900;">&lt;% <span style="color: #000066;">for</span> <span style="color: #66cc66;">&#40;</span> var i = <span style="color: #cc66cc;">0</span>; i <a href="http://december.com/html/4/element/.html"><span style="color: #000000; font-weight: bold;">&lt;</span></a> users.length; i++ <span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span> %<a href="http://december.com/html/4/element/.html"><span style="color: #000000; font-weight: bold;">&gt;</span></a></span><br />
&nbsp; &nbsp; <span style="color: #009900;"><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">&lt;li&gt;</span></a></span><span style="color: #009900;"><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">&lt;a</span></a> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">"&lt;%=users[i].url%&gt;</span>&quot;&gt;<span style="color: #009900;">&lt;%=users[i].name%&gt;</span><span style="color: #009900;">&lt;/a&gt;</span><span style="color: #009900;">&lt;/li&gt;</span><br />
&nbsp; <span style="color: #009900;">&lt;% } %&gt;</span><br />
<span style="color: #009900;">&lt;/script&gt;</span> </span></div>
</div>
</div>
<p>Quick tip: Embedding scripts in your page that have a unknown content-type (such is the case here - the browser doesn't know how to execute a text/html script) are simply ignored by the browser - and by search engines and screenreaders. It's a perfect cloaking device for sneaking templates into your page. I like to use this technique for quick-and-dirty cases where I just need a little template or two on the page and want something light and fast.</p>
<p>and you would use it from script like so:</p>
<div class="syntax_hilite">
<div id="js-4">
<div><span style="color: #003366; font-weight: bold;">var</span> results = document.<span style="color: #006600;">getElementById</span><span style="color:#008800; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"results"</span><span style="color:#008800; font-weight:bold;">&#41;</span>;<br />
results.<span style="color: #006600;">innerHTML</span> = tmpl<span style="color:#008800; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"item_tmpl"</span>, dataObject<span style="color:#008800; font-weight:bold;">&#41;</span>;</div>
</div>
</div>
<p>You could pre-compile the results for later use. If you call the templating function with only an ID (or a template code) then it'll return a pre-compiled function that you can execute later:</p>
<div class="syntax_hilite">
<div id="js-5">
<div><span style="color: #003366; font-weight: bold;">var</span> show_user = tmpl<span style="color:#008800; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"item_tmpl"</span><span style="color:#008800; font-weight:bold;">&#41;</span>, html = <span style="color: #3366CC;">""</span>;<br />
<span style="color: #000066; font-weight: bold;">for</span> <span style="color:#008800; font-weight:bold;">&#40;</span> <span style="color: #003366; font-weight: bold;">var</span> i = <span style="color: #CC0000;">0</span>; i &lt; users.<span style="color: #006600;">length</span>; i++ <span style="color:#008800; font-weight:bold;">&#41;</span> <span style="color:#008800; font-weight:bold;">&#123;</span><br />
&nbsp; html += show_user<span style="color:#008800; font-weight:bold;">&#40;</span> users<span style="color:#008800; font-weight:bold;">&#91;</span>i<span style="color:#008800; font-weight:bold;">&#93;</span> <span style="color:#008800; font-weight:bold;">&#41;</span>;<br />
<span style="color:#008800; font-weight:bold;">&#125;</span></div>
</div>
</div>
<p>The biggest falling-down of the method, at this point, is the parsing/conversion code - it could probably use a little love. It does use one technique that I enjoy, though: If you're searching and replacing through a string with a static search and a static replace it's faster to perform the action with <code>.split("match").join("replace")</code> - which seems counter-intuitive but it manages to work that way in most modern browsers. (There are changes going in place to grossly improve the performance of <code>.replace(/match/g, "replace")</code> in the next version of Firefox - so the previous statement won't be the case for long.)</p>
<p>Feel free to have fun with it - I'd be very curious to see what mutations occur with the script. Since it's so simple it seems like there's a lot that can still be done with it.</p>
 

				</div>

		<p><small><strong>Posted:</strong> July 16th, 2008				</small> &#183; <a href="http://ejohn.org/blog/javascript-micro-templating/" class="retweet" title="JavaScript Micro-Templating"></a></p>
				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://ejohn.org/blog/javascript-micro-templating/"
    dc:identifier="http://ejohn.org/blog/javascript-micro-templating/"
    dc:title="JavaScript Micro-Templating"
    trackback:ping="http://ejohn.org/blog/javascript-micro-templating/trackback/" />
</rdf:RDF>				-->
			
		<p><small>If you particularly enjoy my work, I appreciate donations given with Gittip: <iframe style="border: 0; margin: 0; padding: 0;" src="https://www.gittip.com/jeresig/widget.html" width="48pt" height="20pt"></iframe></small></p>

<!-- You can start editing here. -->


	<h4 id="comments">
	95 Comments		<a href="#postcomment" title="Jump to the comments form" id="showcomment" onclick="document.getElementById('commentlist').style.display='block';">(Show Comments)</a>
		</h4>

	<ol id="commentlist" style="display:none;">

	
		<li class="alt " id="comment-318939">
		
		<h3 class="commenttitle"><b><a href='http://www.flensed.com' rel='external nofollow' class='url'>Kyle Simpson</a></b>
	
		<small><small>
			(July 16, 2008 
			at <a href="#comment-318939" title="Permanent link to this comment">11:44 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>the &#8220;text/html&#8221; script island for hiding/cloaking data (in this case, a template) is quite interesting. Thanks for the tips!</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-318940">
		
		<h3 class="commenttitle"><b><a href='http://irae.pro.br/en/' rel='external nofollow' class='url'>Iraê</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318940" title="Permanent link to this comment">1:56 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Awesome!</p>
<p>Its amusing to see this kind of tricks. Also very useful.</p>
<p>I currently have some pages witch are rendered with all data coming from JSONP calls (I know, it sucks, but it&#8217;s not my decision) and I use one external javascript with the following pattern for templates:</p>
<p><code><br />
markup={};<br />
markup.user = function() {<br />
  html='&lt;dl&gt;\<br />
  &lt;dt&gt;'+this.name+'&lt;/dt&gt;\<br />
  &lt;dd&gt;'+this.about+'&lt;/dd&gt;\<br />
  &lt;/dl&gt;';<br />
  return html;<br />
}<br />
</code></p>
<p>And I call this functions with:<br />
<code>$('#output').html(markup.user.apply(data));</code></p>
<p>In my tests this was a pretty fast method. But now I&#8217;m looking forward to get to work tomorrow to try out your templates.</p>
<p>I just can&#8217;t wait for the book!</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-318943">
		
		<h3 class="commenttitle"><b>michele</b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318943" title="Permanent link to this comment">2:15 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Very cool, you rock, I can&#8217;t wait to get my hands on your next book!</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-318944">
		
		<h3 class="commenttitle"><b><a href='http://edwink.devhd.com' rel='external nofollow' class='url'>Edwin Khodabakchian</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318944" title="Permanent link to this comment">2:37 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Hi John,</p>
<p>You might want to take a look at that:<br />
<a href="http://www.devhd.com/item0002.htm" rel="nofollow">http://www.devhd.com/item0002.htm</a></p>
<p>Similar to what you are describing but with pre-compilation support</p>
<p>-Edwin</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-318945">
		
		<h3 class="commenttitle"><b>Lenny</b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318945" title="Permanent link to this comment">3:30 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Funnily enough I started working on a very similar problem only yesterday, except using XSL loaded via XHR to populate templates with JS objects. Yet again I am made to feel slightly inadequate by your solution&#8230;</p>
<p>Very impressed by the type=&#8221;text/html&#8221; workaround though. I can&#8217;t help thinking it&#8217;s a little too based around browser quirks for my liking, and as such I might be loathed to use it in production builds in case it gets &#8220;fixed&#8221; in future browser versions. Maybe I&#8217;m being paranoid.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-318947">
		
		<h3 class="commenttitle"><b><a href='http://webreflection.blogspot.com/' rel='external nofollow' class='url'>Andrea Giammarchi</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318947" title="Permanent link to this comment">3:33 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>John, I think it is interesting but I cannot spot portability or &#8220;component&#8221; re-usability, over performances.</p>
<p>What I mean, is that XSL(T) does similar things, in a more standard way, and using browser core functions to perform those tasks.</p>
<p>Am I that wrong?</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-318948">
		
		<h3 class="commenttitle"><b>Bakyt Niyazov</b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318948" title="Permanent link to this comment">3:54 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I was looking for it :D<br />
And was thinking to write myself.</p>
<p>type=&#8221;text/html&#8221; &#8211; it is something new and seems to be very very useful.</p>
<p>But no one could do it better than you!</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-318949">
		
		<h3 class="commenttitle"><b>Valentin Vago</b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318949" title="Permanent link to this comment">4:27 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Excellent!<br />
I was looking at such functionnality/feature and started to write it myself (but i will defenetly use yours as I feel myself under skilled :) )</p>
<p>by the way, i agree with Bakyt Niyazov, no one could do it better than you and I would like to thanks you for all what you share with us!</p>
</div>
		
		</li>

		
	
		<li class="alt author" id="comment-318951">
		
		<h3 class="commenttitle"><b><a href='http://ejohn.org/' rel='external nofollow' class='url'>John Resig</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318951" title="Permanent link to this comment">7:25 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Edwin: Seems like an interesting solution. I don&#8217;t think there&#8217;s really that big of a hit in the compilation stage (at least not for what I&#8217;m showing above) so handling it in pure JavaScript would seem to be fine, for now. Obviously for something that&#8217;s really long a pre-compiled solution would be better.</p>
<p>@Lenny: This isn&#8217;t really a feature that browsers can &#8220;fix&#8221;. It&#8217;s fully supported by browsers that you can use <a href="http://www.w3.org/TR/REC-html40/interact/scripts.html#h-18.2.1" rel="nofollow">multiple scripting languages</a> within a page (browsers may not support the individual languages, but they allow them to exist and don&#8217;t manipulate them). Search engines and screen readers definitely agree on this point so it&#8217;s actually a very safe solution.</p>
<p>@Andrea: Except that all browsers don&#8217;t support client-side, JavaScript-accessible, XSL transformations. If they did then that would certainly be a viable option.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-318952">
		
		<h3 class="commenttitle"><b><a href='http://luddep.se/' rel='external nofollow' class='url'>Ludwig Pettersson</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318952" title="Permanent link to this comment">7:51 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Best book name, ever.</p>
<p>I haven&#8217;t seen a client side template system before, so it&#8217;s pretty strange &#8211; it feels wrong somehow. Still, great work!</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-318953">
		
		<h3 class="commenttitle"><b><a href='http://webreflection.blogspot.com/' rel='external nofollow' class='url'>Andrea Giammarchi</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318953" title="Permanent link to this comment">9:18 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@John,<br />
&gt;&gt; Except that all browsers don&#8217;t support client-side, JavaScript-accessible, XSL transformations</p>
<p>and here we come, don&#8217;t we? :D</p>
<p>It could be interesting to base a client side template with XSL-T model, so browsers that support them will be truly fast, while others still compatible (but I think a lot of browsers support native XSL transformation).</p>
<p>Anyway, is there some library capable to implement them?</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-318954">
		
		<h3 class="commenttitle"><b>Brian R</b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318954" title="Permanent link to this comment">9:28 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Seems like everybody wants to write a JS templating solution. I&#8217;ve been using TrimPath JST for quite a while with good success. </p>
<p>That trick with the script block though &#8212; very cool.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-318955">
		
		<h3 class="commenttitle"><b>Lenny</b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318955" title="Permanent link to this comment">9:45 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@John &#8211; on second thoughts, you are of course correct, I think I was just distracted by you saying &#8220;the browser doesn&#8217;t know how to execute a text/html script&#8221; and my mind thinking that browsers should naturally be able to understand text/html.</p>
<p>You could obviously put anything in place of text/html (as long as it isn&#8217;t an actual script type) and render my paranoia moot.</p>
<p>As you said, again, this is only really a quick and dirty solution for &#8220;sneaking templates into the page&#8221;. I&#8217;m guessing if you were going to apply this more rigorously then you&#8217;d probably use some kind of XHR to load the templates?</p>
<p>If I get anywhere with my XSL based implementation (and can persuade the people paying me to write it that they don&#8217;t mind) then I&#8217;ll post it somewhere. </p>
</div>
		
		</li>

		
	
		<li class=" author" id="comment-318956">
		
		<h3 class="commenttitle"><b><a href='http://ejohn.org/' rel='external nofollow' class='url'>John Resig</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318956" title="Permanent link to this comment">9:56 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Andrea: Ah &#8211; specifically I was thinking of Safari 2. Although the usage of that browser has dropped dramatically so it&#8217;s probably far less of an issue, now. Here&#8217;s an <a href="http://johannburkard.de/software/xsltjs/" rel="nofollow">XSLT.js</a> script I found after a minute of searching.</p>
<p>@Lenny: Correct &#8211; any sort of content-type would work there &#8211; and absolutely using XHR to load in complex material would probably be ideal.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-318957">
		
		<h3 class="commenttitle"><b><a href='http://www.flensed.com' rel='external nofollow' class='url'>Kyle Simpson</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318957" title="Permanent link to this comment">11:52 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@John:<br />
Have you tried using this with a src attribute on your script tag?  In other words, pulling in a template externally instead of embedding it in the HTML stream?</p>
<p>I can&#8217;t seem to make this work. IE-Debugbar and FF-Firebug seem to show that the contents do get loaded, but I can&#8217;t access them via innerHTML like I can with inline stuff&#8230; wonder why&#8230; If I could figure that part out, I would think this would be a really helpful technique.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-318958">
		
		<h3 class="commenttitle"><b><a href='http://adwencreative.com' rel='external nofollow' class='url'>Wade Harrell</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318958" title="Permanent link to this comment">12:05 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Does client side XSLT rear its head again?!? Oh Safari 2 how I loath thee.  I have been waiting for the acceptance of client-side XSLT for what seems like forever now&#8230; but then JSON came along and nobody wants to send XML to the client anymore.  (oh the heartache to choose between json and xslt)</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-318959">
		
		<h3 class="commenttitle"><b>Kevin H</b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318959" title="Permanent link to this comment">1:45 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I&#8217;m used to seeing templates embedded in a hidden textarea.  Do you think there are benefits to using script over textarea?</p>
<p>As far as the templating function, it is a nice compact little thing, but I prefer a more feature-filled template language, like <a href="http://code.google.com/p/trimpath/wiki/JavaScriptTemplates" rel="nofollow">TrimPath JST</a></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-318972">
		
		<h3 class="commenttitle"><b><a href='http://lhorie.blogspot.com' rel='external nofollow' class='url'>Leo Horie</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318972" title="Permanent link to this comment">4:42 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Kevin: off the top of my head, I reckon doing forms with a textarea-bound template would cause a few headaches since I assume having another textarea inside the template would effectively close the container textarea prematurely. A script tag sounds safe in that sense assuming you use unobtrusive javascript.</p>
<p>@John: Just by curiosity, what benefits do you see to using client-side templates over doing the templating on the server-side, taking into account what you mentioned about XHR being an ideal way of loading the content?</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-318977">
		
		<h3 class="commenttitle"><b>Chuckchillout</b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318977" title="Permanent link to this comment">5:21 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I&#8217;ve used JSONT a few times and this seems to accomplish the same.  Does anyone see any advantages/disadvantages between the 2 approaches?</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-318984">
		
		<h3 class="commenttitle"><b><a href='http://jethrolarson.blogspot.com' rel='external nofollow' class='url'>Jethro Larson</a></b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318984" title="Permanent link to this comment">6:02 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I&#8217;ve been playing with <a href="http://embeddedjs.com/" rel="nofollow">ejs</a> and that&#8217;s been fun. It still feels very alpha but I&#8217;d like to see it get more robust. I like your solution, I would just like to see it get a little bigger. </p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-318989">
		
		<h3 class="commenttitle"><b>Jon</b>
	
		<small><small>
			(July 17, 2008 
			at <a href="#comment-318989" title="Permanent link to this comment">8:58 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Wade I would like to see pure XML/xform (not predefined XHTML) and CSS . I just feel XSLT is a technology that shouldn&#8217;t be used to remedy browser inadequacy. Just need to have script capabilities in XML files. Xform functions are not powerful enough.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319002">
		
		<h3 class="commenttitle"><b><a href='http://irae.pro.br/en/' rel='external nofollow' class='url'>Iraê</a></b>
	
		<small><small>
			(July 18, 2008 
			at <a href="#comment-319002" title="Permanent link to this comment">12:31 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Kevin H: Templates in textareas are a nightmare. Depending on how you access this information the data could be parsed by ID and you get an weird output. I&#8217;ve seen a really old code in where I work witch used textareas for <code>&lt;object&gt;&lt;embed /&gt;&lt;/object&gt;</code> that IE6 and IE7 returned only the &#8216;embed&#8217; part, stripping the entire &#8216;object&#8217; tag.</p>
<p>@Leo Horie: I think that John expects this templates to be useful in pages where you fetch your data or process your data in javascript by need, not by choice. i.e. when you are accessing an external JSONP API or when you wish to work with data in a desktop-like fell, such as Y~Mail. At least I wouldn&#8217;t use it purposefully on any kind of content I could use serverside parsing, since SEO is a big concern today.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319005">
		
		<h3 class="commenttitle"><b><a href='http://weblogs.asp.net/bleroy' rel='external nofollow' class='url'>Bertrand Le Roy</a></b>
	
		<small><small>
			(July 18, 2008 
			at <a href="#comment-319005" title="Permanent link to this comment">1:33 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Interesting. We converged on similar ideas on our own template engine: we also build a function (once) for the template and run it to instantiate, use JavaScript as the expression language and use &#8220;with&#8221; to bring the data object&#8217;s members into scope. We totally differ on the template parsing though, and one thing that isn&#8217;t quite clear from reading your code is whether you&#8217;re handling encoding and how resilient this is to injection.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319006">
		
		<h3 class="commenttitle"><b>John</b>
	
		<small><small>
			(July 18, 2008 
			at <a href="#comment-319006" title="Permanent link to this comment">6:01 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Thanks for sharing!. I&#8217;m learning so much from trying to run and understand your code. I get this error when I run the micro template code:</p>
<p>text is not defined<br />
[Break on this error] + &#8220;&#8216;);}return p.join(&#8221;);&#8221;</p>
<p>This is how I&#8217;m calling the tmpl function:<br />
<code><br />
	var results = document.getElementById("results");<br />
	var dataObject = {};<br />
	dataObject.from_user = "#";<br />
	dataObject.profile_image_url = "/test/";<br />
	dataObject.id = "test";</p>
<p>	results.innerHTML = tmpl("item_tmpl", dataObject);<br />
</code><br />
Can anyone help?</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319015">
		
		<h3 class="commenttitle"><b><a href='http://www.peterbenoit.com' rel='external nofollow' class='url'>Peter Benoit</a></b>
	
		<small><small>
			(July 18, 2008 
			at <a href="#comment-319015" title="Permanent link to this comment">10:14 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I might be wrong, but it appears your template looking for &#8220;text&#8221; from your dataObject?  </p>
</div>
		
		</li>

		
	
		<li class=" author" id="comment-319025">
		
		<h3 class="commenttitle"><b><a href='http://ejohn.org/' rel='external nofollow' class='url'>John Resig</a></b>
	
		<small><small>
			(July 18, 2008 
			at <a href="#comment-319025" title="Permanent link to this comment">2:54 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@John: Do you have a demo page up anywhere so I can take a quick peek? I tweaked a demo that a user sent me yesterday and put it online <a href="http://ejohn.org/apps/tmpl/tmp.html" rel="nofollow">here</a>, if you want to see more examples.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319067">
		
		<h3 class="commenttitle"><b>henrah</b>
	
		<small><small>
			(July 21, 2008 
			at <a href="#comment-319067" title="Permanent link to this comment">10:45 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Surely the greatest advantage of doing inline templating is that in a server-side javascript environment, you can choose on the fly whether to do template processing beforehand and serve a static page or do dynamic updates on the client, depending on the capabilities of the requesting browser.</p>
<p>Bravo for this excellent work.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319088">
		
		<h3 class="commenttitle"><b><a href='http://www.sunsean.com' rel='external nofollow' class='url'>Sean Catchpol</a></b>
	
		<small><small>
			(July 22, 2008 
			at <a href="#comment-319088" title="Permanent link to this comment">11:43 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>John this is excellent. The <code>&lt;script type="text/html"&gt;</code> is particularly useful.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319094">
		
		<h3 class="commenttitle"><b><a href='http://joshrehman.com' rel='external nofollow' class='url'>Josh Rehman</a></b>
	
		<small><small>
			(July 22, 2008 
			at <a href="#comment-319094" title="Permanent link to this comment">8:01 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I don&#8217;t understand how this code works! For example:</p>
<p>1. Why this.tmpl = function tmpl(&#8230;){}? Why not &#8220;tmpl&#8221;: function(){}? (This is a matter of convention I think, and not all that important).</p>
<p>2. I really don&#8217;t understand the body of tmpl()! What the heck is going on there?</p>
<p>WRT #2, I think it would be interesting to share how you built this script &#8211; for example, did you start with a concrete test template and data, write a script that did the interpolation, and then generalize it?</p>
<p>Also WRT#2 it would be interesting to know which functions are &#8220;built in&#8221; and which you are defining. What makes it particularly confusing is the absence of an eval() &#8211; all I see is this mysterious push().</p>
<p>Another problem, I think, is the syntax highlighting. The third replace in the anon function is highlighted as a literal string. Since there is already some meta-programming going on, this confuses things. :)</p>
<p>There&#8217;s actually a third problem &#8211; the API might be better documented: tmpl takes the ID of a DOM elt that contains template data, and an Object that represents the data, and returns the interpolated string. One thing that puzzles me</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319095">
		
		<h3 class="commenttitle"><b><a href='http://mrspeaker.webeisteddfod.com/' rel='external nofollow' class='url'>Mr Speaker</a></b>
	
		<small><small>
			(July 22, 2008 
			at <a href="#comment-319095" title="Permanent link to this comment">8:30 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>The demo template uses: &#8220;i % 2&#8243; to set the class name &#8211; Presumably &#8220;i&#8221; is the loop index&#8230; I was wondering how you set &#8220;i&#8221; in your data object? Do you have to do &#8220;user[i].i = i&#8221; in the loop before you call the tmpl function?</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319097">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(July 22, 2008 
			at <a href="#comment-319097" title="Permanent link to this comment">9:53 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Why not use textarea as template container just like that in TrimPath JS Template?<br />
<code><br />
&lt;textarea id="item_tmpl" style="display:none;"&gt;<br />
  &lt;% for ( var i = 0; i &lt; users.length; i++ ) { %&gt;<br />
    &lt;li&gt;&lt;a href="&lt;%=users[i].url%&gt;"&gt;&lt;%=users[i].name%&gt;&lt;/a&gt;&lt;/li&gt;<br />
  &lt;% } %&gt;<br />
&lt;/textarea&gt;<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319098">
		
		<h3 class="commenttitle"><b><a href='http://joshrehman.com' rel='external nofollow' class='url'>Josh Rehman</a></b>
	
		<small><small>
			(July 22, 2008 
			at <a href="#comment-319098" title="Permanent link to this comment">11:45 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Mr Speaker I&#8217;ve spent some time this afternoon unfolding this code, and the simple answer to your question is because the template is converted to JavaScript by stripping the  tokens and wrapping the rest of it in string literals, with special care taken for the  case.</p>
<p>The code is terse, fast, completely unreadable, and a great exercise for the JavaScript student to decipher. :) There is a high density of interesting things here.</p>
<p>As interesting as this code is, and potentially useful, I&#8217;m concerned that it might lead people astray &#8211; templating is BAD. One of the reasons I like jQuery is that you can do &#8220;passive templating&#8221; with it &#8211; use plain old static HTML as a template, using contextual hints to do your &#8220;templating&#8221;. I mean, I&#8217;m all for client side templating &#8211; but of the passive, unintrusive sort.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319099">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(July 23, 2008 
			at <a href="#comment-319099" title="Permanent link to this comment">12:04 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Guys, try these:<br />
<code><br />
&lt;script&gt;<br />
(function(){<br />
  var cache = {};<br />
  if (document.all) // ie6<br />
     {var tag_start='&lt;!';<br />
      var tag_end='!&gt;';<br />
     }<br />
  else<br />
      {var tag_start='&lt;!--';<br />
       var tag_end='--&gt;';<br />
      }<br />
  this.tmpl = function tmpl(str, data){//alert(document.getElementById(str).innerHTML);<br />
    // Figure out if we're getting a template, or if we need to<br />
    // load the template - and be sure to cache the result.<br />
    var fn = !/\W/.test(str) ?<br />
      cache[str] = cache[str] ||<br />
        tmpl(document.getElementById(str).innerHTML) :</p>
<p>      // Generate a reusable function that will serve as a template<br />
      // generator (and which will be cached).<br />
      new Function("obj",<br />
        "var p=[],print=function(){p.push.apply(p,arguments);};" +</p>
<p>        // Introduce the data as local variables using with(){}<br />
        "with(obj){p.push('" +</p>
<p>        // Convert the template into pure JavaScript<br />
        str<br />
          .replace(/[\r\t\n]/g, " ")<br />
          .split(tag_start).join("\t")<br />
          .replace(new RegExp("((^|"+tag_end+")[^\\t]*)'", "g"), "$1\r")<br />
          .replace(new RegExp("\\t=(.*?)"+tag_end, "g"), "',$1,'")<br />
          .split("\t").join("');")<br />
          .split(tag_end).join("p.push('")<br />
          .split("\r").join("\\'")<br />
      + "');}return p.join('');");</p>
<p>    // Provide some basic currying to the user<br />
    if (data)<br />
       {document.getElementById(str).innerHTML=fn( data )<br />
       }<br />
    else<br />
        {return fn;<br />
        }<br />
  };<br />
})();<br />
&lt;/script&gt;</p>
<p>&lt;div id="tpl"&gt;&nbsp;&lt;br&gt;<br />
&lt;!for (i=0;i&lt;users.length;++i){!&gt;<br />
Name:&lt;!=users[i].name!&gt;&lt;br&gt;<br />
&lt;!}!&gt;<br />
&lt;/div&gt;<br />
&lt;script&gt;<br />
var data={users:[{name:'name1'},<br />
                 {name:'name2'}<br />
                ]<br />
         };<br />
//var results = document.getElementById("tpl");<br />
tmpl("tpl", data);<br />
var data={users:[{name:'second name1'},<br />
                 {name:'second name2'}<br />
                ]<br />
         };<br />
tmpl("tpl", data);<br />
&lt;/script&gt;<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319100">
		
		<h3 class="commenttitle"><b><a href='http://joshrehman.com' rel='external nofollow' class='url'>Josh Rehman</a></b>
	
		<small><small>
			(July 23, 2008 
			at <a href="#comment-319100" title="Permanent link to this comment">12:46 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Well, I just learned that code in comments have to be specially treated. :)</p>
<p>Anyway, I&#8217;ve posted a <a href="http://javajosh.blogspot.com/2008/07/micro-templating-from-john-resig-code.html" rel="nofollow">pretty detailed code-review</a> to my blog. There are still two pieces I don&#8217;t quite understand, but I hope it&#8217;s helpful anyway.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319118">
		
		<h3 class="commenttitle"><b><a href='http://www.javascriptr.com' rel='external nofollow' class='url'>Henry Belmont</a></b>
	
		<small><small>
			(July 25, 2008 
			at <a href="#comment-319118" title="Permanent link to this comment">11:41 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@diyism Agreed&#8230;I think using the textarea is the way to go if you really must have the template code in your HTML (check out <a href="http://www.javascriptr.com/2008/06/05/purejstemplate-a-pure-javascript-templating-engine-for-jquery/" rel="nofollow">PureJSTemplate</a> which is also available as a <a href="http://plugins.jquery.com/project/puresjstemplate" rel="nofollow">JQuery plug-in</a>).</p>
<p>I&#8217;d much prefer to keep everything in a separate file and load in via Ajax.</p>
<p>Cool example though&#8230; Thanks John!</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319120">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(July 25, 2008 
			at <a href="#comment-319120" title="Permanent link to this comment">7:46 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Henry Belmont, do you realized that my sample code above is showing how to use micro-template without a seperate template container? That&#8217;s the point.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319130">
		
		<h3 class="commenttitle"><b><a href='http://m0n5t3r.info/' rel='external nofollow' class='url'>m0n5t3r</a></b>
	
		<small><small>
			(July 28, 2008 
			at <a href="#comment-319130" title="Permanent link to this comment">10:06 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>very cool, indeed, but unfortunately if you slap this kind of template into a html fragment loaded via Ajax, jQuery will kill it somehow (I think it moves all script elements to the head section so they are executed, then removes them for good) :(</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319134">
		
		<h3 class="commenttitle"><b><a href='http://derek-says.blogspot.com' rel='external nofollow' class='url'>Derek  Fowler</a></b>
	
		<small><small>
			(July 28, 2008 
			at <a href="#comment-319134" title="Permanent link to this comment">5:53 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>That <code>.split("match").join("replace")</code> performance oddity is true of VBScript as well.</p>
<p>Nice utility anyway. Cheers.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319136">
		
		<h3 class="commenttitle"><b>Rich Collins</b>
	
		<small><small>
			(July 28, 2008 
			at <a href="#comment-319136" title="Permanent link to this comment">5:58 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Reposting</p>
<p><code><br />
&lt;% jQuery.each(foos, function(i, foo) { %gt;<br />
&lt;span&gt;&lt;%= foo %&gt;&lt;/span&gt;<br />
  &lt;% if(i &lt; foos.length - 1){ %&gt;<br />
   |<br />
  &lt;% } %&gt;<br />
&lt;% }); %&gt;<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319137">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(July 28, 2008 
			at <a href="#comment-319137" title="Permanent link to this comment">9:35 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Guys, i&#8217;ve got an idea: using micro-template as jquery extension,<br />
my code is ugly, John Resig, could you help me to improve it?</p>
<p><code><br />
&lt;script&nbsp;src="jquery-1.2.3.js"&gt;&lt;/script&gt;<br />
&lt;script&gt;<br />
jQuery.fn.extend({drink:&nbsp;function(json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{window.tpl_cache&nbsp;=&nbsp;(typeof(window.tpl_cache)=='undefined')?{}:window.tpl_cache;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;name_class&nbsp;=&nbsp;this.attr('class');<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;tpl&nbsp;=&nbsp;tpl_cache[name_class]&nbsp;=&nbsp;tpl_cache[name_class]&nbsp;||&nbsp;unescape(this.html());<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tpl=tpl.replace(/[\r\t\n]/g,&nbsp;"&nbsp;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;/g,&nbsp;"!&gt;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('&lt;!').join("\t")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/((^|!&gt;)[^\t]*)'/g,&nbsp;"$1\r")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\t=(.*?)!&gt;/g,&nbsp;"',$1,'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\t").join("');")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('!&gt;').join("p.push('")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\r").join("\\'");<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;json_2_html<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=new&nbsp;Function('the_json',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"var&nbsp;p=[];with&nbsp;(the_json){p.push('"+tpl+"');}return&nbsp;p.join('');"<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.html(json_2_html(json));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&lt;/script&gt;</p>
<p>&lt;div&nbsp;id="test1"&nbsp;class="users"&gt;&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(i=0;i&lt;users.length;++i){!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name:&lt;a&nbsp;href="&lt;!=users[i].name!&gt;"&gt;&lt;!=users[i].name!&gt;&lt;/a&gt;&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}!&gt;<br />
&lt;/div&gt;&lt;br&gt;<br />
somthing&nbsp;else&nbsp;...<br />
&lt;div&nbsp;id="test2"&nbsp;class="users"&gt;<br />
&lt;/div&gt;</p>
<p>&lt;script&gt;<br />
var&nbsp;data={users:[{name:'name1'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name2'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test1').drink(data);<br />
var&nbsp;data={users:[{name:'second&nbsp;name1'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'second&nbsp;name2'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test1').drink(data);<br />
$('#test2').drink(data);<br />
&lt;/script&gt;<br />
</code></p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319138">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(July 28, 2008 
			at <a href="#comment-319138" title="Permanent link to this comment">10:58 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Thus is more concise:<br />
<code><br />
jQuery.fn.extend({drink:&nbsp;function(json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{var&nbsp;name_class&nbsp;=&nbsp;this.attr('class');<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;name_tpl_fun_cache&nbsp;=&nbsp;'tpl_fun_cache_'+name_class;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(typeof(window[name_tpl_fun_cache])=='undefined')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{var&nbsp;tpl=unescape(this.html())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/[\r\t\n]/g,&nbsp;"&nbsp;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;/g,&nbsp;"!&gt;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('&lt;!').join("\t")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/((^|!&gt;)[^\t]*)'/g,&nbsp;"$1\r")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\t=(.*?)!&gt;/g,&nbsp;"',$1,'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\t").join("');")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('!&gt;').join("p.push('")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\r").join("\\'");<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window[name_tpl_fun_cache]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=new&nbsp;Function('the_json',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"var&nbsp;p=[];with&nbsp;(the_json){p.push('"+tpl+"');}return&nbsp;p.join('');"<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.html(window[name_tpl_fun_cache](json));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319139">
		
		<h3 class="commenttitle"><b><a href='http://m0n5t3r.info/' rel='external nofollow' class='url'>m0n5t3r</a></b>
	
		<small><small>
			(July 29, 2008 
			at <a href="#comment-319139" title="Permanent link to this comment">6:48 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p><a href="http://plugins.jquery.com/project/printf" rel="nofollow">jQuery.sprintf</a>($(&#8216;%(value1)s and %(value2)s&#8217;, {value1: &#8216;this is text 1&#8242;, value2:&#8217;this is text2&#8242;}) =&gt; &#8220;this is text 1 and this is text 2&#8243;</p>
<p>I find this works just fine for my needs :)</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319140">
		
		<h3 class="commenttitle"><b><a href='http://m0n5t3r.info/' rel='external nofollow' class='url'>m0n5t3r</a></b>
	
		<small><small>
			(July 29, 2008 
			at <a href="#comment-319140" title="Permanent link to this comment">6:49 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>erm, there is a typo above, but you get the point :-/</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319144">
		
		<h3 class="commenttitle"><b>ak</b>
	
		<small><small>
			(July 29, 2008 
			at <a href="#comment-319144" title="Permanent link to this comment">8:51 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>PLEASE NOTE: Make sure you give your template an id without dashes &#8211; this will break the template function. So instead of id=&#8221;tpl-detail&#8221; use id=&#8221;tpl_detail&#8221;. John does so himself but he didn&#8217;t mention this explicitly. Nonetheless, great piece of code.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319146">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(July 30, 2008 
			at <a href="#comment-319146" title="Permanent link to this comment">2:44 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Maturer example, with data application of template-in-template:<br />
<code><br />
&lt;script&nbsp;src="jquery-1.2.3.js"&gt;&lt;/script&gt;<br />
&lt;script&gt;<br />
$.fn.drink&nbsp;=&nbsp;function(json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{if&nbsp;(!(arguments.callee.name_class&nbsp;=&nbsp;this.attr('class')))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;name_tpl_fun_cache&nbsp;=&nbsp;'tpl_fun_cache_'+arguments.callee.name_class;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(typeof(window[name_tpl_fun_cache])=='undefined')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{var&nbsp;tpl=unescape(this.html())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--|&lt;!/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;|!&gt;/g,&nbsp;"!&gt;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r/g,&nbsp;'&nbsp;')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\n/g,&nbsp;"\\\n")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('&lt;!').join("\r")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/((^|!&gt;)[^\r]*)'/g,&nbsp;"$1\\'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r=(.*?)!&gt;/g,&nbsp;"',$1,'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\r").join("');")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('!&gt;').join("p.push('");<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window[name_tpl_fun_cache]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=new&nbsp;Function('the_json',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"var&nbsp;p=[];with&nbsp;(the_json){p.push('"+tpl+"');}return&nbsp;p.join('');"<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.html(window[name_tpl_fun_cache](json));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
&lt;/script&gt;</p>
<p>&lt;div&nbsp;id="test1"&nbsp;class="users"&gt;&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(var&nbsp;i=0;i&lt;users.length;++i){!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id="user_&lt;!=i!&gt;"&nbsp;class='user'&gt;Name:&lt;a&nbsp;href="&lt;!=users[i].name!&gt;"&gt;&lt;!=users[i].name!&gt;&lt;/a&gt;&lt;/div&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}!&gt;<br />
&lt;/div&gt;&lt;pre&gt;somthing<br />
else&nbsp;...&lt;/pre&gt;<br />
&lt;div&nbsp;id="test2"&nbsp;class="users"&gt;<br />
&lt;/div&gt;</p>
<p>&lt;script&gt;<br />
$('.user').drink();</p>
<p>var&nbsp;data1={users:[{name:'name1.1'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name1.2'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test1').drink(data1);<br />
var&nbsp;data2={users:[{name:'name2.1'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name2.2'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test2').drink(data2);</p>
<p>data1.users[1].name='name1.2.changed';<br />
$('#test1&nbsp;#user_1').drink($.extend(data1,&nbsp;{i:1}));<br />
&lt;/script&gt;<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319147">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(July 30, 2008 
			at <a href="#comment-319147" title="Permanent link to this comment">2:49 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Take care, in the middle, it should be:<br />
<code><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{var&nbsp;tpl=unescape(this.html())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--|&amp;lt;!/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;|!&amp;gt;/g,&nbsp;"!&gt;")<br />
</code></p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319153">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(July 31, 2008 
			at <a href="#comment-319153" title="Permanent link to this comment">6:56 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>New edition:<br />
<code><br />
$.fn.drink&nbsp;=&nbsp;function(json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{if&nbsp;(!(arguments.callee.name_class&nbsp;=&nbsp;this.attr('class')))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;name_tpl_fun_cache&nbsp;=&nbsp;'tpl_fun_cache_'+arguments.callee.name_class;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!window[name_tpl_fun_cache])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{var&nbsp;tpl=unescape(this.html())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--|&amp;lt;!/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;|!&amp;gt;/g,&nbsp;"!&gt;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r/g,&nbsp;'&nbsp;')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\n/g,&nbsp;"\\\n")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('&lt;!').join("\r")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/(^|!&gt;)(([^\r]*?')*)/g,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function(str0,&nbsp;str1,&nbsp;str2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;str1+str2.replace(/'/g,&nbsp;"\\'");<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r=(.*?)!&gt;/g,&nbsp;"',$1,'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\r").join("');")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('!&gt;').join("p.push('");<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window[name_tpl_fun_cache]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=new&nbsp;Function('the_json',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"var&nbsp;p=[];with&nbsp;(the_json){p.push('"+tpl+"');}return&nbsp;p.join('');"<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.html(window[name_tpl_fun_cache](json));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319156">
		
		<h3 class="commenttitle"><b><a href='http://www.webdevbros.net' rel='external nofollow' class='url'>Michal</a></b>
	
		<small><small>
			(July 31, 2008 
			at <a href="#comment-319156" title="Permanent link to this comment">9:47 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>very nice idea!! also i like the idea of using the &#8220;src&#8221; attribute as Kylie mentioned .. maybe for XHR</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319163">
		
		<h3 class="commenttitle"><b>Christiaan</b>
	
		<small><small>
			(August 1, 2008 
			at <a href="#comment-319163" title="Permanent link to this comment">4:07 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I gave a jquery extension for this nice tmpl function a go, since the one I&#8217;ve seen here already didn&#8217;t fit my needs.</p>
<p><code><br />
(function($){<br />
  var cache = {};</p>
<p>  $.tmpl = function tmpl(str, data){<br />
  // Figure out if we're getting a template, or if we need to<br />
  // load the template - and be sure to cache the result.<br />
  var fn = !/\W/.test(str) ?<br />
      cache[str] = cache[str] ||<br />
      tmpl(document.getElementById(str).innerHTML) :</p>
<p>      // Generate a reusable function that will serve as a template<br />
      // generator (and which will be cached).<br />
      new Function("obj",<br />
        "var p=[],print=function(){p.push.apply(p,arguments);};" +</p>
<p>        // Introduce the data as local variables using with(){}<br />
        "with(obj){p.push('" +</p>
<p>        // Convert the template into pure JavaScript<br />
        str<br />
          .replace(/[\r\t\n]/g, " ")<br />
          .split(")[^\t]*)'/g, "$1\r")<br />
          .replace(/\t=(.*?)%&gt;/g, "',$1,'")<br />
          .split("\t").join("');")<br />
          .split("%&gt;").join("p.push('")<br />
          .split("\r").join("\\'")<br />
      + "');}return p.join('');");</p>
<p>    // Provide some basic currying to the user<br />
    return data ? fn( data ) : fn;<br />
  };</p>
<p>  $.fn.tmpl = function(str, data){<br />
    return this.each(function(){<br />
      $(this).html($.tmpl(str, data));<br />
    });<br />
  };<br />
})(jQuery);<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319164">
		
		<h3 class="commenttitle"><b><a href='http://www.ticketpoint.de/flug/flug-asien/flug-bangkok.html' rel='external nofollow' class='url'>Flug Bangkok</a></b>
	
		<small><small>
			(August 1, 2008 
			at <a href="#comment-319164" title="Permanent link to this comment">4:55 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>it´s fun to read the codes and all your ideas! that´s nice peace of work.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319172">
		
		<h3 class="commenttitle"><b><a href='http://jsonml.org' rel='external nofollow' class='url'>Stephen McKamey</a></b>
	
		<small><small>
			(August 3, 2008 
			at <a href="#comment-319172" title="Permanent link to this comment">7:38 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Thanks John. I enjoy reading about your seemingly endless supply of projects.</p>
<p>This post inspired me to finally write up a demo of some templating ideas I&#8217;ve been working on.  It is on a similar vein but with a twist: I pre-compile the ASP/JSP style template on the server to an intermediate format that I call JsonML+BST. Because it is valid JavaScript it doesn&#8217;t need any special markup islands, just a script tag.</p>
<p>For a description: <a href="http://jsonml.org/BST/" rel="nofollow">http://jsonml.org/BST/</a><br />
For an example: <a href="http://jsonml.org/BST/Example/" rel="nofollow">http://jsonml.org/BST/Example/</a></p>
<p>Thanks,<br />
smm</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319176">
		
		<h3 class="commenttitle"><b><a href='http://beebole.com' rel='external nofollow' class='url'>Yves Hiernaux</a></b>
	
		<small><small>
			(August 5, 2008 
			at <a href="#comment-319176" title="Permanent link to this comment">1:58 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Hi John,</p>
<p>It seems templating utility tools are quite fashion those days.<br />
I am part of a fresh web start up and during the development phase of our solution we wanted to find an easy way to render JSON on the client.</p>
<p>We have taken a different approach than you.</p>
<p>You can sum up our expectations with this:</p>
<p>1) It should only be based on JavaScript and HTML/CSS<br />
2) It should provide the 4 key templating functionalities: assign values, include templates within templates, iterative and conditional statements<br />
3) It should be totally unobtrusive (no % tags of any kind)<br />
4) It should compile the templates in JS for fast rendering and bandwidth savings</p>
<p>After some researches, we hadn’t found anything as we wanted. So we decided to give it a try ourselves.</p>
<p>We created PURE (PURE Unobtrusive Rendering Engine). </p>
<p>To our main surprise it resulted in a totally new way of building web pages (at least we like to think so).</p>
<p>There are no real templates anymore and no template language either.<br />
You can easily turn any part of the HTML into a template-like utility.</p>
<p>We created an Open Source project with the code and the first version is supporting jQuery. We will package it soon to have a real jQuery plug-in.</p>
<p>We have posted the full story on our blog: <a href="http://beebole.com/blog/2008/07/31/generate-html-from-a-json-without-any-template-but-html-and-javascript/" rel="nofollow">http://beebole.com/blog/2008/07/31/generate-html-from-a-json-without-any-template-but-html-and-javascript/</a></p>
<p>And there is a dedicated website: <a href="http://beebole.com/pure/" rel="nofollow">http://beebole.com/pure/</a><br />
If you have a look, any feedback is more than welcome.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319177">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(August 5, 2008 
			at <a href="#comment-319177" title="Permanent link to this comment">3:29 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Yves Hiernaux, sorry for my straightness, but your solution is very obtrusive in fact, we needn&#8217;t those span&#8217;s or div&#8217;s indeed, they are ruining the pure text or html, to give a try to my &#8220;micro_template v.k885&#8243;:<br />
<code><br />
&lt;script&nbsp;src="jquery-1.2.3.js"&gt;&lt;/script&gt;<br />
&lt;script&gt;<br />
$.fn.drink&nbsp;=&nbsp;function(json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{if&nbsp;(!(arguments.callee.name_class&nbsp;=&nbsp;this.attr('class')))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;name_tpl_fun_cache&nbsp;=&nbsp;'tpl_fun_cache_'+arguments.callee.name_class;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!window[name_tpl_fun_cache])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{var&nbsp;tpl=unescape(this.html())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--|&amp;lt;!|\/\*/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;|!&amp;gt;|\*\//g,&nbsp;"!&gt;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r|\*="/g,&nbsp;'&nbsp;')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\n/g,&nbsp;"\\\n")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('&lt;!').join("\r")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/(?:^|!&gt;)(?:[^\r]*?')*/g,&nbsp;function(){return&nbsp;arguments[0].replace(/'/g,&nbsp;"\\'");})<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r=(.*?)!&gt;/g,&nbsp;"',$1,'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\r").join("');")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('!&gt;').join("p.push('");<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window[name_tpl_fun_cache]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=new&nbsp;Function('json',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"var&nbsp;p=[];with&nbsp;(json){p.push('"+tpl+"');}return&nbsp;p.join('');"<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.html(window[name_tpl_fun_cache](json));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
&lt;/script&gt;</p>
<p>&lt;div&nbsp;id="test1"&nbsp;class="users"&gt;&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(var&nbsp;i=0;i&lt;users.length;++i){!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;onMouseOver="/*=users[i].color?'this.style.color=\''+users[i].color+'\';':''*/"&nbsp;id="user_&lt;!=i!&gt;"&nbsp;class='user'&gt;Name:&lt;a&nbsp;href="&lt;!=users[i].name!&gt;"&gt;&lt;!=users[i].name!&gt;&lt;/a&gt;&lt;/div&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}!&gt;<br />
&lt;/div&gt;</p>
<p>&lt;pre&gt;somthing<br />
else&nbsp;...&lt;/pre&gt;</p>
<p>&lt;div&nbsp;id="test2"&nbsp;class="users"&gt;<br />
&lt;/div&gt;&lt;br&gt;&lt;br&gt;</p>
<p>&lt;div&nbsp;id="test3"&nbsp;class="names"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(var&nbsp;i=0;i&lt;json.length;++i){!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!=json[i].name!&gt;&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}!&gt;<br />
&lt;/div&gt;&lt;br&gt;&lt;br&gt;</p>
<p>&lt;div&nbsp;id="test4"&nbsp;class="checks"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_done"&nbsp;*="&lt;!=is_done?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_gone"&nbsp;*="&lt;!=is_gone?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_post"&nbsp;*="&lt;!=is_post?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&lt;/div&gt;</p>
<p>&lt;script&gt;<br />
$('.user').drink();</p>
<p>var&nbsp;data1={users:[{name:'name1.1'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name1.2',&nbsp;color:'yellow'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test1').drink(data1);<br />
var&nbsp;data2={users:[{name:'name2.1',&nbsp;color:'red'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name2.2',&nbsp;color:'yellow'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test2').drink(data2);</p>
<p>data1.users[1].name='name1.2.changed';<br />
$('#test1&nbsp;#user_1').drink($.extend(data1,&nbsp;{i:1}));</p>
<p>var&nbsp;data3=[{name:'name3.1'},&nbsp;{name:'name3.2'}];<br />
$('#test3').drink(data3);</p>
<p>$('#test4').drink({is_done:0,&nbsp;is_gone:1,&nbsp;is_post:1});<br />
&lt;/script&gt;<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319178">
		
		<h3 class="commenttitle"><b><a href='http://beebole.com/blog' rel='external nofollow' class='url'>Mic</a></b>
	
		<small><small>
			(August 5, 2008 
			at <a href="#comment-319178" title="Permanent link to this comment">5:24 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Hi diyism.<br />
I&#8217;m a member and main contributor of the PURE project, and I&#8217;ll be straight too ;)</p>
<p>In fact any HTML tag or attribute can be used as a placeholder for data.<br />
The span and div&#8217;s you are referring to are for design purpose only of the example 1.<br />
Take a look at the others.</p>
<p>I took one of your example above:</p>
<p>     &#8221; class=&#8217;user&#8217;&gt;Name:<a>&#8220;&gt;</a></p>
<p>With PURE the logic(JS) and the view (HTML) are totally separated<br />
Your HTML would look like this:</p>
<p>     Name:<a href="#" rel="nofollow">User name</a></p>
<p>And your logic would sit somewhere in a JS file.<br />
Which one do you think is less &#8220;obtrusive&#8221;?</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319179">
		
		<h3 class="commenttitle"><b><a href='http://beebole.com/blog' rel='external nofollow' class='url'>Mic</a></b>
	
		<small><small>
			(August 5, 2008 
			at <a href="#comment-319179" title="Permanent link to this comment">5:41 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Sorry, I missed de code wrapping in the post above.</p>
<p>An extract from your code:<br />
<code><br />
&lt;div id="test1" class="users"&gt;&lt;br&gt;<br />
     &lt;!for (var i=0;i&lt;users.length;++i){!&gt;<br />
     &lt;div onMouseOver="/*=users[i].color?'this.style.color=\''+users[i].color+'\';':''*/" id="user_&lt;!=i!&gt;" class='user'&gt;Name:&lt;a href="&lt;!=users[i].name!&gt;"&gt;&lt;!=users[i].name!&gt;&lt;/a&gt;&lt;/div&gt;<br />
     &lt;!}!&gt;<br />
&lt;/div&gt;<br />
</code></p>
<p>With PURE the HTML would be like this:<br />
<code><br />
&lt;div id="test1" class="users"&gt;&lt;br&gt;<br />
     &lt;div class='user'&gt;Name:&lt;a href="#"&gt;User name&lt;/a&gt;&lt;/div&gt;<br />
&lt;/div&gt;<br />
</code></p>
<p>While the logic would sit somewhere in an JS file.<br />
So, which one do you think is less &#8220;obtrusive&#8221;?</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319188">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(August 7, 2008 
			at <a href="#comment-319188" title="Permanent link to this comment">2:34 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>micro_template v.k887:<br />
<code><br />
&lt;script&nbsp;src="http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js"&gt;&lt;/script&gt;<br />
&lt;script&gt;<br />
$.fn.drink&nbsp;=&nbsp;function(json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{if&nbsp;(!(arguments.callee.name_class&nbsp;=&nbsp;this.attr('class')))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;name_tpl_fun_cache&nbsp;=&nbsp;'tpl_fun_cache_'+arguments.callee.name_class;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!window[name_tpl_fun_cache])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{var&nbsp;tpl=unescape(this.html())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--|&amp;lt;!|\/\*/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;|!&amp;gt;|\*\//g,&nbsp;"!&gt;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r|\*="/g,&nbsp;'&nbsp;')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('&lt;!').join("\r")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/(?:^|!&gt;)[^\r]*/g,&nbsp;function(){return&nbsp;arguments[0].replace(/'/g,&nbsp;"\\$&amp;").replace(/\n/g,&nbsp;"\\n");})<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r=(.*?)!&gt;/g,&nbsp;"',$1,'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\r").join("');")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('!&gt;').join("p.push('");<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window[name_tpl_fun_cache]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=new&nbsp;Function('json',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"var&nbsp;p=[];with&nbsp;(json){p.push('"+tpl+"');}return&nbsp;p.join('');"<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.html(window[name_tpl_fun_cache](json));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.show();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
&lt;/script&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;you&nbsp;must&nbsp;use&nbsp;"/*&nbsp;...&nbsp;*/"&nbsp;in&nbsp;onclick&nbsp;property&nbsp;etc.&nbsp;to&nbsp;avoid&nbsp;errors&nbsp;poped&nbsp;in&nbsp;ie.&lt;/span&gt;<br />
&lt;div&nbsp;id="test1"&nbsp;class="users"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(var&nbsp;i=0;i&lt;users.length;++i)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{!&gt;<br />
&lt;div&nbsp;onMouseOver="/*=users[i].color?'this.style.color=\''+users[i].color+'\';':''*/"&nbsp;id="user_&lt;!=i!&gt;"&nbsp;class='user'&gt;Name:&lt;a&nbsp;href="&lt;!=users[i].name!&gt;"&gt;&lt;!=users[i].name!&gt;&lt;/a&gt;&lt;/div&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&gt;<br />
&lt;pre&gt;'somthing'<br />
else&nbsp;...&lt;/pre&gt;<br />
&lt;/div&gt;</p>
<p>&lt;div&nbsp;id="test2"&nbsp;class="users"&gt;<br />
&lt;/div&gt;&lt;br&gt;&lt;br&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;currently&nbsp;you&nbsp;must&nbsp;use&nbsp;comparison&nbsp;operator&nbsp;"&lt;"&nbsp;or&nbsp;"%3e",&nbsp;not&nbsp;"&gt;"!&lt;/span&gt;<br />
&lt;div&nbsp;id="test3"&nbsp;class="names"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(var&nbsp;i=0;i&lt;json.length;++i){!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!if&nbsp;(0&lt;i){!&gt;&lt;!='&lt;hr%3e'!&gt;&lt;!}!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!=json[i].name!&gt;&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}!&gt;<br />
&lt;/div&gt;&lt;br&gt;&lt;br&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;you&nbsp;must&nbsp;use&nbsp;'*="'&nbsp;at&nbsp;both&nbsp;begin&nbsp;and&nbsp;end&nbsp;in&nbsp;tag&nbsp;property&nbsp;location!&lt;/span&gt;<br />
&lt;div&nbsp;id="test4"&nbsp;class="checks"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_done"&nbsp;*="&lt;!=is_done?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_gone"&nbsp;*="&lt;!=is_gone?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_post"&nbsp;*="&lt;!=is_post?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&lt;/div&gt;</p>
<p>&lt;script&gt;<br />
$('.user').drink();</p>
<p>var&nbsp;data1={users:[{name:'name1.1'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name1.2',&nbsp;color:'yellow'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test1').drink(data1);<br />
var&nbsp;data2={users:[{name:'name2.1',&nbsp;color:'red'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name2.2',&nbsp;color:'yellow'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test2').drink(data2);</p>
<p>data1.users[1].name='name1.2.changed';<br />
$('#test1&nbsp;#user_1').drink($.extend(data1,&nbsp;{i:1}));</p>
<p>var&nbsp;data3=[{name:'name3.1'},&nbsp;{name:'name3.2'}];<br />
$('#test3').drink(data3);</p>
<p>$('#test4').drink({is_done:0,&nbsp;is_gone:1,&nbsp;is_post:1});<br />
&lt;/script&gt;<br />
</code></p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319195">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(August 7, 2008 
			at <a href="#comment-319195" title="Permanent link to this comment">9:06 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>micro_template v.k888:<br />
<code><br />
&lt;script&nbsp;src="http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js"&gt;&lt;/script&gt;<br />
&lt;script&gt;<br />
$.fn.drink&nbsp;=&nbsp;function(json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{if&nbsp;(!(arguments.callee.name_class&nbsp;=&nbsp;this[0].className))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{this.each(function(){json[this.id]&nbsp;&amp;&amp;&nbsp;(this.innerHTML=json[this.id]);});<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;name_tpl_fun_cache&nbsp;=&nbsp;'tpl_fun_cache_'+arguments.callee.name_class;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!window[name_tpl_fun_cache])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{var&nbsp;tpl=unescape(this.html())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--|&amp;lt;!|\/\*/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;|!&amp;gt;|\*\//g,&nbsp;"!&gt;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r|\*="/g,&nbsp;'&nbsp;')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('&lt;!').join("\r")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/(?:^|!&gt;)[^\r]*/g,&nbsp;function(){return&nbsp;arguments[0].replace(/'/g,&nbsp;"\\$&amp;").replace(/\n/g,&nbsp;"\\n");})<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r=(.*?)!&gt;/g,&nbsp;"',$1,'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\r").join("');")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('!&gt;').join("p.push('");<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window[name_tpl_fun_cache]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=new&nbsp;Function('json',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"var&nbsp;p=[];with&nbsp;(json){p.push('"+tpl+"');}return&nbsp;p.join('');"<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.html(window[name_tpl_fun_cache](json));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.show();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
&lt;/script&gt;</p>
<p>Welcolm,&nbsp;&lt;span&nbsp;id="username"&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;you&nbsp;must&nbsp;use&nbsp;"/*&nbsp;...&nbsp;*/"&nbsp;in&nbsp;onclick&nbsp;property&nbsp;etc.&nbsp;to&nbsp;avoid&nbsp;errors&nbsp;poped&nbsp;in&nbsp;ie.&lt;/span&gt;<br />
&lt;div&nbsp;id="test1"&nbsp;class="users"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(var&nbsp;i=0;i&lt;users.length;++i)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{!&gt;<br />
&lt;div&nbsp;onMouseOver="/*=users[i].color?'this.style.color=\''+users[i].color+'\';':''*/"&nbsp;id="user_&lt;!=i!&gt;"&nbsp;class='user'&gt;Name:&lt;a&nbsp;href="&lt;!=users[i].name!&gt;"&gt;&lt;!=users[i].name!&gt;&lt;/a&gt;&lt;/div&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&gt;<br />
&lt;pre&gt;'somthing'<br />
else&nbsp;...&lt;/pre&gt;<br />
&lt;/div&gt;</p>
<p>You&nbsp;have&nbsp;received&nbsp;a&nbsp;message:&nbsp;&lt;span&nbsp;id="message"&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;</p>
<p>&lt;div&nbsp;id="test2"&nbsp;class="users"&gt;<br />
&lt;/div&gt;&lt;br&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;currently&nbsp;you&nbsp;must&nbsp;use&nbsp;comparison&nbsp;operator&nbsp;"&lt;"&nbsp;or&nbsp;"%3e",&nbsp;not&nbsp;"&gt;"!&lt;/span&gt;<br />
&lt;div&nbsp;id="test3"&nbsp;class="names"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(var&nbsp;i=0;i&lt;json.length;++i){!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!if&nbsp;(0&lt;i){!&gt;&lt;!='&lt;hr%3e'!&gt;&lt;!}!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!=json[i].name!&gt;&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}!&gt;<br />
&lt;/div&gt;&lt;br&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;you&nbsp;must&nbsp;use&nbsp;'*="'&nbsp;at&nbsp;both&nbsp;begin&nbsp;and&nbsp;end&nbsp;in&nbsp;tag&nbsp;property&nbsp;location!&lt;/span&gt;<br />
&lt;div&nbsp;id="test4"&nbsp;class="checks"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_done"&nbsp;*="&lt;!=json[0]?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_gone"&nbsp;*="&lt;!=json[1]?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_post"&nbsp;*="&lt;!=json[2]?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&lt;/div&gt;&lt;br&gt;</p>
<p>This&nbsp;page&nbsp;has&nbsp;been&nbsp;viewed&nbsp;&lt;span&nbsp;id="visit_times"&gt;&lt;/span&gt;&amp;nbsp;times.</p>
<p>&lt;script&gt;<br />
$('.user').drink();</p>
<p>var&nbsp;data1={users:[{name:'name1.1'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name1.2',&nbsp;color:'yellow'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test1').drink(data1);</p>
<p>var&nbsp;data2={users:[{name:'name2.1',&nbsp;color:'red'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name2.2',&nbsp;color:'yellow'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test2').drink(data2);</p>
<p>data1.users[1].name='name1.2.changed';<br />
$('#test1&nbsp;#user_1').drink($.extend(data1,&nbsp;{i:1}));</p>
<p>var&nbsp;data3=[{name:'name3.1'},&nbsp;{name:'name3.2'}];<br />
$('#test3').drink(data3);</p>
<p>var&nbsp;data4=[1,&nbsp;0,&nbsp;1];<br />
$('#test4').drink(data4);</p>
<p>var&nbsp;data_odds={username:'diyism',&nbsp;message:'Peter&nbsp;nudged&nbsp;you.',&nbsp;visit_times:54321};<br />
$('#username,#message,#visit_times').drink(data_odds);<br />
&lt;/script&gt;<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319214">
		
		<h3 class="commenttitle"><b><a href='http://jethrolarson.blogspot.com' rel='external nofollow' class='url'>Jethro Larson</a></b>
	
		<small><small>
			(August 11, 2008 
			at <a href="#comment-319214" title="Permanent link to this comment">12:35 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I wrote some little erb-like helpers. They&#8217;re practically self explanitory, but if you hadn&#8217;t considered it here&#8217;s a sample:</p>
<p><code><br />
function link_to(){<br />
  return "&lt;a href='"+arguments[0]+"'&gt;"+arguments[1]+"&lt;/a&gt;";<br />
}<br />
// Usage: &lt;%=link_to(url,text) %&gt;<br />
</code></p>
<p>I&#8217;ll probably expand it to take more parameters but it&#8217;s just a simple addition to keep my template a little cleaner. </p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319288">
		
		<h3 class="commenttitle"><b>tatut</b>
	
		<small><small>
			(August 14, 2008 
			at <a href="#comment-319288" title="Permanent link to this comment">7:05 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Works perfectly in the Rhino version shipped with JDK 6.</p>
<p>So this can be used on the server side with the javax.script API.<br />
Thanks John, you truly are a JavaScript Ninja :).</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319289">
		
		<h3 class="commenttitle"><b>DanH</b>
	
		<small><small>
			(August 14, 2008 
			at <a href="#comment-319289" title="Permanent link to this comment">7:20 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>John,<br />
Late response so not sure if you&#8217;ll get it.</p>
<p>I like the use of with, but it&#8217;s worth noting the dangers of the global polution: </p>
<p><code><br />
window.name = 'Ronald';<br />
console.log(tmpl("Hello, &lt;%= name %&gt;!")({nsme:'Dan'}));<br />
</code></p>
<p>Which could lead to confusion for some.</p>
<p>Real nice code though :)</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319297">
		
		<h3 class="commenttitle"><b><a href='http://www.skupinasv.com' rel='external nofollow' class='url'>Jan Kumer</a></b>
	
		<small><small>
			(August 14, 2008 
			at <a href="#comment-319297" title="Permanent link to this comment">3:16 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Hi,<br />
just my recent observation: in case we&#8217;re using &#8220;Content-Type:application/xhtml+xml;&#8221; header, we should probably use XML data island like that:</p>
<p><code></p>
<p><a>"&gt;</a></p>
<p>]]&gt;<br />
</code></p>
<p>And also tmlp() should be tweaked here:</p>
<p><code><br />
document.getElementById(str).innerHTML<br />
 to:<br />
document.getElementById(str).textContent<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319298">
		
		<h3 class="commenttitle"><b><a href='http://www.skupinasv.com' rel='external nofollow' class='url'>Jan Kumer</a></b>
	
		<small><small>
			(August 14, 2008 
			at <a href="#comment-319298" title="Permanent link to this comment">3:25 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Hi,<br />
just my recent observation: in case we&#8217;re using &#8220;Content-Type:application/xhtml+xml;&#8221; header, we should probably use XML data island like that:</p>
<p><code><br />
&lt;xml id="user_tmpl"&gt;&lt;![CDATA[&lt;%<br />
for ( var i = 0; i &lt; users.length; i++ ) {<br />
%&gt;&lt;li&gt;&lt;a href="&lt;%=users[i].url%&gt;"&gt;&lt;%=users[i].name%&gt;&lt;/a&gt;&lt;/li&gt;&lt;%<br />
}<br />
%&gt;]]&gt;&lt;/xml&gt;<br />
</code></p>
<p>And also tmlp() should be tweaked here:<br />
<code><br />
document.getElementById(str).innerHTML<br />
to:<br />
document.getElementById(str).textContent<br />
</code></p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319304">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(August 14, 2008 
			at <a href="#comment-319304" title="Permanent link to this comment">9:12 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>micro_template v.k88f:<br />
<code><br />
&lt;script&nbsp;src="http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js"&gt;&lt;/script&gt;<br />
&lt;script&gt;<br />
$.fn.drink&nbsp;=&nbsp;function(json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{if&nbsp;(!(arguments.callee.name_class&nbsp;=&nbsp;this[0].className))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{this.each(function(){json[this.id]&nbsp;&amp;&amp;&nbsp;(this.innerHTML=json[this.id]);});<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;name_tpl_fun_cache&nbsp;=&nbsp;'tpl_fun_cache_'+arguments.callee.name_class;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!window[name_tpl_fun_cache])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{var&nbsp;tpl=unescape(this.html())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--|&amp;lt;!|\/\*/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;|!&amp;gt;|\*\//g,&nbsp;"!&gt;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r|\*="/g,&nbsp;'&nbsp;')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('&lt;!').join("\r")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/(?:^|!&gt;)[^\r]*/g,&nbsp;function(){return&nbsp;arguments[0].replace(/'/g,&nbsp;"\\$&amp;").replace(/\n/g,&nbsp;"\\n");})<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r=(.*?)!&gt;/g,&nbsp;"',$1,'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\r").join("');")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('!&gt;').join("write.push('");<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window[name_tpl_fun_cache]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=new&nbsp;Function('json',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"var&nbsp;write=[];with&nbsp;(json){write.push('"+tpl+"');}return&nbsp;write.join('');"<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!json)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.html(window[name_tpl_fun_cache](json));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.show();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
&lt;/script&gt;</p>
<p>Welcolm,&nbsp;&lt;span&nbsp;id="username"&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;you&nbsp;must&nbsp;use&nbsp;"/*&nbsp;...&nbsp;*/"&nbsp;in&nbsp;onclick&nbsp;property&nbsp;etc.&nbsp;to&nbsp;avoid&nbsp;errors&nbsp;poped&nbsp;in&nbsp;ie.&lt;/span&gt;<br />
&lt;div&nbsp;id="test1"&nbsp;class="users"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(var&nbsp;i=0;i&lt;users.length;++i)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{!&gt;<br />
&lt;div&nbsp;onMouseOver="/*=users[i].color?'this.style.color=\''+users[i].color+'\';':''*/"&nbsp;id="user_&lt;!=i!&gt;"&nbsp;class='user'&gt;Name:&lt;a&nbsp;href="&lt;!=users[i].name!&gt;"&gt;&lt;!=users[i].name!&gt;&lt;/a&gt;&lt;/div&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&gt;<br />
&lt;pre&gt;'somthing'<br />
else&nbsp;...&lt;/pre&gt;<br />
&lt;/div&gt;</p>
<p>You&nbsp;have&nbsp;received&nbsp;a&nbsp;message:&nbsp;&lt;span&nbsp;id="message"&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;</p>
<p>&lt;div&nbsp;id="test2"&nbsp;class="users"&gt;<br />
&lt;/div&gt;&lt;br&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;currently&nbsp;you&nbsp;must&nbsp;use&nbsp;comparison&nbsp;operator&nbsp;"&lt;"&nbsp;or&nbsp;"%3e",&nbsp;not&nbsp;"&gt;"!&lt;/span&gt;<br />
&lt;div&nbsp;id="test3"&nbsp;class="names"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!for&nbsp;(var&nbsp;i=0;i&lt;json.length;++i){!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!if&nbsp;(0&lt;i){write.push('&lt;hr%3e');}!&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!=json[i].name!&gt;&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!}!&gt;<br />
&lt;/div&gt;&lt;br&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;you&nbsp;must&nbsp;use&nbsp;'*="'&nbsp;at&nbsp;both&nbsp;begin&nbsp;and&nbsp;end&nbsp;in&nbsp;tag&nbsp;property&nbsp;location!&lt;/span&gt;<br />
&lt;div&nbsp;id="test4"&nbsp;class="checks"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_done"&nbsp;*="&lt;!=json[0]?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_gone"&nbsp;*="&lt;!=json[1]?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type="checkbox"&nbsp;name="is_post"&nbsp;*="&lt;!=json[2]?'checked':''!&gt;*="&nbsp;value="1"&gt;<br />
&lt;/div&gt;&lt;br&gt;</p>
<p>&lt;span&nbsp;style="display:none;"&gt;Take&nbsp;care,&nbsp;you&nbsp;must&nbsp;use&nbsp;'*="'&nbsp;when&nbsp;setting&nbsp;style&nbsp;property!&lt;/span&gt;<br />
&lt;div&nbsp;id="test5"&nbsp;class="bids"&gt;<br />
&lt;!for&nbsp;(var&nbsp;i=0;i&lt;json.length;++i){!&gt;<br />
Bid&nbsp;price:&lt;span&nbsp;*="&lt;!if&nbsp;(json[i]['bid']%3e=1)&nbsp;{write.push('style=%22color:red;'+(json[i]['bid']%3e=5?'font-weight:bold;':'')+'%22');}!&gt;*="&gt;&lt;!=json[i]['bid']!&gt;&lt;/span&gt;&lt;br&gt;<br />
&lt;!}!&gt;<br />
&lt;/div&gt;&lt;br&gt;</p>
<p>This&nbsp;page&nbsp;has&nbsp;been&nbsp;viewed&nbsp;&lt;span&nbsp;id="visit_times"&gt;&lt;/span&gt;&amp;nbsp;times.</p>
<p>&lt;script&gt;<br />
$('.user').drink();</p>
<p>var&nbsp;data1={users:[{name:'name1.1'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name1.2',&nbsp;color:'yellow'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test1').drink(data1);</p>
<p>var&nbsp;data2={users:[{name:'name2.1',&nbsp;color:'red'},<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{name:'name2.2',&nbsp;color:'yellow'}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
$('#test2').drink(data2);</p>
<p>data1.users[1].name='name1.2.changed';<br />
$('#test1&nbsp;#user_1').drink($.extend(data1,&nbsp;{i:1}));</p>
<p>var&nbsp;data3=[{name:'name3.1'},&nbsp;{name:'name3.2'}];<br />
$('#test3').drink(data3);</p>
<p>var&nbsp;data4=[1,&nbsp;0,&nbsp;1];<br />
$('#test4').drink(data4);</p>
<p>var&nbsp;data5=[{bid:2.3},&nbsp;{bid:5.3},&nbsp;{bid:0.9}];<br />
$('#test5').drink(data5);</p>
<p>var&nbsp;data_odds={username:'diyism',&nbsp;message:'Peter&nbsp;nudged&nbsp;you.',&nbsp;visit_times:54321};<br />
$('#username,#message,#visit_times').drink(data_odds);<br />
&lt;/script&gt;<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319405">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(August 20, 2008 
			at <a href="#comment-319405" title="Permanent link to this comment">9:43 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I&#8217;ve submit micro_template.v.k88f to jquery plugins:<br />
<a href="http://plugins.jquery.com/project/micro_template" rel="nofollow">http://plugins.jquery.com/project/micro_template</a></p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-319757">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(August 25, 2008 
			at <a href="#comment-319757" title="Permanent link to this comment">10:23 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>New release <a href="http://plugins.jquery.com/node/3694" rel="nofollow">http://plugins.jquery.com/node/3694</a></p>
<p>A little bug fixed when single quote exist in plain text</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-319960">
		
		<h3 class="commenttitle"><b><a href='http://jsrepeater.devprog.com' rel='external nofollow' class='url'>Shawn_S</a></b>
	
		<small><small>
			(August 28, 2008 
			at <a href="#comment-319960" title="Permanent link to this comment">7:21 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Templating seems to be quite an issue at the moment. Seems we are all dealing with tons of AJAX data that has to somehow become markup.</p>
<p>I have created a jquery plugin that does the same but without any use of javascript except the actual declaration to fill a template. </p>
<p>You have for each loops here in the markup, I was trying a different approach in that if a template is bound to a single object it is filled once, if bound to an array of objects it is filled for each object.</p>
<p>I also had the need to create the ability to recurse down and object graph with one template and without knowing how deep the graph goes e.g. if you needed your template to display nested replies to a posting it would be impractical to add a subtemplate for each reply level.</p>
<p>In fact the forum on the site uses exactly that.</p>
<p>Perhaps you might like to have a look at it:<br />
<a href="http://jsrepeater.devprog.com/" rel="nofollow">http://jsrepeater.devprog.com/</a></p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-320169">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(September 3, 2008 
			at <a href="#comment-320169" title="Permanent link to this comment">5:19 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Guys, take care, &#8220;jquery micro template&#8221; doesn&#8217;t support safari and opera,<br />
because in that two you must use &#8220;&lt;!&#8211;&#8221; and &#8220;&#8211;$gt;&#8221; instead of &#8220;&lt;!&#8221; and &#8220;!$gt;&#8221;, that&#8217;s too bothering, so just fuck away safari and opera.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-320170">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(September 3, 2008 
			at <a href="#comment-320170" title="Permanent link to this comment">5:19 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Guys, take care, &#8220;jquery micro template&#8221; doesn&#8217;t support safari and opera,<br />
because in that two you must use &#8220;</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-320244">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(September 3, 2008 
			at <a href="#comment-320244" title="Permanent link to this comment">11:06 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Because &#8220;google chrome browser&#8221; use AppleWebKit engine, so &#8220;jquery micro template&#8221; also doesn&#8217;t support it.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-320376">
		
		<h3 class="commenttitle"><b>Kof</b>
	
		<small><small>
			(September 6, 2008 
			at <a href="#comment-320376" title="Permanent link to this comment">12:03 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Does anybody know any way to get the template content, that John put into  tag, without to include this directly into the page or load it via ajax. Its not so sexy to include the javascript plugin first and additionally include the template for this plugin. It is also not so good if the plugin will load his template via ajax by using this plugin in a big ajax powered applications.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-321070">
		
		<h3 class="commenttitle"><b><a href='http://www.west-wind.com/weblog' rel='external nofollow' class='url'>Rick Strahl</a></b>
	
		<small><small>
			(October 9, 2008 
			at <a href="#comment-321070" title="Permanent link to this comment">6:03 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Looks like there&#8217;s a problem with the template engine when the template content contains single quotes. It appears single quotes are Ok, but more than 1 are causing a problem.</p>
<p><code></code></p>
<p>bombs the parser where </p>
<p><code> &amp; Rick's ice cream</code></p>
<p>does not.</p>
<p>I played around with this a bit, but I can&#8217;t figure out how to make this work. My first thought was to escape any single quotes in the input template string, but that&#8217;s causing some side effects with the odd extra quotes showing up in the content.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-321071">
		
		<h3 class="commenttitle"><b><a href='http://www.west-wind.com/weblog' rel='external nofollow' class='url'>Rick Strahl</a></b>
	
		<small><small>
			(October 9, 2008 
			at <a href="#comment-321071" title="Permanent link to this comment">6:07 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Ah crap, you gotta be kidding me &#8211; you&#8217;re not auto escaping this input on a tech blog??? :-}</p>
<p>Anyway, this fails for me:</p>
<p><code>&lt;div id='name'&gt;&lt;%= company %&gt;&lt;/div&gt;</code></p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-321850">
		
		<h3 class="commenttitle"><b>Neil Donewar</b>
	
		<small><small>
			(November 5, 2008 
			at <a href="#comment-321850" title="Permanent link to this comment">10:10 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Rick: I fixed the multiple quotes issue by rewriting the splits and replaces.  Here&#8217;s the code, which is a drop in replacement for the &#8220;Convert the template&#8230;&#8221; section.  Lines 2-4 are the only fundamentally different lines.</p>
<p><code><br />
str.replace(/[\r\t\n]/g, " ")<br />
   .replace(/'(?=[^%]*%&gt;)/g,"\t")<br />
   .split("'").join("\\'")<br />
   .split("\t").join("'")<br />
   .replace(/&lt;%=(.+?)%&gt;/g, "',$1,'")<br />
   .split("&lt;%").join("');")<br />
   .split("%&gt;").join("p.push('")<br />
   + "');}return p.join('');");<br />
</code></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-321975">
		
		<h3 class="commenttitle"><b><a href='http://www.BitsAndBuzz.com' rel='external nofollow' class='url'>Jeremy Chone</a></b>
	
		<small><small>
			(November 10, 2008 
			at <a href="#comment-321975" title="Permanent link to this comment">3:13 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Thanks a lot, this is a great utility. I use it with Neil&#8217;s fix, and it works great. </p>
<p>Would be cool to have micro-templating in jQuery. For example, append(..), html(..), text(..), could take template selector and data. </p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-322765">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(November 24, 2008 
			at <a href="#comment-322765" title="Permanent link to this comment">6:08 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Because of there&#8217;s no lookbehind regexp supporting in js.<br />
We could work around it by callback function like micro_template v.k88f as above, we also could use lookahead instead of it:<br />
<code><br />
var&nbsp;tpl=unescape(this.html())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!--|&lt;!|\/\*/g,&nbsp;"&lt;!")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/--&gt;|!&gt;|\*\//g,&nbsp;"!&gt;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\r|\*="/g,&nbsp;'&nbsp;')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split('!&gt;').join("\r")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/('|\\)(?=[^\r]*?($|&lt;!))/g,&nbsp;"\\$&amp;")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/\n(?=[^\r]*?($|&lt;!))/g,&nbsp;"\\n")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(/&lt;!=(.*?)\r/g,&nbsp;"',$1,'")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("&lt;!").join("');")<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.split("\r").join("write.push('");<br />
</code><br />
but, maybe using callback is more speedy.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-324296">
		
		<h3 class="commenttitle"><b><a href='http://ww.dmdesigns.us/' rel='external nofollow' class='url'>David Murdoch</a></b>
	
		<small><small>
			(December 10, 2008 
			at <a href="#comment-324296" title="Permanent link to this comment">9:07 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>&#8220;&lt;code&gt;&#8221; will give you an error if you have your templates and code inline on an asp.net page. If anyone knows a way around this let me know.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-324297">
		
		<h3 class="commenttitle"><b><a href='http://ww.dmdesigns.us/' rel='external nofollow' class='url'>David Murdoch</a></b>
	
		<small><small>
			(December 10, 2008 
			at <a href="#comment-324297" title="Permanent link to this comment">9:08 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Hopefully this will work this time:</p>
<p>&#8220;<code>&lt;%</code>&#8221; will give you an error if you have your templates and code inline on an asp.net page. If anyone knows a way around this let me know.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-339560">
		
		<h3 class="commenttitle"><b>Steven Eberling</b>
	
		<small><small>
			(January 17, 2009 
			at <a href="#comment-339560" title="Permanent link to this comment">3:17 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>You can get Opera and Safari support by using a delimiter other than . Safari and Opera correctly treat those tokens as identifying  new tags.</p>
<p>Here&#8217;s a drop-in replacement with the quote-fix, too. Tested on FF3 and Opera. This replaces &#8220;&#8221; with &#8220;%}&#8221;.<br />
<code><br />
 str.replace(/[\r\t\n]/g, " ")<br />
   .replace(/'(?=[^%]*%})/g,"\t")<br />
   .split("'").join("\\'")<br />
   .split("\t").join("'")<br />
   .replace(/{%=(.+?)%}/g, "',$1,'")<br />
   .split("{%").join("');")<br />
   .split("%}").join("p.push('")<br />
   + "');}return p.join('');");<br />
</code><br />
Cheers again John! This is great work. Have you considered doing micro-linking as well, where blocks on a page load like miniature webpages, each powered by a template? I&#8217;d be interested in your thoughts on a clean implementation.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-339785">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(January 17, 2009 
			at <a href="#comment-339785" title="Permanent link to this comment">10:46 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Steven Eberling,</p>
<p>Have you give a try to this?<br />
<a href="http://plugins.jquery.com/project/micro_template" rel="nofollow">http://plugins.jquery.com/project/micro_template</a></p>
<p>I don&#8217;t meant &#8220;John&#8217;s Micro-Templating&#8221; doesn&#8217;t support Opera and Safari,<br />
i meant &#8220;jQuery micro template&#8221; never support Opera and Safari/Chrome.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-344023">
		
		<h3 class="commenttitle"><b>some</b>
	
		<small><small>
			(January 30, 2009 
			at <a href="#comment-344023" title="Permanent link to this comment">4:38 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Interesting idea, but since the content of script-tags is CDATA, the document will no longer be valid. Even if the content of the script tag is inside a html-comment there are errors for every end tag ( because it is not legal to have &lt;/ inside a CDATA)</p>
<p>I did some profiling and found that if &#8216;with (obj)&#8217; is removed (you have to write &#8216;obj.id&#8217; instead of just &#8216;id&#8217; in the template) and the print-function too, (instead write &#8216;p.push(text)&#8217; if you need the functionality) it will be 200%-400% faster (depending on browser, biggest difference in Chrome)   </p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-346625">
		
		<h3 class="commenttitle"><b><a href='http://www.flensed.com/' rel='external nofollow' class='url'>Kyle Simpson</a></b>
	
		<small><small>
			(February 15, 2009 
			at <a href="#comment-346625" title="Permanent link to this comment">1:59 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Wondering if this idea would prove useful if combined with JSONML?</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-349186">
		
		<h3 class="commenttitle"><b><a href='http://mo.notono.us' rel='external nofollow' class='url'>Oskar Austegard</a></b>
	
		<small><small>
			(February 24, 2009 
			at <a href="#comment-349186" title="Permanent link to this comment">5:51 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>&lt;offtopic&gt;<br />
Uhm &#8211; David forgot to close his &lt;code&gt; tag and now everything is in fixed width font.</p>
<p>Let&#8217;s see Did this fix it?<br />
&lt;/offtopic&gt;</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-349187">
		
		<h3 class="commenttitle"><b><a href='http://mo.notono.us' rel='external nofollow' class='url'>Oskar Austegard</a></b>
	
		<small><small>
			(February 24, 2009 
			at <a href="#comment-349187" title="Permanent link to this comment">5:51 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Yes it did&#8230; ;-)</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-351597">
		
		<h3 class="commenttitle"><b>Jonathan Quimbly</b>
	
		<small><small>
			(March 6, 2009 
			at <a href="#comment-351597" title="Permanent link to this comment">2:13 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Sorry to say, but this is really and truly awful Javascript code.  I have a feeling John&#8217;s flexing his muscles, showing off his hard-earned JS skills.  Macho code, but difficult to work with.</p>
<p>First off, it fails silently when you have a JS syntax error in a template scriptlet or expression.</p>
<p>Second, the resulting template doesn&#8217;t consistently debug in Firebug, because it&#8217;s an anonymous function with no source file.</p>
<p>Third, there&#8217;s no handling for run-time errors caused by invalid data references.</p>
<p>It certainly is a clever-looking piece of code.  But that scores no points when it comes to paying work.  I invested an hour trying to convert a bunch of inline JS concatenation templates over to Resig&#8217;s JSP style, with it failing over and over without emitting any error.  That&#8217;s a giant step backward for computer science.</p>
<p>In the end, I figured out what John was doing, and wrote my own version, which is itself debuggable, and also incorporates try/catches into the compiled template, so there&#8217;s some chance of catching runtime errors.</p>
<p>I&#8217;ll be back when my rendition is polished.  Sorry John!  Way too terse.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-351932">
		
		<h3 class="commenttitle"><b>CurlyFro</b>
	
		<small><small>
			(March 6, 2009 
			at <a href="#comment-351932" title="Permanent link to this comment">9:24 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Jonathan Quimbly,<br />
i can&#8217;t wait for you to share&#8230;</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-352573">
		
		<h3 class="commenttitle"><b>leonwoo</b>
	
		<small><small>
			(March 8, 2009 
			at <a href="#comment-352573" title="Permanent link to this comment">10:28 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>I am curious.<br />
Does this micro template cause any memory leak?</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-352673">
		
		<h3 class="commenttitle"><b><a href='http://starterkit.jsonfx.net/#1' rel='external nofollow' class='url'>Stephen McKamey</a></b>
	
		<small><small>
			(March 8, 2009 
			at <a href="#comment-352673" title="Permanent link to this comment">3:57 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Kyle Simpson &#8211; try JBST:</p>
<p>    <a href="http://jsonml.org/bst/example/" rel="nofollow">http://jsonml.org/bst/example/</a><br />
    <a href="http://starterkit.jsonfx.net/#jbst" rel="nofollow">http://starterkit.jsonfx.net/#jbst</a></p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-353461">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(March 10, 2009 
			at <a href="#comment-353461" title="Permanent link to this comment">9:41 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Stephen McKamey</p>
<p>Why not give a try to &#8220;micro_template.v88f&#8221; in the upper comments.</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-353463">
		
		<h3 class="commenttitle"><b><a href='http://diyism.com' rel='external nofollow' class='url'>diyism</a></b>
	
		<small><small>
			(March 10, 2009 
			at <a href="#comment-353463" title="Permanent link to this comment">9:42 pm</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>@Stephen McKamey</p>
<p>Why not give a try to &#8220;micro_template v.k88f&#8221; in the upper comments.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-370907">
		
		<h3 class="commenttitle"><b><a href='http://www.evanbot.com' rel='external nofollow' class='url'>Evan Byrne</a></b>
	
		<small><small>
			(April 18, 2009 
			at <a href="#comment-370907" title="Permanent link to this comment">8:42 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Again &#8211; and it seems like I&#8217;ve said it too many times &#8211; but templating should be done server-side, for accessibility reasons alone!</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-378076">
		
		<h3 class="commenttitle"><b>Vito Botta</b>
	
		<small><small>
			(May 4, 2009 
			at <a href="#comment-378076" title="Permanent link to this comment">8:49 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Hi John,<br />
I am trying to use this excellent trick, but in a XSS context (need to display a survey on third party domains).<br />
I am using JSONP to read the template&#8217;s HTML first, and then the data (with a second JSONP request), but I can&#8217;t find a way to successfully inject the SCRIPT element dynamically when the template&#8217;s HTML has been loaded.<br />
For some reasons, the SCRIPT element is not appended as expected (I can&#8217;t see it with Firebug) and I get a number of cryptic errors.<br />
If I use a DIV instead of a SCRIPT element, the HTML is loaded correctly but your tmpl function doesn&#8217;t properly interpret its content.<br />
For example I can see the template&#8217;s HTML on the page, but I can also see the  etc. and the for&#8230; loop is ignored (code is displayed only once).<br />
Any ideas?<br />
Many thanks in advance,<br />
Vito</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-378518">
		
		<h3 class="commenttitle"><b>Vito Botta</b>
	
		<small><small>
			(May 5, 2009 
			at <a href="#comment-378518" title="Permanent link to this comment">8:58 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Still struggling with this&#8230; The templating works fine as long as the script block with type=&#8217;text/html&#8217; containing the template, is already present in the original html of the page.<br />
It does not work if  instead I try to inject that script block dynamically (as said I need to display surveys in third party websites, so I cannot have that script block already in the main page).<br />
If I append the script block, with jQuery or with pure JavaScript, I can see its content etc, but the tmpl function fails and I can&#8217;t find why (that code is not exactly the most straightforward to understand for me :D).<br />
Any ideas?<br />
Thanks in advance</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-378529">
		
		<h3 class="commenttitle"><b>Vito Botta</b>
	
		<small><small>
			(May 5, 2009 
			at <a href="#comment-378529" title="Permanent link to this comment">9:43 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Third comment in a row &#8211; sorry :)</p>
<p>Just found that I had made some changes to the page generating the JSON data, and hadn&#8217;t updated the template accordingly..<br />
That was the issue. So all is working now, a huge thanks John for this cool stuff!</p>
<p>The only thing that I still want to investigate a bit further is that I could get it working by injecting the script tag with:</p>
<p>document.body.innerHTML += &#8220;&#8221; + templateHTML + &#8220;&#8221;;</p>
<p>However else I have tried using jQuery syntax, it would not work.<br />
However I need to try again, perhaps this was not working properly for the same reason as above.<br />
Again, many thanks.</p>
</div>
		
		</li>

		
	
		<li class=" " id="comment-381806">
		
		<h3 class="commenttitle"><b>Saurabh</b>
	
		<small><small>
			(May 15, 2009 
			at <a href="#comment-381806" title="Permanent link to this comment">1:11 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Hi John,</p>
<p>I am trying to use this template in Sharepoint Page. but doesn&#8217;t work for me<br />
it didn&#8217;t accept </p>
<p>and it shows me an error of &#8220;System.Runtime.InteropServices.COMException&#8221;</p>
<p>any ideas??</p>
<p>Kind regards,<br />
Saurabh</p>
</div>
		
		</li>

		
	
		<li class="alt " id="comment-383553">
		
		<h3 class="commenttitle"><b>Ravi</b>
	
		<small><small>
			(May 19, 2009 
			at <a href="#comment-383553" title="Permanent link to this comment">5:22 am</a>)
					</small></small>
		</h3>
		
		<div class="comment-text"><p>Hi John,</p>
<p>Why do we need print=function(){p.push.apply(p,arguments);};</p>
</div>
		
		</li>

		
	
	</ol>
	
	<!--<p class="small">
	<a href='http://ejohn.org/blog/javascript-micro-templating/feed/'><abbr title="Really Simple Syndication">RSS</abbr> feed for comments on this post</a>		</p>-->



<br/><hr/>
<p><b>Comments are closed.</b><br/>
Comments are automatically turned off two weeks after the original post. If you have a question
concerning the content of this post, please feel free to <a href="http://ejohn.org/about/">contact me</a>.</p>
<hr/>


		<script src="http://feeds.feedburner.com/~s/JohnResig?i=http://ejohn.org/blog/javascript-micro-templating/" type="text/javascript" charset="utf-8"></script>
		<!--<img src="http://ejohn.org/apps/rss/?from=single&amp;id=5625" style="width:0px;height:0px;"/>-->

		
				
	
        </div></div>

        <div id="side">
                <div id="projects">
                        <h2>JavaScript Books</h2>

                        <div class="box">
                        <a href="http://jsninja.com/"><img src="/files/ninja.74.jpg" class="icon" alt="Secrets of the JavaScript Ninja"/></a>
                        <div class="desc">
                                <h3><a href="http://jsninja.com/">JavaScript Secrets</a></h3>
                                <p>Secret techniques of top JavaScript programmers.</p>
                        </div>
                        </div>
                        <div class="box">
                        <a href="http://jspro.org/"><img src="/images/ejohn-side-book.gif" class="icon" alt="Pro JavaScript Techniques"/></a>
                        <div class="desc">
                                <h3><a href="http://jspro.org/">Pro JavaScript</a></h3>
                                <p>The best techniques for professional  JavaScript. Published by Apress.</p>
                        </div>
                        </div>

                        <h2><a href="http://twitter.com/jeresig">Micro Updates</a></h2>
                        <div class="box">
                        <a href="http://twitter.com/jeresig"><img src="/images/twitter-74.png" class="icon" alt="John Resig Twitter Updates"/></a>
                        <div class="desc">
                                <h3><a href="http://twitter.com/jeresig">@jeresig</a></h3>
                                <p>Infrequent, short, updates and links.</p>
                        </div>
                        </div>

                        <h2><a href="http://jobs.jsninja.com/">JavaScript Jobs</a></h2>
                        <div class="box">
			<h3><a href="http://jobs.jsninja.com/">Ninja Jobs: JavaScript Jobs</a></h3>
			<!--<h3><a href="http://www.mozilla.com/en-US/careers/">Mozilla: Browser Jobs</a></h3>-->
                        </div>

			<br/><br/>

			<div id="bsap_1266114" class="bsarocks bsap_4781b916559ccb5e5661d93b10000fad"></div>
			<a href="http://adpacks.com" id="bsap_aplink">via Ad Packs</a>

			<br/>
                        <div class="box">
			  <br/><strong><a href="http://mediatemple.net/" style="color:#FFF;">VPS Hosting Provided by Media Temple</a></strong>
			</div>

			<br/>
			<small><a href="http://ukiyo-e.org/">Ukiyo-e: Japanese Woodblock Prints</a></small>
                </div>
        </div>

</div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
<script type="text/javascript">_uacct = "UA-50335-1";urchinTracker();</script>
</body>
</html>

<!-- Dynamic page generated in 0.299 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-12-08 22:21:02 -->
<!-- super cache -->
------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://ejohn.org/images/ejohn-body-back.gif
Content-Transfer-Encoding: Base64

R0lGODlh0QIHAIQZADpMYURack1mgVVwjlt4mWB/oWSEqN7e3uDg4OPj4+bm5ujo
6Orq6uzs7O7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39////wAAAAAAAAAA
AAAAAAAAAAAAAAAAACH5BAEAAB8ALAAAAADRAgcAAAX+INOMzgNF0kRRlWVdWCzP
dG3feK7vfO//wKBwSCwaj8ikcslsOp/QqFR6cVVWE0kE8nCMGgzGYqFQJBKI9AEQ
EAwIBcNnTheRTCgVywWb+v+AgYKDhIWGh4iJiotCVRZXFFlbXV9hY2VnaQhrbW9x
dHVfJScpKy0vjKmqq6ytrq+wsbKKjpCSXF4jlmRmaGpsbnByoB92DaN5pnyzzM3O
z9DR0tPUtVhauJVivJm/ncLExaJ4pXuo1Ojp6uvs7e7R1pHYlLrbmL6bwJ7DoMbI
5af6vBtIsKDBgwgTyoh3ix4Ye700cQr2iZg/cnoCKtzIsaPHjyCpWLk2KdfDSxEG
vVHkRycEADs=

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline
Content-Type: image/png
Content-Location: http://ejohn.org/images/ejohn-head-back.png
Content-Transfer-Encoding: Base64

iVBORw0KGgoAAAANSUhEUgAAAA0AAACmCAMAAAA27vVjAAAABGdBTUEAANbY1E9Y
MgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAABgUExURQ8p
Rw4oRRQxUg0lQBw8YAcbMhUzVBk5XQohOhw9YgsiPBEtTBg4Wxg3WhAsShMwUR4+
Yw8qSBc1WBIuTQwjPgofOAgdNBs7Xxc2WRY1VxMvTwkeNg0mQh4/ZBo6Xh0+YzOy
yHcAAAB3SURBVHjavMdJFoIwFEXBgAIiKKD0Nux/l0zvYUTe+UnNymXkwm8ko33I
aAPJu1GQ3cljPRntQh77ktESkndeR/KeJK8ieW86bCV5DXksJXk5BdlCRnuRm0ne
gzxWk7yC5P3JaBMZ7UpBVlKEbRRhLbkf2WwXYACAz4UaCeI9ZAAAAABJRU5ErkJg
gg==

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://ejohn.org/images/ejohn-side-drop.gif
Content-Transfer-Encoding: Base64

R0lGODlhGwANALMIAFt4mWSEqDpMYURack1mgVVwjmeHrGB/oWiJrgAAAAAAAAAA
AAAAAAAAAAAAAAAAACH5BAEAAAgALAAAAAAbAA0AAAQ5UMhJq7Uj6817J2AojiRZ
nGiqrivgvnAsy0dt33ieB3zv/0CgYUgsGo9HhHLJbDqf0Kh0Sq1ar9cIADs=

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline; filename=style.css
Content-Type: text/css; name=style.css
Content-Location: http://ejohn.org/css/style.css
Content-Transfer-Encoding: 8bit

html, body {
  font-family: Arial, Sans-Serif;
  font-size: 18px;
  color: #FFF;
  background: url(/images/ejohn-body-back.gif) repeat-y #6889AE;
  margin: 0px;
  padding: 0px;
}

a {
  color: #385C85;
  text-decoration: none;
}

#head {
  width: 100%;
  height: 165px;
  background: #1E3F64 url(/images/ejohn-head-back.png);
  color: #FFF;
  position: relative;
}

#head.other {
  height: 56px;
}

#head a {
  color: #FFF;
  border-bottom: 1px solid #7896B8;
}

#head ul {
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  bottom: 8px;
  left: 20px;
}

#head ul li {
  display: inline;
  padding: 0 5px;
}

#head .post {
  padding-top: 10px;
  margin: 0 0 0 20px;
  width: 555px;
}

#head .post h2 {
  margin: 0 0 5px 0;
  padding: 0px;
  font-size: 32px;
  font-weight: normal;
}

#head .post p {
  margin: 0 0 0 4px;
  padding: 0px;
  color: #DFDFDF;
}

#head .post .more {
  text-align: right;
}

#head .post .more a {
  font-weight: bold;
}

#head .side {
  position: absolute;
  left: 728px;
  top: 22px;
}

#head.other .side {
  top: 2px;
}

#head .side .logo {
  position: absolute;
  top: 30px;
  left: 0px;
  border: 0px;
}

#head.other .side .logo {
  top: 0px;
}

#head .side .text {
  position: absolute;
  /*bottom: 8px;*/
  left: 57px;
  width: 180px;
  height: 48px;
}

#head.other .side .text {
  font-size: 14px;
}

#head .side .text a.name {
  font-size: 24px;
  border-bottom: 0px;
  margin-bottom: 5px;
}

#wrap {
  position: relative;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

.drop {
  position: relative;
  background: url(/images/ejohn-side-drop.gif);
  height: 13px;
  width: 100%;
  margin: 0;
  padding: 0;
}

.drop img {
  position: absolute;
  top: 0px;
  left: 0px;
  margin: 0;
  padding: 0;
}

.main {
  font-size: 18px;
}

#body {
  width: 720px;
  /*background: url(/images/ejohn-body-back.gif);*/
  color: #000;
  padding: 10px 0;
  height: 100%;
}

#body .wrap {
  margin: 0 50px 20px 30px;
  padding: 8px 0 10px 0;
  position: relative;
}

#body {
  font-size: 16px;
}

#body h2 {
  margin: 0;
  padding: 0;
  line-height: 35px;
  font-size: 30px;
  font-weight: normal;
}

#body h2 span {
  font-weight: bold;
}

* html .canvas {
  display: none !important;
}

/*#body .nav .canvas div.cwrap {
  margin-left: -20px;
}*/

#body .date {
  margin: 10px 0 0 10px;
  padding: 0;
  color: #6A6A6A;
  font-weight: normal;
  font-size: 24px;
}

#body .rest {
  float: right;
  width: 245px;
  padding: 0 5px 0 5px;
  /*
  background: #F5F5F5;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;
  border-radius: 5px;
  */
}

ol.projects, ol.posts {
  list-style: none;
  margin: 0;
  padding: 0;
}

ol.projects li {
  width: 45%;
}

ol.projects p {
  margin-top: 5px;
  font-size: 0.8em;
  color: #444;
}

ol.posts li {
  margin: 10px 0;
  font-size: 0.8em;
  color: #444;
}

ol.posts strong {
  font-size: 1.2em;
}

h3 {
  margin: 0;
  padding: 0;
  font-weight: normal;
}

.item {
  position: relative;
  font-size: 18px;
}

.item img {
  position: absolute;
  top: 0px;
  left: 10px;
  display: none;
}

.item .box {
  margin: 20px 0 20px 10px;
  height: 213px;
  width: 560px;
  background: url(/images/ejohn-main-box.png);
  overflow: hidden;
  position: relative;
}

.item .box.odd {
  background: url(/images/ejohn-main-box2.png);
}

.item .box h2 {
  margin: 4px 0 5px 10px;
  padding: 0;
  font-size: 30px;
  font-weight: normal;

}

h2 a {
  color: #000;
}

.item .box .more {
  position: absolute;
  top: 4px;
  right: 10px;
  font-size: 14px;
}

.item .box ol {
  list-style: none;
  margin: 0 10px 0 10px;
  padding: 0px;
  height: 150px;
  overflow: hidden;
}

.item .box li {
  margin: 0 2px 0 0;
  padding: 0;
}

.item .box li.blog {
  margin-bottom: 8px;
  line-height: 18px;
}

.item .box li.blog a {
  font-weight: bold;
}

.item .box li.blog .desc {
  display: inline;
  font-size: 16px;
}

.item .box li.link .desc {
  display: none;
}

#side {
  position: absolute;
  top: 0px;
  left: 728px;
}

#side h2 {
  font-size: 30px;
  font-weight: normal;
  margin: 20px 0 0 0;
  padding: 0;
}

#side h2 span {
  font-weight: bold;
}

#side h2 a {
  color: #FFF;
  border-bottom: 1px solid #7896B8;
}

#body .boxes {
  overflow: auto;
  clear: both;
  padding-top: 10px;
}

#body h2 a {
  color: #000;
  border-bottom: 1px solid #7896B8;
}

#body .box {
  /*min-height: 117px;*/
  width: 192px;
  /*
  background: #F5F5F5;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;
  border-radius: 5px;
  */
  position: relative;
  padding: 8px;
  margin: 5px 5px 5px 0;
  overflow: auto;
  float: left;
}

#body .box.large {
  width: 360px;
  background: white;
  margin: 15px 0 0 0;
}

#body .box img {
  float: left;
  border: 0;
}

#body .box .desc {
  margin: 0;
}

#body .box.large .desc {
  margin: 0 0 0 82px;
}

#body .box h3 {
  font-size: 18px;
  font-weight: normal;
  margin: 0 0 5px 0;
  padding: 0;
}

#body .box h3 a {
  color: #000;
  border-bottom: 1px solid #7896B8;
}

#body .box .desc p {
  line-height: 18px;
  font-size: 14px;
  margin: 0;
  padding: 0;
}

#side .box {
  /*min-height: 117px;*/
  width: 268px;
  background: #446E95;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;
  border-radius: 5px;
  position: relative;
  padding: 8px;
  margin: 15px 0;
  overflow: auto;
}

#side .box.nocolor {
  background: transparent;
}

#side .box ul {
  margin: 0 0 0 20px;
  padding: 0;
}

#side .box ul li a {
  color: #FFF;
  border-bottom: 1px solid #7896B8;
  font-size: 10px;
}

#side .box img {
  /*
  position: absolute;
  top: 8px;
  left: 8px;
  border: 0;
  */
  float: left;
  border: 0;
}

#side .box .desc {
  margin: 0 0 0 82px;
}

#side .box .padding {
  margin: 0 8px;
}

#side .box h3 {
  font-size: 18px;
  font-weight: normal;
  margin: 0 0 5px 0;
  padding: 0;
}

#side .box h3 a {
  color: #FFF;
  border-bottom: 1px solid #7896B8;
}

#side .box .desc p {
  line-height: 18px;
  font-size: 14px;
  margin: 0;
  padding: 0;
}

.more {
  text-align: right;
  font-size: 18px;
}

#side .more a {
  color: #FFF;
  border-bottom: 1px solid #DDD;
}

.incanvas a {
  text-decoration: underline;
}

#TB_overlay {
        position: absolute;
        top: 0;
        left: 0;
        z-index:100;
        width: 100%;
        height: 100%;
        background-color: #000;
        filter:alpha(opacity=60);
        -moz-opacity: 0.6;
        opacity: 0.6;
}

#TB_window {
        top: 0px;
        left: 0px;
        position: fixed;
        _position: absolute;
        background: #fff;
        z-index: 102;
        color:#000000;
        display:none;
        border: 4px solid #525252;
}

/*#TB_window img {
        display:block;
        margin: 15px 0 0 15px;
        border-right: 1px solid #ccc;
        border-bottom: 1px solid #ccc;
        border-top: 1px solid #666;
        border-left: 1px solid #666;
}*/

#TB_caption{
        height:25px;
        padding:10px 30px 10px 25px;
        float:left;
}

#TB_closeWindow{
        height:25px;
        padding:10px 25px 10px 0;
        float:right;
}

#TB_closeAjaxWindow{
        padding:5px 10px 7px 0;
        margin-bottom:1px;
        text-align:right;
        background-color:#e8e8e8;
}

#TB_ajaxContent{
        padding:2px 15px 15px 15px;
        overflow:auto;
}

#TB_load{
        text-align: center;
        position: absolute;
        top: 50%;
        left: 0px;
        width: 100%;
        overflow: visible;
        visibility: visible;
        display: block;
        z-index:101;
}

#TB_loadContent  {
        margin-left: -125px;
        position: absolute;
        top: -50px;
        left: 50%;
        width: 250px;
        height: 100px;
        visibility: visible;
}

.syntax_hilite {
	font-family: Courier New;
	padding: 8px;
	margin: 8px;
	background: #F5F5F5;
	border-top: 1px solid #BBB;
	border-bottom: 1px solid #BBB;
	font-size: 14px;
}

.postentry h3 { font-weight: bold; }
.postentry blockquote { padding-left: 5px; border-left: 3px solid #BBB; }
.syntax_hilite ol { list-style: none; }

#commentlist { list-style:none;margin:0;padding:0; }
#commentlist li { font-size: 13px; margin: 0 0 10px 0; }
#commentlist li.author { background: #FFECC7; }
#commentlist li h3 { background: #F5F5F5; border-bottom: 1px solid #BBB; padding: 4px; }
#commentlist li div.comment-text { padding: 10px; overflow: auto; }
#commentlist li div.comment-text p { margin: 0; padding: 4px 0; }
#commentform { border-top: 1px solid #BBB; border-bottom: 1px solid #BBB; margin-left: 20px; margin-right: 20px; background: #F5F5F5; padding: 5px; margin-top: 50px; }
#commentform h4 { margin: 0; }
code { white-space: pre; }
code br { display: none; }

body .bsap{background:#fff;padding:8px;margin:0;border-radius:5px;width:268px;}
body .one .bsa_it_ad{background:transparent;border:none;font-family:inherit;padding:0 15px 0 10px;margin:0;text-align:right;}
body .one .bsa_it_ad:hover img{-moz-box-shadow:0 0 3px #000;-webkit-box-shadow:0 0 3px #000;box-shadow:0 0 3px #000;}
body .one .bsa_it_ad .bsa_it_i{display:block;padding:0;float:none;margin:0 0 5px;}
body .one .bsa_it_ad .bsa_it_i img{padding:0;border:none;}
body .one .bsa_it_ad .bsa_it_t{padding:6px 0 0 0;}
body .one .bsa_it_p{display:none;}
body #bsap_aplink,body #bsap_aplink:hover{display:block;font-size:10px;margin:12px 15px 0;text-align:right;}

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline; filename=retweet.js
Content-Type: application/javascript; name=retweet.js
Content-Location: http://ejohn.org/files/retweet.js
Content-Transfer-Encoding: Base64

LyoKICogRWFzeSBSZXR3ZWV0IEJ1dHRvbgogKiBodHRwOi8vZWpvaG4ub3JnL2Js
b2cvcmV0d2VldC8KICogICBieSBKb2huIFJlc2lnIChlam9obi5vcmcpCiAqCiAq
IExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZToKICogaHR0cDovL3d3dy5v
cGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAKICovCgooZnVu
Y3Rpb24oKXsKCndpbmRvdy5SZXR3ZWV0SlMgPSB7CgkvLyBZb3VyIEJpdC5seSBV
c2VybmFtZQoJYml0bHlfdXNlcjogInJldHdlZXRqcyIsCgoJLy8gWW91ciBCaXQu
bHkgQVBJIEtleQoJLy8gRm91bmQgaGVyZTogaHR0cDovL2JpdC5seS9hY2NvdW50
CgliaXRseV9rZXk6ICJSXzYyODdjOTJlY2FmOWVmYzZmMzllNGYzM2JkYmY4MGIx
IiwKCgkvLyBUaGUgdGV4dCB0byByZXBsYWNlIHRoZSBsaW5rcyB3aXRoCglsaW5r
X3RleHQ6ICgvd2luZG93cy9pLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQpID8g
IiYjOTY1ODsiIDogIiYjOTg1MTsiKSArCgkJIiZuYnNwO1JldHdlZXQiLAoKCS8v
IFdoYXQgIyB0byBzaG93IChVc2UgImNsaWNrcyIgZm9yICMgb2YgY2xpY2tzIG9y
ICJub25lIiBmb3Igbm90aGluZykKCWNvdW50X3R5cGU6ICJjbGlja3MiLAoKCS8v
IFR3ZWV0IFByZWZpeCB0ZXh0CgkvLyAiUlQgQGplcmVzaWcgIiB3b3VsZCByZXN1
bHQgaW46ICJSVCBAamVyZXNpZyBMaW5rIFRpdGxlIGh0dHA6Ly9iaXQubHkvYXNk
ZiIKCXByZWZpeDogIiIsCgoJLy8gU3R5bGUgaW5mb3JtYXRpb24KCXN0eWxpbmc6
ICJhLnJldHdlZXQgeyBmb250OiAxMnB4IEhlbHZldGljYSxBcmlhbDsgY29sb3I6
ICMwMDA7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyOiAwcHg7IH0iICsK
CQkiYS5yZXR3ZWV0IHNwYW4geyBjb2xvcjogI0ZGRjsgYmFja2dyb3VuZDogIzk0
Q0MzRDsgbWFyZ2luLWxlZnQ6IDJweDsgYm9yZGVyOiAxcHggc29saWQgIzQzQTUy
QTsgLW1vei1ib3JkZXItcmFkaXVzOiAzcHg7IC13ZWJraXQtYm9yZGVyLXJhZGl1
czogM3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IHBhZGRpbmc6IDNweDsgfSIgKwoJ
CSJhLnZlcnQgeyBkaXNwbGF5OiBibG9jazsgdGV4dC1hbGlnbjogY2VudGVyOyBm
b250LXNpemU6IDE2cHg7IGZsb2F0OiBsZWZ0OyBtYXJnaW46IDRweDsgfSIgKwoJ
CSJhLnJldHdlZXQgc3Ryb25nLnZlcnQgeyBkaXNwbGF5OiBibG9jazsgbWFyZ2lu
LWJvdHRvbTogNHB4OyBiYWNrZ3JvdW5kOiAjRjVGNUY1OyBib3JkZXI6IDFweCBz
b2xpZCAjRUVFOyAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsgLXdlYmtpdC1ib3Jk
ZXItcmFkaXVzOiAzcHg7IGJvcmRlci1yYWRpdXM6IDNweDsgcGFkZGluZzogM3B4
OyB9IiArCgkJImEucmV0d2VldCBzcGFuLnZlcnQgeyBkaXNwbGF5OiBibG9jazsg
Zm9udC1zaXplOiAxMnB4OyBtYXJnaW4tbGVmdDogMHB4OyB9Igp9OwoKLy8vLy8v
Ly8vLy8vLy8vLyBObyBOZWVkIHRvIENvbmZpZ3VyZSBCZWxvdyBIZXJlIC8vLy8v
Ly8vLy8vLy8vLy8KCnZhciBsb2FkQ291bnQgPSAxOwoKLy8gQXN5bmNocm9ub3Vz
bHkgbG9hZCB0aGUgQml0Lmx5IEphdmFTY3JpcHQgQVBJCi8vIElmIGl0IGhhc24n
dCBiZWVuIGxvYWRlZCBhbHJlYWR5CmlmICggdHlwZW9mIEJpdGx5Q2xpZW50ID09
PSAidW5kZWZpbmVkIiApIHsKCXZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVu
dHNCeVRhZ05hbWUoImhlYWQiKVswXSB8fAoJCWRvY3VtZW50LmRvY3VtZW50RWxl
bWVudDsKCXZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3Jp
cHQiKTsKCXNjcmlwdC5zcmMgPSAiaHR0cDovL2JpdC5seS9qYXZhc2NyaXB0LWFw
aS5qcz92ZXJzaW9uPWxhdGVzdCZsb2dpbj0iICsKCQlSZXR3ZWV0SlMuYml0bHlf
dXNlciArICImYXBpS2V5PSIgKyBSZXR3ZWV0SlMuYml0bHlfa2V5OwoJc2NyaXB0
LmNoYXJTZXQgPSAidXRmLTgiOwoJaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICk7
CgoJdmFyIGNoZWNrID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQlpZiAoIHR5
cGVvZiBCaXRseUNCICE9PSAidW5kZWZpbmVkIiApIHsKCQkJY2xlYXJJbnRlcnZh
bCggY2hlY2sgKTsKCQkJaGVhZC5yZW1vdmVDaGlsZCggc2NyaXB0ICk7CgkJCWxv
YWRlZCgpOwoJCX0KCX0sIDEwKTsKCglsb2FkQ291bnQgPSAwOwp9CgppZiAoIGRv
Y3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgKSB7Cglkb2N1bWVudC5hZGRFdmVudExp
c3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgbG9hZGVkLCBmYWxzZSk7Cgp9IGVs
c2UgaWYgKCB3aW5kb3cuYXR0YWNoRXZlbnQgKSB7Cgl3aW5kb3cuYXR0YWNoRXZl
bnQoIm9ubG9hZCIsIGxvYWRlZCk7Cn0KCmZ1bmN0aW9uIGxvYWRlZCgpewoJLy8g
TmVlZCB0byB3YWl0IGZvciBkb2MgcmVhZHkgYW5kIGpzIHJlYWR5CglpZiAoICsr
bG9hZENvdW50IDwgMiApIHsKCQlyZXR1cm47Cgl9CgoJdmFyIGVsZW1zID0gW10s
IHVybEVsZW0gPSB7fSwgaGFzaFVSTCA9IHt9OwoKCUJpdGx5Q0Iuc2hvcnRlblJl
c3BvbnNlID0gZnVuY3Rpb24oZGF0YSkgewoJCWZvciAoIHZhciB1cmwgaW4gZGF0
YS5yZXN1bHRzICkgewoJCQl2YXIgaGFzaCA9IGRhdGEucmVzdWx0c1t1cmxdLnVz
ZXJIYXNoOwoJCQloYXNoVVJMW2hhc2hdID0gdXJsOwoKCQkJdmFyIGVsZW1zID0g
dXJsRWxlbVsgdXJsIF07CgoJCQlmb3IgKCB2YXIgaSA9IDA7IGkgPCBlbGVtcy5s
ZW5ndGg7IGkrKyApIHsKCQkJCWVsZW1zW2ldLmhyZWYgKz0gaGFzaDsKCQkJfQoK
CQkJaWYgKCBSZXR3ZWV0SlMuY291bnRfdHlwZSA9PT0gImNsaWNrcyIgKSB7CgkJ
CQlCaXRseUNsaWVudC5zdGF0cyhoYXNoLCAnQml0bHlDQi5zdGF0c1Jlc3BvbnNl
Jyk7CgkJCX0KCQl9Cgl9OwoKCUJpdGx5Q0Iuc3RhdHNSZXNwb25zZSA9IGZ1bmN0
aW9uKGRhdGEpIHsKCQl2YXIgY2xpY2tzID0gZGF0YS5yZXN1bHRzLmNsaWNrcywg
aGFzaCA9IGRhdGEucmVzdWx0cy51c2VySGFzaDsKCQl2YXIgdXJsID0gaGFzaFVS
TFsgaGFzaCBdLCBlbGVtcyA9IHVybEVsZW1bIHVybCBdOwoKCQlpZiAoIGNsaWNr
cyA+IDAgKSB7CgkJCWZvciAoIHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsg
aSsrICkgewoJCQkJdmFyIHN0cm9uZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo
InN0cm9uZyIpOwoJCQkJc3Ryb25nLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVh
dGVUZXh0Tm9kZSggY2xpY2tzICsgIiAiICkgKTsKCQkJCWVsZW1zW2ldLmluc2Vy
dEJlZm9yZShzdHJvbmcsIGVsZW1zW2ldLmZpcnN0Q2hpbGQpOwoKCQkJCWlmICgg
LyhefFxzKXZlcnQoXHN8JCkvLnRlc3QoIGVsZW1zW2ldLmNsYXNzTmFtZSApICkg
ewoJCQkJCWVsZW1zW2ldLmZpcnN0Q2hpbGQuY2xhc3NOYW1lID0gZWxlbXNbaV0u
bGFzdENoaWxkLmNsYXNzTmFtZSA9ICJ2ZXJ0IjsKCQkJCX0KCQkJfQoJCX0KCgkJ
aGFzaFVSTFsgaGFzaCBdID0gdXJsRWxlbVsgdXJsIF0gPSBudWxsOwoJfTsKCglp
ZiAoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKSB7CgkJZWxlbXMg
PSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJyZXR3ZWV0Iik7Cgl9
IGVsc2UgewoJCXZhciB0bXAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFt
ZSgiYSIpOwoJCWZvciAoIHZhciBpID0gMDsgaSA8IHRtcC5sZW5ndGg7IGkrKyAp
IHsKCQkJaWYgKCAvKF58XHMpcmV0d2VldChcc3wkKS8udGVzdCggdG1wW2ldLmNs
YXNzTmFtZSApICkgewoJCQkJZWxlbXMucHVzaCggdG1wW2ldICk7CgkJCX0KCQl9
Cgl9CgoJaWYgKCBlbGVtcy5sZW5ndGggJiYgUmV0d2VldEpTLnN0eWxpbmcgKSB7
CgkJdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsK
CQlzdHlsZS50eXBlID0gInRleHQvY3NzIjsKCgkJdHJ5IHsKCQkJc3R5bGUuYXBw
ZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCBSZXR3ZWV0SlMuc3R5
bGluZyApICk7CgkJfSBjYXRjaCAoZSkgewoJCQlpZiAoIHN0eWxlLnN0eWxlU2hl
ZXQgKSB7CgkJCQlzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBSZXR3ZWV0SlMu
c3R5bGluZzsKCQkJfQoJCX0KCgkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCgg
c3R5bGUgKTsKCX0KCglmb3IgKCB2YXIgaSA9IDA7IGkgPCBlbGVtcy5sZW5ndGg7
IGkrKyApIHsKCQl2YXIgZWxlbSA9IGVsZW1zW2ldOwoKCQlpZiAoIC8oXnxccylz
ZWxmKFxzfCQpLy50ZXN0KCBlbGVtLmNsYXNzTmFtZSApICkgewoJCQllbGVtLmhy
ZWYgPSB3aW5kb3cubG9jYXRpb247CgkJCWVsZW0udGl0bGUgPSBkb2N1bWVudC50
aXRsZTsKCQl9CgoJCXZhciBvcmlnVGV4dCA9IGVsZW0udGl0bGUgfHwgZWxlbS50
ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCwKCQkJaHJlZiA9IGVsZW0uaHJl
ZjsKCgkJZWxlbS5pbm5lckhUTUwgPSAiPHNwYW4+IiArIFJldHdlZXRKUy5saW5r
X3RleHQgKyAiPC9zcGFuPiI7CgkJZWxlbS50aXRsZSA9ICIiOwoJCWVsZW0uaHJl
ZiA9ICJodHRwOi8vdHdpdHRlci5jb20vaG9tZT9zdGF0dXM9IiArCgkJCWVuY29k
ZVVSSUNvbXBvbmVudChSZXR3ZWV0SlMucHJlZml4ICsgb3JpZ1RleHQgKyAiIGh0
dHA6Ly9iaXQubHkvIik7CgoJCWlmICggdXJsRWxlbVsgaHJlZiBdICkgewoJCQl1
cmxFbGVtWyBocmVmIF0ucHVzaCggZWxlbSApOwoJCX0gZWxzZSB7CgkJCXVybEVs
ZW1bIGhyZWYgXSA9IFsgZWxlbSBdOwoJCQlCaXRseUNsaWVudC5zaG9ydGVuKGhy
ZWYsICdCaXRseUNCLnNob3J0ZW5SZXNwb25zZScpOwoJCX0KCX0KCn0KCn0pKCk7
Cg==

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline; filename=short.sm.jpg
Content-Type: image/jpeg; name=short.sm.jpg
Content-Location: http://ejohn.org/files/short.sm.jpg
Content-Transfer-Encoding: Base64

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

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline; filename=ejohn-main-drop.gif
Content-Type: image/gif; name=ejohn-main-drop.gif
Content-Location: http://ejohn.org/images/ejohn-main-drop.gif
Content-Transfer-Encoding: Base64

R0lGODlh9AINAKUgADpMYj9SZ0JadE9mgVRwkVx4mWN/oGOEq4KCgoqKio6Ojpub
m6Kioqenp7Kysri4uL29vcTExMvLy9DQ0NXV1dnZ2d3d3eDg4OXl5enp6ezs7O7u
7vHx8fT09Pb29v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAACH5BAEAACAALAAAAAD0Ag0AAAb+wEQCQUQIj8ikUsFsOp/Q
qHRKrVqv2Kx2y+16v+CweEwum8/otHrNbmeVcHhxTqcD7vi8fs/v+/EMC4KDggyG
h4iJDYuMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ycia+IhLKzT3gB
twECuru8vb6/wL0Ow8TFD8fIyckQzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm
5+jp6uvs7d3K8MjF88OTd7kCA/r7/P3+/wD/RRhIsOBACQgTKkQ4oaHDhxAjSpxI
saLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqVLjwtjSjBoMBo8APgGENjJs6f+
z59AgwKNSKGoUQoVkia1wLSpU6YXokqdSrWq1atYs2rdyrWr169gw4odS7as2bNo
06pdy7at27dw48q1+rSuBaVJjxqNGNMgznw7CwgeTLiw4cOIDSt1ShWD48cYMkie
TDmDhsuYM2vezLmz58+gQ4seTbq06dOoU6tezbq169ewY8ueTbu27du4OVfeDfkx
Vad49T6UgFMnAcEGkitfzry58+fML0CujHmDdescsmvvwL27dw/gw4sfT768+fPo
06tfz769+/fw48ufT7++/fv48+vfz7+///8AAujdgB1op9111mFWGWRTNaVUUcUd
V4ABB1Ro4YUYZqjhhhj+UnbZdQYOKN4HJJZo4okopqjiiiy26OKLMMYo44w01mjj
jTjmqOOOPPbo449ABinkkEQWmaN4Axp43WWUMRiVUwAANuEBIFRp5ZVYZqnlllha
pgGI2X0HnpFklmnmmWimqeaabLbp5ptwxmljeN4dmKAGTTrWYJQ6Tcnln4AC6iWY
HIjpgZyIJqrooow26uijkEYKJ53d2bkBk5P5JpUFfB5HYaCghlrloNiF2V14kqaq
6qqsturqq7DGSil3lmIqmaZPduqnqLxySeoG2506ZqzEFmvsscgmq6yrsxaY3ZJ4
Zqrnprp+2uu1XX5YaqHCHrrst+CGK+645JZrYrMNtUZ767S5SmkttvAGAQA7

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline; filename=ninja.74.jpg
Content-Type: image/jpeg; name=ninja.74.jpg
Content-Location: http://ejohn.org/files/ninja.74.jpg
Content-Transfer-Encoding: Base64

/9j/4AAQSkZJRgABAQEBLAEsAAD/4RJIaHR0cDovL25zLmFkb2JlLmNvbS94YXAv
MS4wLwA8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pO
VGN6a2M5ZCc/Pgo8P2Fkb2JlLXhhcC1maWx0ZXJzIGVzYz0iQ1IiPz4KPHg6eGFw
bWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLycgeDp4YXB0az0nWE1QIHRvb2xr
aXQgMi44LjItMzMsIGZyYW1ld29yayAxLjUnPgo8cmRmOlJERiB4bWxuczpyZGY9
J2h0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMnIHht
bG5zOmlYPSdodHRwOi8vbnMuYWRvYmUuY29tL2lYLzEuMC8nPgoKIDxyZGY6RGVz
Y3JpcHRpb24gYWJvdXQ9J3V1aWQ6YjIwZmQ4MzEtZWIzZC0xMWRjLTgyNzItYmE3
OGQwZTNkODEyJwogIHhtbG5zOnhhcE1NPSdodHRwOi8vbnMuYWRvYmUuY29tL3hh
cC8xLjAvbW0vJz4KICA8eGFwTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90
b3Nob3A6YjIwZmQ4MmYtZWIzZC0xMWRjLTgyNzItYmE3OGQwZTNkODEyPC94YXBN
TTpEb2N1bWVudElEPgogPC9yZGY6RGVzY3JpcHRpb24+Cgo8L3JkZjpSREY+Cjwv
eDp4YXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0ndyc/Pv/h
EA5FeGlmAABNTQAqAAAACAAHARIAAwAAAAEAAQAAARoABQAAAAEAAABiARsABQAA
AAEAAABqASgAAwAAAAEAAgAAATEAAgAAABQAAAByATIAAgAAABQAAACGh2kABAAA
AAEAAACcAAAAyAAAASwAAAABAAABLAAAAAFBZG9iZSBQaG90b3Nob3AgNy4wADIw
MDg6MDM6MDYgMDA6Mjk6MjkAAAAAA6ABAAMAAAAB//8AAKACAAQAAAABAAAHTKAD
AAQAAAABAAAJ/AAAAAAAAAAGAQMAAwAAAAEABgAAARoABQAAAAEAAAEWARsABQAA
AAEAAAEeASgAAwAAAAEAAgAAAgEABAAAAAEAAAEmAgIABAAAAAEAAA7gAAAAAAAA
AEgAAAABAAAASAAAAAH/2P/gABBKRklGAAECAQBIAEgAAP/tAAxBZG9iZV9DTQAC
/+4ADkFkb2JlAGSAAAAAAf/bAIQADAgICAkIDAkJDBELCgsRFQ8MDA8VGBMTFRMT
GBEMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAENCwsNDg0QDg4Q
FA4ODhQUDg4ODhQRDAwMDAwREQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwM
DAwMDAwM/8AAEQgAgABeAwEiAAIRAQMRAf/dAAQABv/EAT8AAAEFAQEBAQEBAAAA
AAAAAAMAAQIEBQYHCAkKCwEAAQUBAQEBAQEAAAAAAAAAAQACAwQFBgcICQoLEAAB
BAEDAgQCBQcGCAUDDDMBAAIRAwQhEjEFQVFhEyJxgTIGFJGhsUIjJBVSwWIzNHKC
0UMHJZJT8OHxY3M1FqKygyZEk1RkRcKjdDYX0lXiZfKzhMPTdePzRieUpIW0lcTU
5PSltcXV5fVWZnaGlqa2xtbm9jdHV2d3h5ent8fX5/cRAAICAQIEBAMEBQYHBwYF
NQEAAhEDITESBEFRYXEiEwUygZEUobFCI8FS0fAzJGLhcoKSQ1MVY3M08SUGFqKy
gwcmNcLSRJNUoxdkRVU2dGXi8rOEw9N14/NGlKSFtJXE1OT0pbXF1eX1VmZ2hpam
tsbW5vYnN0dXZ3eHl6e3x//aAAwDAQACEQMRAD8A9VSSSSUpJJZXW7bqL+lW1ucG
fbmsuAcQCy2rIoaHtH85+msp+l+ekoOqkkuG+tH1k+tmB9b8Dp3Tqqn4doD245cw
OyJltjLbrJdibX+3H2/8Z+m/ma0p7lJYv1Z+slfXMewW1HFz8Z2zJxXTLTJbvb6j
a7Nu5rmP3176bmWUraSUpJJJJSkkkklP/9D1VJJJJSlz/wBcep4uJi4mHcCbOoZN
dVMEgNc17LPVfZLPSqZ7fUs3roFwX13rxer/AFi6f0+25ra8Ftj7mGs2g+qze/fW
1zd3p00NdXV/hPV/4pApD2nTrn34GPfY1rHW1tfsaS4AOG5rd7w1zvauJ6j1j6uu
+v8Aa7qL/RPT6WUDIJeBvLbHem7Z/MbPte+nJ/0nqf8ABrQ6V9YM7M6XTTRtxDVV
SzeR6lhBrZ+lbuimtzn+qz9J62z0v0tf+DZ599Yun5GHmnqpe5teTa9hy3kuBud+
msqyW7drPWa/7RXt/wC7H+i2VKV1YXQiDLhJfQei9T+ruR9YPXwsll2Q7Htdbk+j
ZWHVsNQ/pN7dtjKmtr9Wz1v036L1fV9Gv0i/VZ7uudWzPrU8k45DsHpJEta7Fa5t
ll+xwa7fbkN/P+h6b61570/C6/mZLRjZIxHZWJ6TrqzuHp5DnenU9to3VMvxsb7f
+iZ6v2f0f8JcvWegXNGBVgupGNfh1VtsoY4vY1vurrdVc/3W1v8ARf73/pf9KhEk
7qyARNRNh00kkk5YsnSTJKf/0fVUkkklNTqnUK+m9PvzrRLaGyGzEuPtrZu1277H
NavNPq093Vut5PVrnS3HsN7SRDdz7NlZc135rNt1/wDXXefWPAxusej0XM9QYuW2
x9jqnbHNdUavRdv/AOMt/wC3Ni4TNp6X0TqGZ0/Byn5WHXVUM1lhFpNxdZSyp32d
jGepaz9F9nrb/wCCPQrUJ6F0eiZjHZV1LGl1banBrh+c0X2lj/5PtyHI/U8WttN9
wpba0t25OI9gfXf7vVpocxxH87klr69n6anJ/S1/o7cv1M3BfbidQzW5pFd5sDfR
aZDA4MvO639/+b9X9yxGpvr+sXUA2oF3SMM/pLDI9S36L/Td7d7X1udSx/8AorL7
P8JSjtH8AqrlZ06lt/V/EubXdnZTvVy8p7n2W794e+wt+03M2/Qr9leJjM/7iYtd
v6P7QrjM2rF6m/qjw4DDs+wktBc52PP6xc5g/wAGzLd6v+m9PG9T/C+iq3VvW6aw
vwCGG7bRVSIDGPf7Me9h2P8ATZS78zZ6ddf/AAP83Ttx8rod+Rj9VuFjWgZYvGjI
sH6xz9FrMoXf+Yep6TEAgmzb6LXYyxjbK3B7HgOY9pkEHVrmuH0muUlxv1R+s+Jk
5RwsVln7PsJbTkvAbX9oh1tlGP7/AFH13VNfax/pVVepVb/pV2KSl0kydJT/AP/S
9VSSSSU5P1n6FV17ouT092xtz2TjXPaD6doh9T/ouc33t/SbP8GuO+q/1XzejjL6
79ZMevGx8AevViMLbnk47P0N36M+gxmPORZi1/zr8jI9W30vs9K2+t3fX1+ZlN6R
isbhuDKqXOtqbZ7C512TVuFzWPyN/pfpm/o66mW/zq5zJ6X/AIzuqNt6b1AuqwLy
X3WPfjlpaNv6MvoPqtp9n821lXq/4T+csQ4uwK8QGlyA+urk/WfM6p1LqJsPTj0x
mdVTknG9VjjkUu9Xffa9oDabba6ceu2h30PR/S+oi9O+seTgYTRZ0y8VM1r9MnaZ
cSz3+jt+gfpu/rq1ZlV5t2P1CzJr9O5oobW0SKmbJa3c0vdZVRs2M/t2/wCG9ms+
9+M2u/pTm2WkivHcZLA6dv6WwD9FUz/Db/Ts2erXX70QN9UGW1gbeLz2R9Z+v5Pq
tux24jJBrrY0PsDHDdXufa5r93/DMoq/sIHUMj649ce298WsZJqe9lbWsaYe6GWb
2O+gz3rpOkUYdzrs+6sZJtufZXvaWMn6LsyytxfY7LyXt9Zu9/6tR6eMi9Xvvvfj
YeJfsa52/JbWAJZO2rG3N+j6tv0/8J6TLN6PD5reKuzR+r1/VKujs6PnMdXZ+1KL
PVdA9Oiy2mypmD6btzrn5XqWfQ9Ciq63/iV6auNYKqGUMv2tBya68UaHa8ODzk7v
+B2OXYpEUoG10kkkFP8A/9P1VJJJJSlx3+MHNz7qB0LELsTHyKjf1TqbmE11YTSa
8hle3+kZNn0Ps1X6Z+/0/wDtR6lXYrnPrL0/rfXbB0alv2HpRLLMrqBcx77Nh9Ru
NjY/06/0oq3ZFvp/Q+h/pkUgavBUdL6dkNvzq8bbh41jKaMcnUYtBqxrPWDdv6zl
Tfff+f69z/8ARo+b0qzpFt7cO19FRa+wta4Da0Da+xrn/wAzdZuqY2+r0/e/1P8A
Bo2Fh/s/B6p02sOP2N91DLHxL3tdZd6rmt+jvrON/wBuLocGunNzsV1rQ+u0Vghw
3Nc0N9evdPt92xKqryUTd1tZ+z9F53pv7V6hS3G6RX6lFQG54mumto9ux2U8bfZ9
PYz1L7P5z00X6wYNvROnHqDM6jNzxU1z8VgcGCveG78O1m/+atyWfzrf09f6X9Gv
TtrS3YQNsRt7R4Livr1T0ivoObeyoUZt91TSwuIJtHpv3+hS6yp1/wBj/O/0X+ER
MigANH6jZHVfrH02y2/0Xtxr/RFzwWvaSxtj7Wtb6ld1lfq/R/QL0MCABMx3K5L/
ABZMpZ9XHekRL8h7n1yC5hitm2xo/m97a/V2/wCjeutQvRS6SZJJT//U9VSSSSUp
JJRc3c0tkiREjkJKfOsbKdm5Vl9sNffY59hHBLiP+hXUyuhn8ipaf1OuZdlU4IaQ
3CoNjnAwC9r3Y1Ne2Pe2ul2/+v6a5u/I/wCbbGYfUqrBdWHV07WO/S+ntY57Hu2V
7fdW/wBln+FXQfUy5ud1I5GK8+lS19jzBjZdDm0F/wBDf9q9Zzv3Psn8tE9FDY/a
9wuA+sPWsPrl1Lum4Q6thYrrftFVthxq7bCK66r6LHNc+37P6dlfq+n9C39FYtf6
0dX6g7Ob9XMGlk5mM62/KsHqNZSS+m4fZo2/9evf6f8AwF6odM+quHiVPe2oOyIk
3w1z3GNj9Gsbsb7v5r6CiyZBHTqkDu8023qtXUT1GvFs6Q4h4dk9PDMqzcXb/Qdi
22soswmf6Jtb7PV/cXR9C+uXV6sa39sY2RlMaGnFtFVdWRb7nev6mNVb6H6Gn07P
8D/o/wBI9atXQWiptJq2CuDW8QNoj+17nIwwKqKz9no9zibHvD9Z/e0c5RHNOtAo
nwdLp3Ven9Uo9fBubcwfSA0c0n822p+2yp39dqtri77n9M65hDBf9nyOqOc7IY73
MtaxzK6/0b/zrLsn6ddtL2fzv6Sveu1UoyXAyrYXSH//1fVUkkziQCQNx7D/AHpK
XVbPvzaKg7CxRl2EmWGwVAAAu+m8P+k72KZdkGxu1jQwg7y46g/mw1v/AJNVc/Gc
arcm9xubRW59WMCa6y5o3j1dpLrN23/Cfof+CQtT57/jMvd1Gqm9/wCjoouFWOHM
cx49Stl19u8h9VrWWVsZ+j/9JWP3/qrhuqw8LBxrbcXHs6ZiZI9Mt3vc517spj32
su2tsdkMf6lHoWM/R+ksX6+5GVn9P6VScZuOdrns9F3qVlpDGssq2tr241k1+h6z
Kcl/6X9BV6P6bq+jWM+z/V7IrA224ZxSSCCP0VV+kx+dhuQK4OjRhspse4s9zyC5
xJc8x9AvscbLrdv5u+yxWW1tZJA9x5dEE/eg9R6rVgs3PY55PAa+lpI8R9puoYud
y/rpm0ZfpO6btoIJ/SWw/wBMHZ9oPosto+n/AIKmy7/Seqo+AC9dUal6PN6ljYLG
vyGXFrpj0aLbzpr7hiV37P7a4vqf+MYWXuxek9Psh0BuTaBU9xJP83iWU3vcz2/4
f0Vq/tzrGU5r67cWisMksh1kud9FxeSz3V/TZX/24qzOht+1VdRz7Tlu1bdtcX3g
OB9O6xrG73Mrd/gmM2U03fzfpVo1eh1TXdw6Oldc6t1mrJuc/MyafTd9pkVhmx1t
9NXqVM9Kn7Pb+5X+lXqE6Sq2FgYWI2cWv0w4AfSLtP7TnK0ngaFBOr//1vVUkkkl
KSSSSU8P9c/q7ldS6r9sGPlOFNDW42Ximu0tINj3UOwbb8P3+ptf6n6zVd/NW+n6
at/V3pXV2dE6dTk12svwsuu8/aSwEtc0ty21imy/9HX9ov8ARY70v+LrrXWpIUm2
L2B7S09wRxPIjuqX7E6bLSKo2GRGn/nP9n+wr6SNBDSf0jAe0sdWTWeWbnbSf3jD
lYox6sesVVN2tHmSf7T3bnu/tIqSVBSySdMkp//Z/+0UvFBob3Rvc2hvcCAzLjAA
OEJJTQQlAAAAAAAQAAAAAAAAAAAAAAAAAAAAADhCSU0D7QAAAAAAEAEsAAAAAQAB
ASwAAAABAAE4QklNBCYAAAAAAA4AAAAAAAAAAAAAP4AAADhCSU0EDQAAAAAABAAA
AB44QklNBBkAAAAAAAQAAAAeOEJJTQPzAAAAAAAJAAAAAAAAAAABADhCSU0ECgAA
AAAAAQAAOEJJTScQAAAAAAAKAAEAAAAAAAAAAThCSU0D9QAAAAAASAAvZmYAAQBs
ZmYABgAAAAAAAQAvZmYAAQChmZoABgAAAAAAAQAyAAAAAQBaAAAABgAAAAAAAQA1
AAAAAQAtAAAABgAAAAAAAThCSU0D+AAAAAAAcAAA////////////////////////
/////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////
////////////////A+gAAAAA/////////////////////////////wPoAAA4QklN
BAAAAAAAAAIAADhCSU0EAgAAAAAAAgAAOEJJTQQIAAAAAAAQAAAAAQAAAkAAAAJA
AAAAADhCSU0EHgAAAAAABAAAAAA4QklNBBoAAAAAAz8AAAAGAAAAAAAAAAAAAAn8
AAAHTAAAAAUATgBJAE4ASgBBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAA
AAAAAAdMAAAJ/AAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAA
AAABAAAAAAAAbnVsbAAAAAIAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAA
BAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAAJ
/AAAAABSZ2h0bG9uZwAAB0wAAAAGc2xpY2VzVmxMcwAAAAFPYmpjAAAAAQAAAAAA
BXNsaWNlAAAAEgAAAAdzbGljZUlEbG9uZwAAAAAAAAAHZ3JvdXBJRGxvbmcAAAAA
AAAABm9yaWdpbmVudW0AAAAMRVNsaWNlT3JpZ2luAAAADWF1dG9HZW5lcmF0ZWQA
AAAAVHlwZWVudW0AAAAKRVNsaWNlVHlwZQAAAABJbWcgAAAABmJvdW5kc09iamMA
AAABAAAAAAAAUmN0MQAAAAQAAAAAVG9wIGxvbmcAAAAAAAAAAExlZnRsb25nAAAA
AAAAAABCdG9tbG9uZwAACfwAAAAAUmdodGxvbmcAAAdMAAAAA3VybFRFWFQAAAAB
AAAAAAAAbnVsbFRFWFQAAAABAAAAAAAATXNnZVRFWFQAAAABAAAAAAAGYWx0VGFn
VEVYVAAAAAEAAAAAAA5jZWxsVGV4dElzSFRNTGJvb2wBAAAACGNlbGxUZXh0VEVY
VAAAAAEAAAAAAAlob3J6QWxpZ25lbnVtAAAAD0VTbGljZUhvcnpBbGlnbgAAAAdk
ZWZhdWx0AAAACXZlcnRBbGlnbmVudW0AAAAPRVNsaWNlVmVydEFsaWduAAAAB2Rl
ZmF1bHQAAAALYmdDb2xvclR5cGVlbnVtAAAAEUVTbGljZUJHQ29sb3JUeXBlAAAA
AE5vbmUAAAAJdG9wT3V0c2V0bG9uZwAAAAAAAAAKbGVmdE91dHNldGxvbmcAAAAA
AAAADGJvdHRvbU91dHNldGxvbmcAAAAAAAAAC3JpZ2h0T3V0c2V0bG9uZwAAAAAA
OEJJTQQRAAAAAAABAQA4QklNBBQAAAAAAAQAAAACOEJJTQQMAAAAAA78AAAAAQAA
AF4AAACAAAABHAAAjgAAAA7gABgAAf/Y/+AAEEpGSUYAAQIBAEgASAAA/+0ADEFk
b2JlX0NNAAL/7gAOQWRvYmUAZIAAAAAB/9sAhAAMCAgICQgMCQkMEQsKCxEVDwwM
DxUYExMVExMYEQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQ0L
Cw0ODRAODhAUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwM
DAwMDAwMDAwMDAwMDAz/wAARCACAAF4DASIAAhEBAxEB/90ABAAG/8QBPwAAAQUB
AQEBAQEAAAAAAAAAAwABAgQFBgcICQoLAQABBQEBAQEBAQAAAAAAAAABAAIDBAUG
BwgJCgsQAAEEAQMCBAIFBwYIBQMMMwEAAhEDBCESMQVBUWETInGBMgYUkaGxQiMk
FVLBYjM0coLRQwclklPw4fFjczUWorKDJkSTVGRFwqN0NhfSVeJl8rOEw9N14/NG
J5SkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2N0dXZ3eHl6e3x9fn9xEAAgIBAgQE
AwQFBgcHBgU1AQACEQMhMRIEQVFhcSITBTKBkRShsUIjwVLR8DMkYuFygpJDUxVj
czTxJQYWorKDByY1wtJEk1SjF2RFVTZ0ZeLys4TD03Xj80aUpIW0lcTU5PSltcXV
5fVWZnaGlqa2xtbm9ic3R1dnd4eXp7fH/9oADAMBAAIRAxEAPwD1VJJJJSkklldb
tuov6VbW5wZ9uay4BxALLasihoe0fzn6ayn6X56Sg6qSS4b60fWT62YH1vwOndOq
qfh2gPbjlzA7ImW2Mtusl2Jtf7cfb/xn6b+ZrSnuUli/Vn6yV9cx7BbUcXPxnbMn
FdMtMlu9vqNrs27muY/fXvpuZZStpJSkkkklKSSSSU//0PVUkkklKXP/AFx6ni4m
LiYdwJs6hk11UwSA1zXss9V9ks9Kpnt9SzeugXBfXevF6v8AWLp/T7bmtrwW2PuY
azaD6rN799bXN3enTQ11dX+E9X/ikCkPadOuffgY99jWsdbW1+xpLgA4bmt3vDXO
9q4nqPWPq676/wBruov9E9PpZQMgl4G8tsd6btn8xs+176cn/Sep/wAGtDpX1gzs
zpdNNG3ENVVLN5HqWEGtn6Vu6Ka3Of6rP0nrbPS/S1/4Nnn31i6fkYeaeql7m15N
r2HLeS4G536ayrJbt2s9Zr/tFe3/ALsf6LZUpXVhdCIMuEl9B6L1P6u5H1g9fCyW
XZDse11uT6NlYdWw1D+k3t22Mqa2v1bPW/TfovV9X0a/SL9Vnu651bM+tTyTjkOw
ekkS1rsVrm2WX7HBrt9uQ38/6HpvrXnvT8Lr+ZktGNkjEdlYnpOurO4enkOd6dT2
2jdUy/Gxvt/6Jnq/Z/R/wly9Z6Bc0YFWC6kY1+HVW2yhji9jW+6ut1Vz/dbW/wBF
/vf+l/0qESTurIBE1E2HTSSSTliydJMkp//R9VSSSSU1OqdQr6b0+/OtEtobIbMS
4+2tm7Xbvsc1q80+rT3dW63k9WudLcew3tJEN3Ps2VlzXfms23X/ANdd59Y8DG6x
6PRcz1Bi5bbH2Oqdsc11Rq9F2/8A4y3/ALc2LhM2npfROoZnT8HKflYddVQzWWEW
k3F1lLKnfZ2MZ6lrP0X2etv/AII9CtQnoXR6JmMdlXUsaXVtqcGuH5zRfaWP/k+3
Icj9Txa2033CltrS3bk4j2B9d/u9WmhzHEfzuSWvr2fpqcn9LX+jty/UzcF9uJ1D
NbmkV3mwN9FpkMDgy87rf3/5v1f3LEam+v6xdQDagXdIwz+ksMj1Lfov9N3t3tfW
51LH/wCisvs/wlKO0fwCquVnTqW39X8S5td2dlO9XLynufZbv3h77C37Tczb9Cv2
V4mMz/uJi12/o/tCuMzasXqb+qPDgMOz7CS0FznY8/rFzmD/AAbMt3q/6b08b1P8
L6KrdW9bprC/AIYbttFVIgMY9/sx72HY/wBNlLvzNnp11/8AA/zdO3Hyuh35GP1W
4WNaBli8aMiwfrHP0Wsyhd/5h6npMQCCbNvotdjLGNsrcHseA5j2mQQdWua4fSa5
SXG/VH6z4mTlHCxWWfs+wltOS8Btf2iHW2UY/v8AUfXdU19rH+lVV6lVv+lXYpKX
STJ0lP8A/9L1VJJJJTk/WfoVXXui5PT3bG3PZONc9oPp2iH1P+i5zfe39Js/wa47
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
KPfQA7jQFY0AD/40AcagH//Z

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline; filename=ejohn-side-book.gif
Content-Type: image/gif; name=ejohn-side-book.gif
Content-Location: http://ejohn.org/images/ejohn-side-book.gif
Content-Transfer-Encoding: Base64

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

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline; filename=twitter-74.png
Content-Type: image/png; name=twitter-74.png
Content-Location: http://ejohn.org/images/twitter-74.png
Content-Transfer-Encoding: Base64

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
FAAAAABJRU5ErkJggg==

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline; filename=widget.html
Content-Type: text/html; charset=UTF-8; name=widget.html
Content-Location: https://www.gittip.com/jeresig/widget.html
Content-Transfer-Encoding: 8bit

<!doctype html>
<html>
    <head>
        <style>
            BODY {
                margin: 0;
                padding: 0;
                overflow: hidden;
            }
            BUTTON {
                font: normal 12pt/12pt "Lato", sans-serif;
                text-decoration: none;

                width: auto;
                overflow: visible;
                display: inline-block;
                cursor: pointer;

                border: 1pt solid #999;
                -moz-border-radius: 7pt;
                -webkit-border-radius: 7pt;
                -o-border-radius: 7pt;
                -ms-border-radius: 7pt;
                -khtml-border-radius: 7pt;
                border-radius: 7pt;

                background: #F7F7F6 url("/assets/button-bg.png") repeat-x bottom left;
                background-image: -webkit-gradient( linear, 0% 0%, 0% 100%
                                                  , from(#F7F7F6)
                                                  , to(#999)
                                                   );
                background-image: -moz-linear-gradient(top, #F7F7F6, #CCC);
                background-image: linear-gradient(top, #F7F7F6, #999);

                padding: 4pt 12pt 6pt 11pt;
                margin: 0;
                vertical-align: middle;

                -moz-background-clip: padding;
                -webkit-background-clip: padding;
                -o-background-clip: padding-box;
                -ms-background-clip: padding-box;
                -khtml-background-clip: padding-box;
                background-clip: padding-box;
            }

            BUTTON.selected {
                border: 1px solid #0A382E;
                background: #2A8F79 url("/assets/button-bg.png") repeat-x bottom left;
                background-image: -webkit-gradient( linear, 0% 0%, 0% 100%
                                                  , from(#2A8F79)
                                                  , to(#0D4035)
                                                   );
                background-image: -moz-linear-gradient(top, #2A8F79, #0D4035);
                background-image: linear-gradient(top, #2A8F79, #0D4035);
            }

            BUTTON.small {
                font: normal 9pt/9pt "Lato", sans-serif;
                padding: 2pt 5pt 2.5pt;
                -moz-border-radius: 3pt;
                -webkit-border-radius: 3pt;
                -o-border-radius: 3pt;
                -ms-border-radius: 3pt;
                -khtml-border-radius: 3pt;
                border-radius: 3pt;
            }

            BUTTON::-moz-focus-inner {
                border: none;
                padding: 0;
            }

            BUTTON:focus {
                outline: none;
            }

            BUTTON, BUTTON:visited {
                color: #888;
            }

            BUTTON.selected, BUTTON.selected:visited,
            BUTTON:hover, BUTTON:hover:visited,
            BUTTON:focus, BUTTON:focus:visited,
            BUTTON:active, BUTTON:active:visited {
                color: white;
            }

            BUTTON:hover, BUTTON:focus {
                border: 1px solid #0A382E;
                background-image: url("/assets/button-bg.over.png");
                background-image: -webkit-gradient( linear, 0% 0%, 0% 100%
                                                  , from(#2A8F79)
                                                  , to(#04221B)
                                                   );
                background-image: -moz-linear-gradient(top, #2A8F79, #04221B);
                background-image: linear-gradient(top, #2A8F79, #04221B));
            }
            BUTTON:active {
                /* http://somadesign.ca/demos/buttons-redux.html */
                -moz-box-shadow
                    :0 .33em 1em rgba(0,0,0,.67) inset,
                    1px 1px 0 rgba(255,255,255,.25) inset,
                    -1px -1px 0 rgba(255,255,255,.25) inset;
                -webkit-box-shadow:
                    0 .33em 2em rgba(0,0,0,.67) inset,
                    1px 1px 0 rgba(255,255,255,.25) inset,
                    -1px -1px 0 rgba(255,255,255,.25) inset;
                box-shadow:
                    0 .33em 2em rgba(0,0,0,.67) inset,
                    1px 1px 0 rgba(255,255,255,.25) inset,
                    -1px -1px 0 rgba(255,255,255,.25) inset;
            }

            BUTTON {
                position: absolute;
                top: 0;
                left: 0;
            }
        </style>
    </head>
    <body>
        <button class="small selected" onclick="javascript: window.open('./');">
            Gittip
        </button>
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-247427-33']);
          _gaq.push(['_setDomainName', '.gittip.com']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();

        </script>
    </body>
</html>

------------jsL82b8kZsUYesz4JwkAQx
Content-Disposition: inline
Content-Type: image/png
Content-Location: https://www.gittip.com/assets/button-bg.png
Content-Transfer-Encoding: Base64

iVBORw0KGgoAAAANSUhEUgAAAAgAAADICAYAAADV56A/AAAABGdBTUEAAK/INwWK
6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAPOSURBVHja
Yvz//z8DPgAQQEwMBABAABFUABBABBUABBBBBQABRFABQAARVAAQQAQVAAQQQQUA
AURQAUAAEVQAEEAEFQAEEEEFAAFEUAFAABFUABBABBUABBBBBQABRFABQAARVAAQ
QAQVAAQQQQUAAURQAUAAEVQAEEAEFQAEEEEFAAFEUAFAABFUABBABBUABBBBBQAB
RFABQAARVAAQQAQVAAQQQQUAAURQAUAAEVQAEEAEFQAEEEEFAAFEUAFAABFUABBA
BBUABBBBBQABRFABQAARVAAQQAQVAAQQQQUAAURQAUAAEVQAEEAEFQAEEEEFAAFE
UAFAABFUABBABBUABBBBBQABRFABQAARVAAQQAQVAAQQQQUAAURQAUAAEVQAEEAE
FQAEEEEFAAFEUAFAABFUABBABBUABBBBBQABRFABQAARVAAQQAQVAAQQQQUAAURQ
AUAAEVQAEEAEFQAEEEEFAAFEUAFAABFUABBABBUABBBBBQABRFABQAARVAAQQAQV
AAQQQQUAAURQAUAAEVQAEEAEFQAEEEEFAAFEUAFAABFUABBABBUABBBBBQABRFAB
QAARVAAQQAQVAAQQQQUAAURQAUAAEVQAEEAEFQAEEEEFAAFEUAFAABFUABBABBUA
BBBBBQABRFABQAARVAAQQAQVAAQQQQUAAURQAUAAEVQAEEAEFQAEEEEFAAFEUAFA
ABFUABBABBUABBBBBQABRFABQAARVAAQQAQVAAQQQQUAAURQAUAAEVQAEEAEFQAE
EEEFAAFEUAFAABFUABBABBUABBBBBQABRFABQAARVAAQQAQVAAQQQQUAAURQAUAA
EVQAEEAEFQAEEEEFAAFEUAFAABFUABBABBUABBBBBQABRFABQAARVAAQQAQVAAQQ
QQUAAURQAUAAEVQAEEAEFQAEEEEFAAFEUAFAABFUABBABBUABBBBBQABRFABQAAR
VAAQQIxQjBMABBALIQUAAcRCyBqAACJoAkAAEVQAEEAErQAIIIIKAAKIoAKAACKo
ACCACCoACCCCCgACiKACgAAiqAAggAgqAAggggoAAgikgBmfAoAAImgCQAARVAAQ
QAStAAgggiYABBBBEwACiKAJAAFE0ASAACKoACCACFoBEEAEFQAEEEErAAKIoAKA
ACJoBUAAETQBIIAImgAQQARNAAgggiYABBBBBQABRNAKgAAiaAJAABFUABBABBUA
BBBBBQABRFABQAARVAAQQAQVAAQQQQUAAURQAUAAEVQAEEAEC1KAACKoACCACFoB
EEAETQAIMACx8QVRQgRT/gAAAABJRU5ErkJgggo=

------------jsL82b8kZsUYesz4JwkAQx--
